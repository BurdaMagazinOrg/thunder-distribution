diff --git a/CHANGELOG.txt b/CHANGELOG.txt
index 2b12ae5..2650fa4 100644
--- a/CHANGELOG.txt
+++ b/CHANGELOG.txt
@@ -1,4 +1,116 @@
 
+Blazy 8.x-1.0-dev, 2016-11-28
+-----------------------------
+- Added BlazyGrid doc comments.
+- Cleaned up unused imports, and no-longer relevant stuffs.
+
+Blazy 8.x-1.0-dev, 2016-11-27
+-----------------------------
+- Fixed for fatal error with disconnected internet when ME Facebook kicks in,
+  and resorted to static thumbnails to avoid broken displays instead.
+
+Blazy 8.x-1.0-dev, 2016-11-26
+-----------------------------
+- Added doc comments.
+- Added basic support for other media entity: Instagram, Twitter, etc.
+- Cleaned up variables.
+
+Blazy 8.x-1.0-dev, 2016-11-24
+-----------------------------
+- Removed unwanted [data-LIGHTBOX-gallery] attributes from Views wrapper when
+  the Views style already supports Grid gallery, such as Blazy, Slick Browser,
+  or Slick Views with Grid display.
+
+Blazy 8.x-1.0-dev, 2016-11-23
+-----------------------------
+- Decluttered Blazy form when Vanilla is enabled.
+- Added empty option for Blazy Views field for Lightbox image style.
+- Fixed 404 warning for when Video thumbnail is missing.
+- Cleaned out BlazyManager::buildDataBlazy() as top-level attributes cannot be
+  inherited by child elements with irregular image sizes. This is now only
+  relevant for CSS background since Blazy v1.6.0.
+- Fixed for Aspect ratio and Breakpoints options being disabled/invisible when
+  Responsive image not installed.
+
+Blazy 8.x-1.0-dev, 2016-11-21
+-----------------------------
+- Cleaned up Entity Reference field options from less relevant options. If you
+  need to bring them back, or clean out more, implement
+  hook_blazy_excluded_field_options_alter().
+  The excluded fields:
+  field_document_size field_id field_media_in_library field_mime_type
+  field_source field_tweet_author field_tweet_id field_tweet_url
+  field_media_video_embed_field field_instagram_shortcode field_instagram_url
+- Fixed for lightbox library.
+- Added Lightbox video style to replace Dimension option to allow swiping
+  video lightbox such as PhotoSwipe.
+- Removed hook_NAMESPACE_image_alter() into hook_blazy_alter() to swap all
+  Blazy-related image, including Slick, etc., once.
+- Fixed for duplicated grid__content class.
+
+Blazy 8.x-1.0-dev, 2016-11-17
+-----------------------------
+- Made lightboxes easier to extend.
+- Decoupled grid utilities into \Drupal\blazy\BlazyGrid.
+- Decoupled lightbox utilities into \Drupal\blazy\BlazyLightbox.
+- Added missing Lightbox image style for Views field.
+- Moved BlazyAdminFormatterBase::mediaSwitchForm() into BlazyAdminBase to re-use
+  for Views fields outside field formatters.
+- Fixed for regression for when no Image style is provided.
+
+Blazy 8.x-1.0-dev, 2016-11-12
+-----------------------------
+- #2752865 by tjwelde, lilee, killua99: Support PICTURE element for the
+  responsive image.
+
+Blazy 8.x-1.0-dev, 2016-11-10
+-----------------------------
+- Triggered packager.
+- Added Views style plugin Blazy Grid.
+- Added [data-blazy] attribute to Views container if having Blazy Views fields.
+- Fixed for Blazy regression being overriden by empty breakpoints.
+
+Blazy 8.x-1.0-dev, 2016-11-09
+-----------------------------
+- A few more cleanups.
+- #2825706 by mErilainen: Invalid translation language.
+- Removed unwanted Grid and Display style options from non-multi-value fields.
+- A few cleanups, typos, descriptions, etc.
+
+Blazy 8.x-1.0-dev, 2016-10-31
+-----------------------------
+- Added support for multi-breakpoint aspect ratio with irregular sizes.
+- Added blazy.column.css.
+- Optimized blazy.grid.css.
+- Added Display style to have a pure and simple CSS Masonry like grid display,
+  and Grid Foundation from within Blazy formatters, not only Slick.
+- Moved grid form into BlazyAdminBase for re-usability by Blazy, not only Slick.
+- Added support for video colorbox.
+- Added colorbox video gallery support when using Blazy Views fields.
+- Fixed regression with numeric aspect ratio.
+
+Blazy 8.x-1.0-dev, 2016-10-25
+-----------------------------
+- Minified please. Never commit anything when you are tired.
+- Added optional "Blazy Image with Media" formatter to retain VEM/ME within
+  image/file ER environment if VEM/ME is installed.
+- Added optional supports for Media Entity when using BlazyViewsFieldFile().
+- Deprecated methods for clarity and to reduce road blocks to theme_blazy():
+  o BlazyManager::getUrlDimensions() for Blazy::buildUrl()
+  o BlazyManager::getUrlBreakpoints() for Blazy::buildBreakpointAttributes()
+  o BlazyManager::getDescriptors() for BlazyManager::widthFromDescriptors()
+
+- Decoupled Blazy service from BlazyManager to reduce complexity. This allows
+  moving individual item methods into Blazy out of the BlazyManager so to use
+  theme_blazy() doesn't need to travel around into BlazyManager::getImage().
+- Updated blazy JS files.
+- Fixed for the new "Use CSS background" option with multi-serving images.
+- Moved Slick grid into Blazy to be re-usable for divities, not only list.
+- Moved Blazy Views field library to hook_views_pre_render() to reduce function
+  calls.
+- Re-used Views field image and entity view builder approach for Slick Browser.
+- Added Twig block section for easy partial extensions, and reduce dups.
+
 Blazy 8.x-1.0-dev, 2016-09-29
 -----------------------------
 - Marked it Beta4.
diff --git a/README.txt b/README.txt
index 29965e6..da59921 100644
--- a/README.txt
+++ b/README.txt
@@ -8,15 +8,19 @@ data usage if they don't browse the whole page.
 FEATURES
 o Supports core Image.
 o Supports core Responsive image.
-o Supports Colorbox/Photobox.
+o Supports Colorbox/Photobox, also multimedia lightboxes.
 o Supports Retina display.
 o Multi-serving images for configurable XS, SM and MD breakpoints, almost
   similar to core Responsive image, only less complex.
-o CSS background lazyloading, see Mason, GridStack, and future Slick carousel.
-o IFRAME urls via custom coded.
+o CSS background lazyloading, see Mason, GridStack, and Slick carousel.
+o IFRAME urls via via custom coded, Blazy Image with Media entity via Video
+  Embed Media, or see Slick Video, Slick Media.
 o Delay loading for below-fold images until 100px (configurable) before they are
   visible at viewport.
 o A simple effortless CSS loading indicator.
+o Views fields for File ER and Media Entity integration, optional.
+o Views style plugin Blazy Grid.
+o Field formatters: Blazy, and Blazy Image with Media integration, optional.
 o It doesn't take over all images, so it can be enabled as needed via Blazy
   formatter, or its supporting modules.
 
@@ -56,9 +60,13 @@ And load the blazy library accordingly.
 
 MODULES THAT INTEGRATE WITH OR REQUIRE BLAZY
 o GridStack
+o Intense
 o Mason
 o Slick (D8 only by now)
 o Slick Views (D8 only by now)
+o Slick Media
+o Slick Video
+o Slick Browser
 Most duplication efforts from the above modules will be merged into Blazy.
 
 
@@ -68,43 +76,41 @@ https://www.drupal.org/project/lazyloader
 
 
 TROUBLESHOOTING
-Resing is not supported. Just reload the page.
+Resizing is not supported. Just reload the page.
 
 VIEWS INTEGRATION
-Be sure to check "Use field template" under "Style settings" when using Views,
-  if trouble with Blazy Formatter as stand alone Views output.
-  On the contrary, be sure to uncheck "Use field template", when Blazy formatter
+Blazy provides two simple Views fields for File ER and Media Entity.
+
+When using Blazy formatter within Views, check "Use field template" under
+  "Style settings", if trouble with Blazy Formatter as stand alone Views output.
+  On the contrary, uncheck "Use field template", when Blazy formatter
   is embedded inside another module such as GridStack so to pass the renderable
   array accordingly.
   This is a Views common gotcha with field formatter, so be aware of it.
   This confusion should be solved later when Blazy formatter is aware of Views.
 
 MIN-WIDTH
-If the images appear to be shrinked within a floating container, be sure to add
+If the images appear to be shrinked within a floating container, add
   some expected width or min-width to the parent container via CSS accordingly.
   Non-floating image parent containers aren't affected.
 
 MIN-HEIGHT
-Be sure to add a min-height CSS to individual element to avoid layout reflow
-  if not using Aspect ratio or when Aspect ratio is not supported such as with
-  Responsive image. Otherwise some collapsed images containers will defeat
-  the purpose of lazyloading. When using CSS background, the container may also
-  be collapse.
-  Both layout reflow and lazyloading delay issues are actually tacken care of
-  if having Aspect ratio enabled in the first place.
-
-The blazy.ratio.css adds this by default to prevent collapsing field container:
-  .blazy--ratio {
-    min-width: 50%;
-  }
+Add a min-height CSS to individual element to avoid layout reflow if not using
+  Aspect ratio or when Aspect ratio is not supported such as with Responsive
+  image. Otherwise some collapsed images containers will defeat the purpose of
+  lazyloading. When using CSS background, the container may also be collapsed.
+  Both layout reflow and lazyloading delay issues are actually taken care of
+  if Aspect ratio is enabled in the first place.
 
-Adjust, and override it accordingly.
+Adjust, and override it blazy CSS files accordingly.
 
 
 ROADMAP/TODO
 [x] Adds a basic configuration to load the library, probably an image formatter.
     2/24/2016
-o Media entity image/video, and Video embed field lazyloading, if any.
+[x] Media entity image/video, and Video embed field lazyloading, if any.
+    10/25/2016
+    Added both simple Blazy Media formatter and Views field Media Entity.
 o Makes a solid lazyloading solution for IMG, DIV, IFRAME tags.
 
 
@@ -114,9 +120,20 @@ some code cleanup, and optimization where needed. Patches are very much welcome.
 
 Alpha and Beta releases are for developers only. Be aware of possible breakage.
 
-However if it is broken, unless an update is explicitly required, clearing cache
-should fix most issues durig DEV phases. Always visit prior to any update:
-/admin/config/development/performance
+
+UPDATE SOP:
+Visit any of the following URLs when updating Blazy, or its related modules.
+
+1. /admin/config/development/performance
+  Unless an update is required, clearing cache should fix most issues.
+
+  o Hit "Clear all caches" button once the new Blazy in place.
+  o Regenerate CSS and JS as the latest fixes may contain changes to the assets.
+
+2. /admin/reports/status
+  Check for any pending update, and run /update.php from the brower address bar.
+
+3. If Twig templates are customized, compare against the latest.
 
 
 AUTHOR/MAINTAINER/CREDITS
diff --git a/blazy.libraries.yml b/blazy.libraries.yml
index 1a4149e..b26b5f7 100644
--- a/blazy.libraries.yml
+++ b/blazy.libraries.yml
@@ -10,19 +10,26 @@ blazy:
     /libraries/blazy/blazy.min.js: { weight: -4, minified: true }
 
 loading:
-  version: VERSION
   css:
     component:
       css/components/blazy.loading.css: {}
 
 ratio:
-  version: VERSION
   css:
     component:
       css/components/blazy.ratio.css: {}
 
+grid:
+  css:
+    component:
+      css/components/blazy.grid.css: {}
+
+column:
+  css:
+    component:
+      css/components/blazy.column.css: {}
+
 load:
-  version: VERSION
   js:
     js/blazy.load.min.js: { weight: -1, minified: true }
   dependencies:
@@ -34,7 +41,6 @@ load:
     - blazy/loading
 
 media:
-  version: VERSION
   js:
     js/blazy.media.min.js: {}
   css:
@@ -47,22 +53,26 @@ media:
     - core/jquery.once
     - blazy/ratio
 
+lightbox:
+  css:
+    component:
+      css/components/blazy.lightbox.css: {}
+
 colorbox.skin:
-  version: VERSION
   css:
     component:
       css/components/blazy.colorbox.css: {}
-      css/components/blazy.lightbox.css: {}
   dependencies:
     - colorbox/colorbox
 
 colorbox:
-  version: VERSION
   js:
     js/blazy.colorbox.min.js: { minified: true }
   dependencies:
     - core/drupal
     - core/drupalSettings
+    - blazy/load
+    - blazy/ratio
     - blazy/colorbox.skin
 
 photobox:
@@ -78,18 +88,16 @@ photobox:
   css:
     base:
       /libraries/photobox/photobox/photobox.css: {}
-    component:
-      css/components/blazy.lightbox.css: {}
   dependencies:
     - core/jquery
     - core/jquery.once
     - core/drupal
     - core/drupalSettings
+    - blazy/load
     # use photobox when available instead.
     # - photobox/photobox
 
 admin:
-  version: VERSION
   js:
     js/blazy.admin.min.js: { minified: true }
   css:
diff --git a/blazy.module b/blazy.module
index f7637a0..9792a56 100644
--- a/blazy.module
+++ b/blazy.module
@@ -27,11 +27,6 @@ function template_preprocess_blazy(&$variables) {
  * Overrides variables for responsive-image.html.twig templates.
  */
 function blazy_preprocess_responsive_image(&$variables) {
-  // Do not proceed if picture element.
-  if (!$variables['output_image_tag']) {
-    return;
-  }
-
   $config = Blazy::getConfig();
 
   // Do not proceed if disabled globally, or not a Blazy formatter.
@@ -40,15 +35,36 @@ function blazy_preprocess_responsive_image(&$variables) {
   }
 
   // We are here either using Blazy, or core Responsive image formatters.
-  $srcset = $variables['attributes']['srcset'];
-  $srcset_values = $srcset->value();
+  // Is picture element.
+  if (!$variables['output_image_tag']) {
+    // Prepare all <picture> [data-srcset] attributes on <source> elements.
+    _blazy_preprocess_responsive_image_picture_sources($variables);
+
+    // Fetches the picture element fallback URI, and empty it later.
+    $fallback_uri = $variables['img_element']['#srcset'][0]['uri'];
 
-  $variables['attributes']['data-srcset'] = $srcset_values;
+    // Cleans up the no-longer relevant attributes for controlling element.
+    unset($variables['attributes']['data-srcset'], $variables['img_element']['#attributes']['data-srcset']);
+    $variables['img_element']['#srcset'] = '';
+    // Prevents invalid IMG tag when one pixel placeholder is disabled.
+    $variables['img_element']['#uri'] = Blazy::PLACEHOLDER;
+  }
+  else {
+    $srcset = $variables['attributes']['srcset'];
+    $srcset_values = $srcset->value();
+    $fallback_uri = $variables['img_element']['#uri'];
+
+    $variables['attributes']['data-srcset'] = $srcset_values;
+    $variables['img_element']['#attributes']['data-srcset'] = $srcset_values;
+    $variables['img_element']['#attributes']['srcset'] = '';
+  }
+
+  // Blazy needs controlling element to have a fallback [data-src], else error.
+  $variables['img_element']['#attributes']['data-src'] = $fallback_uri;
   $variables['img_element']['#attributes']['class'][] = 'b-lazy b-responsive';
-  $variables['img_element']['#attributes']['data-srcset'] = $srcset_values;
-  $variables['img_element']['#attributes']['srcset'] = '';
 
-  $variables['img_element']['#attributes']['data-src'] = $variables['img_element']['#uri'];
+  // Only replace fallback image URI with 1px placeholder, if so configured.
+  // This will prevent downloading the fallback image.
   if ($config['one_pixel']) {
     $variables['img_element']['#uri'] = Blazy::PLACEHOLDER;
   }
@@ -57,6 +73,20 @@ function blazy_preprocess_responsive_image(&$variables) {
 }
 
 /**
+ * Adds [data-srcset] attribute to picture source element to support lazyload.
+ */
+function _blazy_preprocess_responsive_image_picture_sources(&$variables) {
+  /** @var \Drupal\Core\Template\Attribute $source */
+  foreach ($variables['sources'] as &$source) {
+    $srcset = $source['srcset'];
+    $srcset_values = $srcset->value();
+
+    $source->setAttribute('data-srcset', $srcset_values);
+    $source->removeAttribute('srcset');
+  }
+}
+
+/**
  * Implements hook_preprocess_field().
  */
 function blazy_preprocess_field(array &$variables) {
@@ -69,13 +99,29 @@ function blazy_preprocess_field(array &$variables) {
 
   // Defines [data-blazy] attribute as required by the Blazy loader.
   $settings = $element['#blazy'];
-  if (!empty($settings['responsive_image_style'])) {
-    $settings['ratio'] = FALSE;
+  $variables['attributes']['class'][] = 'blazy';
+  $variables['attributes']['data-blazy'] = empty($settings['blazy_data']) ? '' : Json::encode($settings['blazy_data']);
+  if (!empty($settings['media_switch'])) {
+    $switch = str_replace('_', '-', $settings['media_switch']);
+    $variables['attributes']['data-' . $switch . '-gallery'] = TRUE;
   }
+}
 
-  $settings['blazy_data']['ratio'] = !empty($settings['ratio']);
-  $variables['attributes']['class'][] = 'blazy';
-  $variables['attributes']['data-blazy'] = Json::encode($settings['blazy_data']);
+/**
+ * Implements hook_views_pre_render().
+ */
+function blazy_views_pre_render($view) {
+  if (!isset($view)) {
+    return;
+  }
+  Blazy::viewsPreRender($view);
+}
+
+/**
+ * Implements hook_field_formatter_info_alter().
+ */
+function blazy_field_formatter_info_alter(array &$info) {
+  Blazy::fieldFormatterInfoAlter($info);
 }
 
 /**
diff --git a/blazy.services.yml b/blazy.services.yml
index 82be336..04228ed 100644
--- a/blazy.services.yml
+++ b/blazy.services.yml
@@ -15,7 +15,6 @@ services:
 
   blazy:
     class: Drupal\blazy\Blazy
-    parent: blazy.manager
 
   blazy.admin.base:
     abstract: true
diff --git a/blazy.views.inc b/blazy.views.inc
index e58e76d..c1fbec3 100644
--- a/blazy.views.inc
+++ b/blazy.views.inc
@@ -10,8 +10,8 @@
  */
 function blazy_views_data_alter(&$data) {
   $data['file_managed']['blazy_file'] = [
-    'title' => t('Blazy'),
-    'help' => t('Displays a preview of a File using Blazy, if applicable.'),
+    'title' => 'Blazy',
+    'help'  => t('Displays a preview of a File using Blazy, if applicable.'),
     'field' => [
       'id' => 'blazy_file',
       'click sortable' => FALSE,
@@ -20,8 +20,8 @@ function blazy_views_data_alter(&$data) {
 
   if (function_exists('video_embed_media_media_bundle_insert')) {
     $data['media_field_data']['blazy_media'] = [
-      'title' => t('Blazy'),
-      'help' => t('Displays a preview of a Media using Blazy, if applicable.'),
+      'title' => 'Blazy',
+      'help'  => t('Displays a preview of a Media using Blazy, if applicable.'),
       'field' => [
         'id' => 'blazy_media',
         'click sortable' => FALSE,
@@ -29,3 +29,23 @@ function blazy_views_data_alter(&$data) {
     ];
   }
 }
+
+/**
+ * Implements hook_views_plugins_style_alter().
+ */
+function blazy_views_plugins_style_alter(array &$plugins) {
+  $plugins['blazy'] = [
+    'id'             => 'blazy',
+    'label'          => 'Blazy Grid',
+    'description'    => t('Display the results in a Blazy grid.'),
+    'class'          => 'Drupal\blazy\Plugin\views\style\BlazyViews',
+    'display_types'  => ['normal'],
+    'help'           => t('Works best with Views field containing Blazy.'),
+    'parent'         => 'parent',
+    'plugin_type'    => 'style',
+    'register_theme' => FALSE,
+    'short_title'    => 'Blazy',
+    'title'          => 'Blazy Grid',
+    'provider'       => 'blazy',
+  ];
+}
diff --git a/blazy_ui/src/Form/BlazySettingsForm.php b/blazy_ui/src/Form/BlazySettingsForm.php
index 7c39917..1b3cb67 100644
--- a/blazy_ui/src/Form/BlazySettingsForm.php
+++ b/blazy_ui/src/Form/BlazySettingsForm.php
@@ -49,7 +49,7 @@ class BlazySettingsForm extends ConfigFormBase {
       '#type'          => 'checkbox',
       '#title'         => $this->t('One pixel placeholder'),
       '#default_value' => $config->get('one_pixel'),
-      '#description'   => $this->t('By default a one pixel image is the placeholder for lazyloaded Responsive image. Useful to perform a lot better. Uncheck to disable, and use Drupal-managed smallest/fallback image style instead. Be sure to add proper dimensions or at least min-height/min-width via CSS accordingly to avoid layout reflow since Aspect ratio is not supported with Responsive image yet.'),
+      '#description'   => $this->t('By default a one pixel image is the placeholder for lazyloaded Responsive image. Useful to perform a lot better. Uncheck to disable, and use Drupal-managed smallest/fallback image style instead. Be sure to add proper dimensions or at least min-height/min-width via CSS accordingly to avoid layout reflow since Aspect ratio is not supported with Responsive image yet. Disabling this will result in downloading fallback image as well for non-PICTURE element (double downloads).'),
     ];
 
     $form['blazy'] = [
diff --git a/composer.json b/composer.json
index 918e4ac..3f4ce7c 100644
--- a/composer.json
+++ b/composer.json
@@ -5,6 +5,18 @@
   "type": "drupal-module",
   "license": "GPL-2.0+",
   "homepage": "https://drupal.org/project/blazy",
+  "authors": [
+    {
+      "name": "Gaus Surahman",
+      "homepage": "https://www.drupal.org/u/gausarts",
+      "role": "Maintainer"
+    },
+    {
+      "name": "Contributors",
+      "homepage": "https://www.drupal.org/node/2663268/committers",
+      "role": "Contributor"
+    }
+  ],
   "support": {
     "issues": "https://drupal.org/project/issues/blazy",
     "source": "http://cgit.drupalcode.org/blazy"
diff --git a/config/schema/blazy.schema.yml b/config/schema/blazy.schema.yml
index 0fb96e5..81b2542 100644
--- a/config/schema/blazy.schema.yml
+++ b/config/schema/blazy.schema.yml
@@ -39,3 +39,7 @@ blazy_base:
 field.formatter.settings.blazy:
   type: blazy_base
   label: 'Blazy image display format settings'
+
+field.formatter.settings.blazy_file:
+  type: blazy_base
+  label: 'Blazy image with ME display format settings'
diff --git a/config/schema/blazy.views.schema.yml b/config/schema/blazy.views.schema.yml
index c2db4ac..faf036b 100644
--- a/config/schema/blazy.views.schema.yml
+++ b/config/schema/blazy.views.schema.yml
@@ -2,12 +2,24 @@ blazy_views_field:
   type: views_field
   label: 'Blazy'
   mapping:
+    box_style:
+      type: string
+      label: 'Lightbox image style'
+    box_media_style:
+      type: string
+      label: 'Lightbox video style'
     image_style:
       type: string
       label: 'Image style'
     media_switch:
       type: string
       label: 'Media switch'
+    ratio:
+      type: string
+      label: 'Aspect ratio'
+    thumbnail_style:
+      type: string
+      label: 'Thumbnail style'
     view_mode:
       type: string
       label: 'View mode'
@@ -17,3 +29,7 @@ views.field.blazy_file:
 
 views.field.blazy_media:
   type: blazy_views_field
+
+views.style.blazy:
+  type: blazy_base
+  label: 'Blazy Grid'
diff --git a/css/blazy.admin.css b/css/blazy.admin.css
index 86403df..26a3849 100644
--- a/css/blazy.admin.css
+++ b/css/blazy.admin.css
@@ -33,6 +33,11 @@ body.path-admin .form--slick *,
   clear: both;
 }
 
+.form--slick ~ .form-actions {
+  float: left;
+  width: 100%;
+}
+
 .form--half,
 .form--slick .vertical-tabs {
   border: 1px solid #dbe1e9;
@@ -1172,6 +1177,10 @@ td .form__title {
   margin: 30px auto;
 }
 
+.form--views.form--half {
+  margin-top: 60px;
+}
+
 .form--slick .form-item label {
   line-height: 16px;
 }
@@ -1267,6 +1276,26 @@ td .form__title {
     text-align: right;
     white-space: normal;
   }
+
+  .form--slick.form--wide .form-checkboxes .form-item {
+    width: 33.3333%;
+  }
+
+  .field-plugin-settings-editing .form--slick {
+    margin-top: 62px;
+  }
+
+  .scroll .form--slick.form--style .form-item--style,
+  .field-plugin-settings-editing .form--slick .form-item--style {
+    background: none;
+    border: 0 ;
+    min-height: 32px;
+    padding: 0;
+    position: absolute;
+    right: 0;
+    top: -42px;
+    z-index: 9;
+  }
 }
 
 @media screen and (min-width: 1280px) {
@@ -1302,5 +1331,20 @@ td .form__title {
     float: right;
     width: auto;
   }
+
+  .form--slick.form--wide .form-checkboxes .form-item {
+    width: 24.9999%;
+  }
 }
 
+/** Declutter form when Vanilla is enabled coz table states are broken. */
+.form--vanilla-on .form__title--media-switch,
+.form--vanilla-on .form__title--fields,
+.form--vanilla-on .form__title--breakpoints,
+.form--vanilla-on .tableresponsive-toggle-columns,
+.form--vanilla-on .form-wrapper--table-breakpoints,
+.form--responsive-image-on .form__title--breakpoints,
+.form--responsive-image-on .tableresponsive-toggle-columns,
+.form--responsive-image-on .form-wrapper--table-breakpoints {
+  display: none !important;
+}
diff --git a/css/components/blazy.colorbox.css b/css/components/blazy.colorbox.css
index 877a76b..fd76dbe 100644
--- a/css/components/blazy.colorbox.css
+++ b/css/components/blazy.colorbox.css
@@ -32,12 +32,12 @@
   overflow: visible !important;
 }
 
-.colorbox-on--media .media--ratio {
+#cboxLoadedContent.media--ratio {
   height: 0 !important;
   padding-bottom: 56%;
 }
 
-.colorbox-on--media #cboxLoadedContent .cboxIframe {
+#cboxLoadedContent.media--ratio .cboxIframe {
   background-clip: padding-box;
   border-radius: 0;
   border: 8px solid #37465b;
diff --git a/css/components/blazy.column.css b/css/components/blazy.column.css
new file mode 100644
index 0000000..ca4d02a
--- /dev/null
+++ b/css/components/blazy.column.css
@@ -0,0 +1,217 @@
+/**
+ * @file
+ * Experimental: CSS3 multi-column.
+ *
+ * column-count is the maximum number of columns and column-width is the minimum
+ * width for those columns.
+ * Gets consistent with Grid Foundation even if non-BEM classes.
+ * Note: The reason for making column-width somewhat flexible is to achieve
+ * scalable designs that can fit many screen sizes. To set an exact column
+ * width, the column gap and the width of the multicol element (assuming
+ * horizontal text) must also be specified.
+ * @todo: Consider BEM classes at version 2.x, or so.
+ */
+
+[class*="block-column-"],
+.item-list > [class*="block-column-"] {
+  display: block;
+  list-style: none;
+  margin: 0 auto;
+  padding: 0;
+}
+
+/** https://developer.mozilla.org/en-US/docs/Web/CSS/break-inside */
+[class*="block-column-"] > .grid {
+  display: block;
+  float: none;
+  height: auto;
+  overflow: hidden;
+  -webkit-column-break-inside: avoid; /* Chrome, Safari, Opera */
+  page-break-inside: avoid; /* Deprecated Firefox, works at 49.0.2 */
+  -moz-column-break-inside: avoid; /* Current Firefox, but no joy */
+  break-inside: avoid; /* IE 10+ */
+  break-inside: avoid-column;
+}
+
+[class*="block-column-"] > .grid ,
+.item-list > [class*="block-column-"] > .grid {
+  margin: 0 0 1rem;
+  padding: 0;
+}
+
+/** Fix for broken break-inside with extremely tall grid for FF. */
+[class*="block-column-"] .grid__content {
+  display: inline-block;
+  margin: 0;
+  max-width: 100%;
+  vertical-align: top;
+  width: 100%;
+}
+
+/** 480px with 16px base font. */
+@media only screen and (min-width: 30em) {
+  .small-block-column-1 {
+    -webkit-columns: 30em 1;
+    -moz-columns: 30em 1;
+    columns: 30em 1;
+  }
+
+  .small-block-column-2 {
+    -webkit-columns: 15em 2;
+    -moz-columns: 15em 2;
+    columns: 15em 2;
+  }
+}
+
+/** 641px with 16px base font. */
+@media only screen and (min-width: 40.063em) {
+  .medium-block-column-1 {
+    -webkit-columns: 40.063em 1;
+    -moz-columns: 40.063em 1;
+    columns: 40.063em 1;
+  }
+
+  .medium-block-column-2 {
+    -webkit-columns: 20.0315em 2;
+    -moz-columns: 20.0315em 2;
+    columns: 20.0315em 2;
+  }
+
+  .medium-block-column-3 {
+    -webkit-columns: 3 auto;
+    -moz-columns: 3 auto;
+    columns: 3 auto;
+  }
+
+  .medium-block-column-4 {
+    -webkit-columns: 4 auto;
+    -moz-columns: 4 auto;
+    columns: 4 auto;
+  }
+
+  .medium-block-column-5 {
+    -webkit-columns: 5 auto;
+    -moz-columns: 5 auto;
+    columns: 5 auto;
+  }
+
+  .medium-block-column-6 {
+    -webkit-columns: 6 auto;
+    -moz-columns: 6 auto;
+    columns: 6 auto;
+  }
+
+  .medium-block-column-7 {
+    -webkit-columns: 7 auto;
+    -moz-columns: 7 auto;
+    columns: 7 auto;
+  }
+
+  .medium-block-column-8 {
+    -webkit-columns: 8 auto;
+    -moz-columns: 8 auto;
+    columns: 8 auto;
+  }
+
+  .medium-block-column-9 {
+    -webkit-columns: 9 auto;
+    -moz-columns: 9 auto;
+    columns: 9 auto;
+  }
+
+  .medium-block-column-10 {
+    -webkit-columns: 10 auto;
+    -moz-columns: 10 auto;
+    columns: 10 auto;
+  }
+
+  .medium-block-column-11 {
+    -webkit-columns: 11 auto;
+    -moz-columns: 11 auto;
+    columns: 11 auto;
+  }
+
+  .medium-block-column-12 {
+    -webkit-columns: 12 auto;
+    -moz-columns: 12 auto;
+    columns: 12 auto;
+  }
+}
+
+/** 1025px with 16px base font. */
+@media only screen and (min-width: 64.063em) {
+  .large-block-column-1 {
+    -webkit-columns: 64.063em 1;
+    -moz-columns: 64.063em 1;
+    columns: 64.063em 1;
+  }
+
+  .large-block-column-2,
+  .large-block-column-3.block-count-2,
+  .large-block-column-4.block-count-2 {
+    -webkit-columns: 32.0315em 2;
+    -moz-columns: 32.0315em 2;
+    columns: 32.0315em 2;
+  }
+
+  .large-block-column-3,
+  .large-block-column-4.block-count-3 {
+    -webkit-columns: 3 auto;
+    -moz-columns: 3 auto;
+    columns: 3 auto;
+  }
+
+  .large-block-column-4 {
+    -webkit-columns: 4 auto;
+    -moz-columns: 4 auto;
+    columns: 4 auto;
+  }
+
+  .large-block-column-5 {
+    -webkit-columns: 5 auto;
+    -moz-columns: 5 auto;
+    columns: 5 auto;
+  }
+
+  .large-block-column-6 {
+    -webkit-columns: 6 auto;
+    -moz-columns: 6 auto;
+    columns: 6 auto;
+  }
+
+  .large-block-column-7 {
+    -webkit-columns: 7 auto;
+    -moz-columns: 7 auto;
+    columns: 7 auto;
+  }
+
+  .large-block-column-8 {
+    -webkit-columns: 8 auto;
+    -moz-columns: 8 auto;
+    columns: 8 auto;
+  }
+
+  .large-block-column-9 {
+    -webkit-columns: 9 auto;
+    -moz-columns: 9 auto;
+    columns: 9 auto;
+  }
+
+  .large-block-column-10 {
+    -webkit-columns: 10 auto;
+    -moz-columns: 10 auto;
+    columns: 10 auto;
+  }
+
+  .large-block-column-11 {
+    -webkit-columns: 11 auto;
+    -moz-columns: 11 auto;
+    columns: 11 auto;
+  }
+
+  .large-block-column-12 {
+    -webkit-columns: 12 auto;
+    -moz-columns: 12 auto;
+    columns: 12 auto;
+  }
+}
diff --git a/css/components/blazy.grid.css b/css/components/blazy.grid.css
new file mode 100644
index 0000000..5b887cf
--- /dev/null
+++ b/css/components/blazy.grid.css
@@ -0,0 +1,290 @@
+/**
+ * @file
+ * Block grid based on Foundation 5.
+ *
+ * This is a modified version to be re-usable for divities, not only UL/OL list,
+ * as long as the list item has class "grid".
+ */
+
+[class*="block-grid-"],
+.block [class*="block-grid-"],
+.item-list > [class*="block-grid-"] {
+  display: block;
+  list-style: none;
+  padding: 0;
+  margin: 0 -0.625rem;
+}
+
+[class*="block-grid-"]::before,
+[class*="block-grid-"]::after {
+  content: " ";
+  display: table;
+}
+
+[class*="block-grid-"]::after {
+  clear: both;
+}
+
+[class*="block-grid-"] > .grid {
+  display: block;
+  float: left;
+  height: auto;
+  list-style: none;
+  margin: 0;
+  padding: 0 0.625rem 1.25rem;
+}
+
+.block-grid--centered[class*="block-grid"],
+.item-list > .block-grid--centered[class*="block-grid"] {
+  text-align: center;
+}
+
+.block-grid--centered[class*="block-grid"] > .grid,
+.item-list > .block-grid--centered[class*="block-grid"] > .grid {
+  text-align: left;
+  display: inline-block;
+  float: none;
+  vertical-align: top;
+}
+
+@media only screen {
+  .small-block-grid-1 > .grid {
+    width: 100%;
+  }
+
+  .small-block-grid-2 > .grid {
+    width: 50%;
+  }
+
+  .small-block-grid-3 > .grid {
+    width: 33.33333%;
+  }
+
+  .small-block-grid-4 > .grid {
+    width: 25%;
+  }
+
+  .small-block-grid-5 > .grid {
+    width: 20%;
+  }
+
+  .small-block-grid-6 > .grid {
+    width: 16.66667%;
+  }
+
+  .small-block-grid-7 > .grid {
+    width: 14.28571%;
+  }
+
+  .small-block-grid-8 > .grid {
+    width: 12.5%;
+  }
+
+  .small-block-grid-9 > .grid {
+    width: 11.11111%;
+  }
+
+  .small-block-grid-10 > .grid {
+    width: 10%;
+  }
+
+  .small-block-grid-11 > .grid {
+    width: 9.09091%;
+  }
+
+  .small-block-grid-12 > .grid {
+    width: 8.33333%;
+  }
+
+  .small-block-grid-1 > .grid:nth-of-type(1n),
+  .small-block-grid-2 > .grid:nth-of-type(1n),
+  .small-block-grid-3 > .grid:nth-of-type(1n),
+  .small-block-grid-4 > .grid:nth-of-type(1n),
+  .small-block-grid-5 > .grid:nth-of-type(1n),
+  .small-block-grid-6 > .grid:nth-of-type(1n),
+  .small-block-grid-8 > .grid:nth-of-type(1n),
+  .small-block-grid-7 > .grid:nth-of-type(1n),
+  .small-block-grid-9 > .grid:nth-of-type(1n),
+  .small-block-grid-10 > .grid:nth-of-type(1n),
+  .small-block-grid-11 > .grid:nth-of-type(1n),
+  .small-block-grid-12 > .grid:nth-of-type(1n) {
+    clear: none;
+  }
+
+  .small-block-grid-1 > .grid:nth-of-type(1n+1),
+  .small-block-grid-2 > .grid:nth-of-type(2n+1),
+  .small-block-grid-3 > .grid:nth-of-type(3n+1),
+  .small-block-grid-4 > .grid:nth-of-type(4n+1),
+  .small-block-grid-5 > .grid:nth-of-type(5n+1),
+  .small-block-grid-6 > .grid:nth-of-type(6n+1),
+  .small-block-grid-7 > .grid:nth-of-type(7n+1),
+  .small-block-grid-8 > .grid:nth-of-type(8n+1),
+  .small-block-grid-9 > .grid:nth-of-type(9n+1),
+  .small-block-grid-10 > .grid:nth-of-type(10n+1),
+  .small-block-grid-11 > .grid:nth-of-type(11n+1),
+  .small-block-grid-12 > .grid:nth-of-type(12n+1) {
+    clear: both;
+  }
+}
+
+/** 641px with 16px base font. */
+@media only screen and (min-width: 40.063em) {
+  .medium-block-grid-1 > .grid {
+    width: 100%;
+  }
+
+  .medium-block-grid-2 > .grid {
+    width: 50%;
+  }
+
+  .medium-block-grid-3 > .grid {
+    width: 33.33333%;
+  }
+
+  .medium-block-grid-4 > .grid {
+    width: 25%;
+  }
+
+  .medium-block-grid-5 > .grid {
+    width: 20%;
+  }
+
+  .medium-block-grid-6 > .grid {
+    width: 16.66667%;
+  }
+
+  .medium-block-grid-7 > .grid {
+    width: 14.28571%;
+  }
+
+  .medium-block-grid-8 > .grid {
+    width: 12.5%;
+  }
+
+  .medium-block-grid-9 > .grid {
+    width: 11.11111%;
+  }
+
+  .medium-block-grid-10 > .grid {
+    width: 10%;
+  }
+
+  .medium-block-grid-11 > .grid {
+    width: 9.09091%;
+  }
+
+  .medium-block-grid-12 > .grid {
+    width: 8.33333%;
+  }
+
+  .medium-block-grid-1 > .grid:nth-of-type(1n),
+  .medium-block-grid-2 > .grid:nth-of-type(1n),
+  .medium-block-grid-3 > .grid:nth-of-type(1n),
+  .medium-block-grid-4 > .grid:nth-of-type(1n),
+  .medium-block-grid-5 > .grid:nth-of-type(1n),
+  .medium-block-grid-6 > .grid:nth-of-type(1n),
+  .medium-block-grid-7 > .grid:nth-of-type(1n),
+  .medium-block-grid-8 > .grid:nth-of-type(1n),
+  .medium-block-grid-9 > .grid:nth-of-type(1n),
+  .medium-block-grid-10 > .grid:nth-of-type(1n),
+  .medium-block-grid-11 > .grid:nth-of-type(1n),
+  .medium-block-grid-12 > .grid:nth-of-type(1n) {
+    clear: none;
+  }
+
+  .medium-block-grid-1 > .grid:nth-of-type(1n+1),
+  .medium-block-grid-2 > .grid:nth-of-type(2n+1),
+  .medium-block-grid-3 > .grid:nth-of-type(3n+1),
+  .medium-block-grid-4 > .grid:nth-of-type(4n+1),
+  .medium-block-grid-5 > .grid:nth-of-type(5n+1),
+  .medium-block-grid-6 > .grid:nth-of-type(6n+1),
+  .medium-block-grid-7 > .grid:nth-of-type(7n+1),
+  .medium-block-grid-8 > .grid:nth-of-type(8n+1),
+  .medium-block-grid-9 > .grid:nth-of-type(9n+1),
+  .medium-block-grid-10 > .grid:nth-of-type(10n+1),
+  .medium-block-grid-11 > .grid:nth-of-type(11n+1),
+  .medium-block-grid-12 > .grid:nth-of-type(12n+1) {
+    clear: both;
+  }
+}
+
+/** 1025px with 16px base font. */
+@media only screen and (min-width: 64.063em) {
+  .large-block-grid-1 > .grid {
+    width: 100%;
+  }
+
+  .large-block-grid-2 > .grid {
+    width: 50%;
+  }
+
+  .large-block-grid-3 > .grid {
+    width: 33.33333%;
+  }
+
+  .large-block-grid-4 > .grid {
+    width: 25%;
+  }
+
+  .large-block-grid-5 > .grid {
+    width: 20%;
+  }
+
+  .large-block-grid-6 > .grid {
+    width: 16.66667%;
+  }
+
+  .large-block-grid-7 > .grid {
+    width: 14.28571%;
+  }
+
+  .large-block-grid-8 > .grid {
+    width: 12.5%;
+  }
+
+  .large-block-grid-9 > .grid {
+    width: 11.11111%;
+  }
+
+  .large-block-grid-10 > .grid {
+    width: 10%;
+  }
+
+  .large-block-grid-11 > .grid {
+    width: 9.09091%;
+  }
+
+  .large-block-grid-12 > .grid {
+    width: 8.33333%;
+  }
+
+  .large-block-grid-1 > .grid:nth-of-type(1n),
+  .large-block-grid-2 > .grid:nth-of-type(1n),
+  .large-block-grid-3 > .grid:nth-of-type(1n),
+  .large-block-grid-4 > .grid:nth-of-type(1n),
+  .large-block-grid-5 > .grid:nth-of-type(1n),
+  .large-block-grid-6 > .grid:nth-of-type(1n),
+  .large-block-grid-7 > .grid:nth-of-type(1n),
+  .large-block-grid-8 > .grid:nth-of-type(1n),
+  .large-block-grid-9 > .grid:nth-of-type(1n),
+  .large-block-grid-10 > .grid:nth-of-type(1n),
+  .large-block-grid-11 > .grid:nth-of-type(1n),
+  .large-block-grid-12 > .grid:nth-of-type(1n) {
+    clear: none;
+  }
+
+  .large-block-grid-1 > .grid:nth-of-type(1n+1),
+  .large-block-grid-2 > .grid:nth-of-type(2n+1),
+  .large-block-grid-3 > .grid:nth-of-type(3n+1),
+  .large-block-grid-4 > .grid:nth-of-type(4n+1),
+  .large-block-grid-5 > .grid:nth-of-type(5n+1),
+  .large-block-grid-6 > .grid:nth-of-type(6n+1),
+  .large-block-grid-7 > .grid:nth-of-type(7n+1),
+  .large-block-grid-8 > .grid:nth-of-type(8n+1),
+  .large-block-grid-9 > .grid:nth-of-type(9n+1),
+  .large-block-grid-10 > .grid:nth-of-type(10n+1),
+  .large-block-grid-11 > .grid:nth-of-type(11n+1),
+  .large-block-grid-12 > .grid:nth-of-type(12n+1) {
+    clear: both;
+  }
+}
diff --git a/css/components/blazy.loading.css b/css/components/blazy.loading.css
index 6650dc0..664d4d6 100644
--- a/css/components/blazy.loading.css
+++ b/css/components/blazy.loading.css
@@ -36,11 +36,8 @@
   transition: opacity 500ms ease-in-out;
 }
 
-.b-loaded {
-  opacity: 1;
-}
-
 /* Needed to display preloader with CSS BG image, otherwise hidden. */
+.b-loaded,
 .media--loading.media--background {
   opacity: 1;
 }
@@ -64,11 +61,12 @@
   margin-left: -15px;
   margin-top: -15px;
   font-size: 0;
-  z-index: 9;
+  z-index: 22;
   -webkit-animation: rotateplane 1.2s infinite ease-in-out;
   animation: rotateplane 1.2s infinite ease-in-out;
 }
 
 .media--background {
   background-size: cover;
+  background-position: center center;
 }
diff --git a/css/components/blazy.media.css b/css/components/blazy.media.css
index 480fd66..adf1862 100644
--- a/css/components/blazy.media.css
+++ b/css/components/blazy.media.css
@@ -1,12 +1,11 @@
 /**
  * @file
  * Provides media integration with pure CSS fluid video wrapper.
- *
- * @todo move to Blazy for re-usability across Blazy, GridStack, Mason, Slick.
  */
 
 .litebox,
-.media__iframe {
+.media__iframe,
+[data-blazy] iframe {
   border: 0 none;
   display: block;
   max-width: 100%;
@@ -114,6 +113,7 @@
 
 .media--switch .media__image,
 .media__icon--play,
+.media:hover .media__icon--litebox,
 .is-playing .media__iframe,
 .is-playing.media--ratio > iframe,
 .is-playing:hover .media__icon--close {
@@ -139,13 +139,33 @@
 /**
  * Fallback non-JS.
  */
-.no-js .media--switch .media__image,
-.no-js .media--switch .media__icon {
+.no-js .media--player .media__image,
+.no-js .media--player .media__icon {
   opacity: 0;
   visibility: hidden;
 }
 
-.no-js .media--switch .media__iframe {
+.no-js .media--player .media__iframe {
   opacity: 1;
   visibility: visible;
 }
+
+/** Prevents Twitter iframe from breaking grid, even if unholy. */
+.grid .twitter-tweet-rendered {
+  margin: 0 !important;
+  min-width: 1px !important;
+}
+
+/** Fix for overflowing Facebook/ Twitter iframes. */
+.grid .media,
+.grid .fb_iframe_widget {
+  overflow: hidden;
+}
+
+.grid .fb_iframe_widget span {
+  width: 100% !important;
+}
+
+.grid .fb_iframe_widget iframe {
+  position: relative !important;
+}
diff --git a/css/components/blazy.ratio.css b/css/components/blazy.ratio.css
index 8a893b9..bfc93c5 100644
--- a/css/components/blazy.ratio.css
+++ b/css/components/blazy.ratio.css
@@ -22,6 +22,7 @@
   display: block;
   height: 0;
   overflow: hidden;
+  width: 100%;
   /* padding-top: 30px; IE7 fix */
 }
 
diff --git a/js/blazy.admin.js b/js/blazy.admin.js
index a11cd78..fdba1ba 100644
--- a/js/blazy.admin.js
+++ b/js/blazy.admin.js
@@ -1,60 +1,95 @@
 /**
  * @file
  * Provides admin utilities.
- *
- * @todo move to Blazy for re-usablity across Blazy, Slick, Mason, GridStack...
  */
 
 (function ($, Drupal) {
 
   'use strict';
 
+  /**
+   * Blazy admin utility functions.
+   *
+   * @param {int} i
+   *   The index of the current element.
+   * @param {HTMLElement} form
+   *   The Blazy form wrapper HTML element.
+   */
+  function blazyForm(i, form) {
+    var t = $(form);
+
+    $('.details-legend-prefix', t).removeClass('element-invisible');
+
+    t[$('.form-checkbox--vanilla', t).prop('checked') ? 'addClass' : 'removeClass']('form--vanilla-on');
+
+    t.on('click', '.form-checkbox', function () {
+      var $input = $(this);
+      $input[$input.prop('checked') ? 'addClass' : 'removeClass']('on');
+
+      if ($input.hasClass('form-checkbox--vanilla')) {
+        t[$input.prop('checked') ? 'addClass' : 'removeClass']('form--vanilla-on');
+      }
+    });
+
+    $('select[name$="[responsive_image_style]"]', t).on('change', function () {
+      var $select = $(this);
+      t[$select.val() === '' ? 'removeClass' : 'addClass']('form--responsive-image-on');
+    }).change();
+
+    t.on('mouseenter', '.hint', function () {
+      $(this).closest('.form-item').addClass('is-hovered');
+    });
+
+    t.on('mouseleave', '.hint', function () {
+      $(this).closest('.form-item').removeClass('is-hovered');
+    });
+
+    t.on('click', '.hint', function () {
+      $('.form-item.is-selected', t).removeClass('is-selected');
+      $(this).parent().toggleClass('is-selected');
+    });
+
+    t.on('click', '.description', function () {
+      $(this).closest('.is-selected').removeClass('is-selected');
+    });
+
+    t.on('focus', '.js-expandable', function () {
+      $(this).parent().addClass('is-focused');
+    });
+
+    t.on('blur', '.js-expandable', function () {
+      $(this).parent().removeClass('is-focused');
+    });
+  }
+
+  /**
+   * Blazy admin tooltip function.
+   *
+   * @param {int} i
+   *   The index of the current element.
+   * @param {HTMLElement} elm
+   *   The Blazy form item description HTML element.
+   */
+  function blazyTooltip(i, elm) {
+    var $tip = $(elm);
+
+    if (!$tip.siblings('.hint').length) {
+      $tip.closest('.form-item').append('<span class="hint">?</span>');
+    }
+  }
+
+  /**
+   * Attaches Blazy form behavior to HTML element.
+   *
+   * @type {Drupal~behavior}
+   */
   Drupal.behaviors.blazyAdmin = {
     attach: function (context) {
       var $form = $('.form--slick', context);
 
-      $('.description', $form).once('blazy-tooltip').each(function () {
-        var tip = $(this);
-        if (!tip.siblings('.hint').length) {
-          tip.closest('.form-item').append('<span class="hint">?</span>');
-        }
-      });
-
-      $form.once('blazy-admin').each(function () {
-        var t = $(this);
-        $('.details-legend-prefix', t).removeClass('element-invisible');
-
-        t.on('click', '.form-checkbox', function () {
-          var t = $(this);
-          if (t.prop('checked')) {
-            t.addClass('on');
-          }
-          else {
-            t.removeClass('on');
-          }
-        });
-
-        t.on('mouseenter', '.hint', function () {
-          $(this).closest('.form-item').addClass('is-hovered');
-        });
-        t.on('mouseleave', '.hint', function () {
-          $(this).closest('.form-item').removeClass('is-hovered');
-        });
-        t.on('click', '.hint', function () {
-          $('.form-item.is-selected', t).removeClass('is-selected');
-          $(this).parent().toggleClass('is-selected');
-        });
-        t.on('click', '.description', function () {
-          $(this).closest('.is-selected').removeClass('is-selected');
-        });
-        t.on('focus', '.js-expandable', function () {
-          $(this).parent().addClass('is-focused');
-        });
-        t.on('blur', '.js-expandable', function () {
-          $(this).parent().removeClass('is-focused');
-        });
-
-      });
+      $('.description', $form).once('blazy-tooltip').each(blazyTooltip);
+
+      $form.once('blazy-admin').each(blazyForm);
     }
   };
 
diff --git a/js/blazy.admin.min.js b/js/blazy.admin.min.js
index 1727c55..71646fc 100644
--- a/js/blazy.admin.min.js
+++ b/js/blazy.admin.min.js
@@ -1 +1 @@
-!function(e,s){"use strict";s.behaviors.blazyAdmin={attach:function(){var s=e(".form--slick");e(".description",s).once("blazy-tooltip").each(function(){var s=e(this);s.siblings(".hint").length||s.closest(".form-item").append('<span class="hint">?</span>')}),s.once("blazy-admin").each(function(){var s=e(this);e(".details-legend-prefix",s).removeClass("element-invisible"),s.on("click",".form-checkbox",function(){var s=e(this);s.prop("checked")?s.addClass("on"):s.removeClass("on")}),s.on("mouseenter",".hint",function(){e(this).closest(".form-item").addClass("is-hovered")}),s.on("mouseleave",".hint",function(){e(this).closest(".form-item").removeClass("is-hovered")}),s.on("click",".hint",function(){e(".form-item.is-selected",s).removeClass("is-selected"),e(this).parent().toggleClass("is-selected")}),s.on("click",".description",function(){e(this).closest(".is-selected").removeClass("is-selected")}),s.on("focus",".js-expandable",function(){e(this).parent().addClass("is-focused")}),s.on("blur",".js-expandable",function(){e(this).parent().removeClass("is-focused")})})}}}(jQuery,Drupal);
+!function(a,b){"use strict";function c(b,c){var d=a(c);a(".details-legend-prefix",d).removeClass("element-invisible"),d[a(".form-checkbox--vanilla",d).prop("checked")?"addClass":"removeClass"]("form--vanilla-on"),d.on("click",".form-checkbox",function(){var b=a(this);b[b.prop("checked")?"addClass":"removeClass"]("on"),b.hasClass("form-checkbox--vanilla")&&d[b.prop("checked")?"addClass":"removeClass"]("form--vanilla-on")}),a('select[name$="[responsive_image_style]"]',d).on("change",function(){var b=a(this);d[""===b.val()?"removeClass":"addClass"]("form--responsive-image-on")}).change(),d.on("mouseenter",".hint",function(){a(this).closest(".form-item").addClass("is-hovered")}),d.on("mouseleave",".hint",function(){a(this).closest(".form-item").removeClass("is-hovered")}),d.on("click",".hint",function(){a(".form-item.is-selected",d).removeClass("is-selected"),a(this).parent().toggleClass("is-selected")}),d.on("click",".description",function(){a(this).closest(".is-selected").removeClass("is-selected")}),d.on("focus",".js-expandable",function(){a(this).parent().addClass("is-focused")}),d.on("blur",".js-expandable",function(){a(this).parent().removeClass("is-focused")})}function d(b,c){var d=a(c);d.siblings(".hint").length||d.closest(".form-item").append('<span class="hint">?</span>')}b.behaviors.blazyAdmin={attach:function(b){var e=a(".form--slick",b);a(".description",e).once("blazy-tooltip").each(d),e.once("blazy-admin").each(c)}}}(jQuery,Drupal);
diff --git a/js/blazy.colorbox.js b/js/blazy.colorbox.js
index fdfafcf..faa8c33 100644
--- a/js/blazy.colorbox.js
+++ b/js/blazy.colorbox.js
@@ -1,38 +1,110 @@
 /**
  * @file
- *
- * @todo bring in a little portion of Slick carousel goodness for easy styling.
  */
 
 (function ($, Drupal, drupalSettings, window) {
 
   'use strict';
 
-  Drupal.behaviors.blazyColorbox = {
-    attach: function (context) {
+  var cboxTimer;
+  var $body = $('body');
 
-      $('.blazy__colorbox', context).once('blazy-colorbox').each(function () {
-        var t = $(this);
-        var media = t.data('media') || {};
-        var runtimeOptions = {
-          rel: media.rel || null,
-          title: function () {
-            var $caption = t.next('.litebox-caption');
-            return $caption.length ? $caption.html() : '';
-          }
-        };
+  /**
+   * Blazy Colorbox utility functions.
+   *
+   * @param {int} i
+   *   The index of the current element.
+   * @param {HTMLElement} box
+   *   The colorbox HTML element.
+   */
+  function blazyColorbox(i, box) {
+    var $box = $(box);
+    var media = $box.data('media') || {};
+    var isMedia = media.type !== 'image' ? true : false;
+    var runtimeOptions = {
+      rel: media.rel || null,
+      iframe: isMedia,
+      title: function () {
+        var $caption = $box.next('.litebox-caption');
+        return $caption.length ? $caption.html() : '';
+      },
+      onComplete: function () {
+        removeClasses();
+        $body.addClass('colorbox-on colorbox-on--' + media.type);
 
-        if (drupalSettings.colorbox.mobiledetect && window.matchMedia) {
-          // Disable Colorbox for small screens.
-          var mq = window.matchMedia('(max-device-width: ' + drupalSettings.colorbox.mobiledevicewidth + ')');
-          if (mq.matches) {
-            return;
-          }
+        if (isMedia) {
+          resizeBox();
+          $body.addClass('colorbox-on--media');
         }
+      },
+      onClosed: function () {
+        removeClasses();
+      }
+    };
+
+    if (drupalSettings.colorbox.mobiledetect && window.matchMedia) {
+      // Disable Colorbox for small screens.
+      var mq = window.matchMedia('(max-device-width: ' + drupalSettings.colorbox.mobiledevicewidth + ')');
+      if (mq.matches) {
+        return;
+      }
+    }
 
-        t.colorbox($.extend({}, drupalSettings.colorbox, runtimeOptions));
+    /**
+     * Remove the custom colorbox classes.
+     */
+    function removeClasses() {
+      $body.removeClass(function (index, css) {
+        return (css.match(/(^|\s)colorbox-\S+/g) || []).join(' ');
       });
     }
+
+    /**
+     * Resize the colorbox.
+     */
+    function resizeBox() {
+      window.clearTimeout(cboxTimer);
+
+      var o = {
+        width: media.width || drupalSettings.colorbox.maxWidth,
+        height: media.height || drupalSettings.colorbox.maxHeight
+      };
+
+      cboxTimer = window.setTimeout(function () {
+        if ($('#cboxOverlay').is(':visible')) {
+          var $container = $('#cboxLoadedContent');
+          var $iframe = $('.cboxIframe', $container);
+
+          if ($iframe.length) {
+            $container.addClass('media media--ratio');
+            $iframe.attr('width', o.width).attr('height', o.height).addClass('media__element');
+            $container.css({paddingBottom: (o.height / o.width) * 100 + '%', height: 0});
+
+            $.colorbox.resize({
+              innerWidth: o.width,
+              innerHeight: o.height
+            });
+          }
+          else {
+            $container.removeClass('media media--ratio');
+            $container.css({paddingBottom: '', height: o.height}).removeClass('media__element');
+          }
+        }
+      }, 10);
+    }
+
+    $box.colorbox($.extend({}, drupalSettings.colorbox, runtimeOptions));
+  }
+
+  /**
+   * Attaches blazy colorbox behavior to HTML element.
+   *
+   * @type {Drupal~behavior}
+   */
+  Drupal.behaviors.blazyColorbox = {
+    attach: function (context) {
+      $('[data-colorbox-trigger]', context).once('blazy-colorbox').each(blazyColorbox);
+    }
   };
 
 })(jQuery, Drupal, drupalSettings, this);
diff --git a/js/blazy.colorbox.min.js b/js/blazy.colorbox.min.js
index e7d7b3e..d3bd302 100644
--- a/js/blazy.colorbox.min.js
+++ b/js/blazy.colorbox.min.js
@@ -1 +1 @@
-!function(o,t,e,i){"use strict";t.behaviors.blazyColorbox={attach:function(t){o(".blazy__colorbox",t).once("blazy-colorbox").each(function(){var t=o(this),a=t.data("media")||{},l={rel:a.rel||null,title:function(){var o=t.next(".litebox-caption");return o.length?o.html():""}};if(e.colorbox.mobiledetect&&i.matchMedia){var c=i.matchMedia("(max-device-width: "+e.colorbox.mobiledevicewidth+")");if(c.matches)return}t.colorbox(o.extend({},e.colorbox,l))})}}}(jQuery,Drupal,drupalSettings,this);
+!function(a,b,c,d){"use strict";function g(b,g){function m(){f.removeClass(function(a,b){return(b.match(/(^|\s)colorbox-\S+/g)||[]).join(" ")})}function n(){d.clearTimeout(e);var b={width:i.width||c.colorbox.maxWidth,height:i.height||c.colorbox.maxHeight};e=d.setTimeout(function(){if(a("#cboxOverlay").is(":visible")){var c=a("#cboxLoadedContent"),d=a(".cboxIframe",c);d.length?(c.addClass("media media--ratio"),d.attr("width",b.width).attr("height",b.height).addClass("media__element"),c.css({paddingBottom:b.height/b.width*100+"%",height:0}),a.colorbox.resize({innerWidth:b.width,innerHeight:b.height})):(c.removeClass("media media--ratio"),c.css({paddingBottom:"",height:b.height}).removeClass("media__element"))}},10)}var h=a(g),i=h.data("media")||{},j="image"!==i.type,k={rel:i.rel||null,iframe:j,title:function(){var a=h.next(".litebox-caption");return a.length?a.html():""},onComplete:function(){m(),f.addClass("colorbox-on colorbox-on--"+i.type),j&&(n(),f.addClass("colorbox-on--media"))},onClosed:function(){m()}};if(c.colorbox.mobiledetect&&d.matchMedia){var l=d.matchMedia("(max-device-width: "+c.colorbox.mobiledevicewidth+")");if(l.matches)return}h.colorbox(a.extend({},c.colorbox,k))}var e,f=a("body");b.behaviors.blazyColorbox={attach:function(b){a("[data-colorbox-trigger]",b).once("blazy-colorbox").each(g)}}}(jQuery,Drupal,drupalSettings,this);
diff --git a/js/blazy.load.js b/js/blazy.load.js
index 94f7126..9c85f30 100644
--- a/js/blazy.load.js
+++ b/js/blazy.load.js
@@ -34,6 +34,8 @@
         me.resizing(function () {
           me.windowWidth = window.innerWidth || document.documentElement.clientWidth || $(window).width();
 
+          $('.media--ratio', context).each(me.updateRatio);
+
           $elm.trigger('resizing', [me.windowWidth]);
         })();
       });
@@ -45,14 +47,13 @@
    *
    * @namespace
    */
-  Drupal.blazy = {
+  Drupal.blazy = Drupal.blazy || {
     init: null,
     windowWidth: 0,
     globalSettings: function () {
       var me = this;
       var settings = drupalSettings.blazy || {};
       var commons = {
-        dimensions: false,
         success: function (elm) {
           me.clearing(elm);
         },
@@ -64,45 +65,48 @@
       return $.extend(settings, commons);
     },
 
-    updateRatio: function (elm, ratio, data) {
-      var me = this;
+    updateRatio: function (i, item) {
+      var me = Drupal.blazy;
+      var $item = $(item);
+      var $blazy = $item.closest('[data-blazy]');
+      var dataGlobal = $blazy.length && $blazy.data('blazy') ? $blazy.data('blazy') : {};
+      var dimensions = $item.data('dimensions') || dataGlobal.dimensions || null;
       var pad = null;
+      var keys;
 
-      if (data.dimensions) {
-        $.each(data.dimensions, function (key, v) {
-          pad = me.windowWidth >= key ? v : null;
-        });
+      if (dimensions === null) {
+        return;
+      }
+
+      keys = Object.keys(dimensions);
+      var xs = keys[0];
+      var xl = keys[keys.length - 1];
 
-        if (pad !== null) {
-          ratio.css({
-            paddingBottom: pad + '%'
-          });
+      $.each(dimensions, function (w, v) {
+        if (w >= me.windowWidth) {
+          pad = v;
+          return false;
         }
+      });
+
+      if (pad === null) {
+        pad = dimensions[me.windowWidth >= xl ? xl : xs];
       }
-    },
 
-    clearing: function (elm) {
-      var me = this;
-      var blazyClasses;
-      var $elm = $(elm);
-      var $blazy = $elm.closest('[data-blazy]');
-      var $ratio = $elm.closest('.media--ratio');
-      var data = $blazy.data('blazy');
-
-      window.clearTimeout(blazyClasses);
-      blazyClasses = window.setTimeout(function () {
-        $elm.closest('.media--loading').removeClass('media--loading').addClass('media--loaded');
-      }, 200);
-
-      if (data && $ratio.length) {
-        me.updateRatio($elm, $ratio, data);
-
-        $blazy.on('resizing', function () {
-          me.updateRatio($elm, $ratio, data);
+      if (pad !== null) {
+        $item.css({
+          paddingBottom: pad + '%'
         });
       }
     },
 
+    clearing: function (elm) {
+      // .b-lazy can be attached to IMG, or DIV as CSS background.
+      $(elm).removeClass('media--loading').parents('[class*="loading"]').removeClass(function (index, css) {
+        return (css.match(/(\S+)loading/g) || []).join(' ');
+      });
+    },
+
     // Thanks to https://github.com/louisremi/jquery-smartresize
     resizing: function (c, t) {
       window.onresize = function () {
diff --git a/js/blazy.load.min.js b/js/blazy.load.min.js
index c1b1c54..f3e5b4c 100644
--- a/js/blazy.load.min.js
+++ b/js/blazy.load.min.js
@@ -1 +1 @@
-!function(i,n,t,e,a){"use strict";n.behaviors.blazy={attach:function(t){var o=n.blazy,l=i("[data-blazy]",t),s=o.globalSettings();l.length||(o.init=new Blazy(s)),l.once("blazy").each(function(){var n=i(this),t=n.data("blazy")||{},l=i.extend({},s,t);o.init=new Blazy(l),n.data("blazy",l),o.resizing(function(){o.windowWidth=e.innerWidth||a.documentElement.clientWidth||i(e).width(),n.trigger("resizing",[o.windowWidth])})()})}},n.blazy={init:null,windowWidth:0,globalSettings:function(){var n=this,e=t.blazy||{},a={dimensions:!1,success:function(i){n.clearing(i)},error:function(i,t){n.clearing(i)}};return i.extend(e,a)},updateRatio:function(n,t,e){var a=this,o=null;e.dimensions&&(i.each(e.dimensions,function(i,n){o=a.windowWidth>=i?n:null}),null!==o&&t.css({paddingBottom:o+"%"}))},clearing:function(n){var t,a=this,o=i(n),l=o.closest("[data-blazy]"),s=o.closest(".media--ratio"),d=l.data("blazy");e.clearTimeout(t),t=e.setTimeout(function(){o.closest(".media--loading").removeClass("media--loading").addClass("media--loaded")},200),d&&s.length&&(a.updateRatio(o,s,d),l.on("resizing",function(){a.updateRatio(o,s,d)}))},resizing:function(i,n){return e.onresize=function(){e.clearTimeout(n),n=e.setTimeout(i,200)},i}}}(jQuery,Drupal,drupalSettings,this,this.document);
+!function(a,b,c,d,e){"use strict";b.behaviors.blazy={attach:function(c){var f=b.blazy,g=a("[data-blazy]",c),h=f.globalSettings();g.length||(f.init=new Blazy(h)),g.once("blazy").each(function(){var b=a(this),g=b.data("blazy")||{},i=a.extend({},h,g);f.init=new Blazy(i),b.data("blazy",i),f.resizing(function(){f.windowWidth=d.innerWidth||e.documentElement.clientWidth||a(d).width(),a(".media--ratio",c).each(f.updateRatio),b.trigger("resizing",[f.windowWidth])})()})}},b.blazy=b.blazy||{init:null,windowWidth:0,globalSettings:function(){var b=this,d=c.blazy||{},e={success:function(a){b.clearing(a)},error:function(a,c){b.clearing(a)}};return a.extend(d,e)},updateRatio:function(c,d){var k,e=b.blazy,f=a(d),g=f.closest("[data-blazy]"),h=g.length&&g.data("blazy")?g.data("blazy"):{},i=f.data("dimensions")||h.dimensions||null,j=null;if(null!==i){k=Object.keys(i);var l=k[0],m=k[k.length-1];a.each(i,function(a,b){if(a>=e.windowWidth)return j=b,!1}),null===j&&(j=i[e.windowWidth>=m?m:l]),null!==j&&f.css({paddingBottom:j+"%"})}},clearing:function(b){a(b).removeClass("media--loading").parents('[class*="loading"]').removeClass(function(a,b){return(b.match(/(\S+)loading/g)||[]).join(" ")})},resizing:function(a,b){return d.onresize=function(){d.clearTimeout(b),b=d.setTimeout(a,200)},a}}}(jQuery,Drupal,drupalSettings,this,this.document);
diff --git a/js/blazy.media.js b/js/blazy.media.js
index 8635a44..722cea5 100644
--- a/js/blazy.media.js
+++ b/js/blazy.media.js
@@ -7,88 +7,151 @@
 
   'use strict';
 
+  /**
+   * Attaches Blazy media behavior to HTML element.
+   *
+   * @type {Drupal~behavior}
+   */
   Drupal.behaviors.blazyMedia = {
     attach: function (context) {
+      $('.media--player', context).once('blazy-media').each(blazyMedia);
+    },
+    detach: function (context, setting, trigger) {
+      if (trigger === 'unload') {
+        $('.media--player', context).removeOnce('blazy-media').off('.media-play .media-close');
+      }
+    }
+  };
 
-      $('.media--player', context).once('blazy-media').each(function () {
-        var t = $(this);
-
-        var $slider = t.closest('.slick__slider');
-        var $slick = $slider.closest('.slick');
-        var iframe = t.find('iframe');
-        var newIframe = iframe.clone();
-        var media = newIframe.data('media');
-        var url = newIframe.data('lazy') || newIframe.data('src');
-        var $nester = '';
+  /**
+   * Blazy media utility functions.
+   *
+   * @param {int} i
+   *   The index of the current element.
+   * @param {HTMLElement} media
+   *   The media player HTML element.
+   */
+  function blazyMedia(i, media) {
+    var t = $(media);
+
+    var $slider = t.closest('.slick__slider');
+    var $slick = $slider.closest('.slick');
+    var iframe = t.find('iframe');
+    var newIframe = iframe.clone().addClass('media__cloned');
+    var dataMedia = newIframe.data('media');
+    var url = newIframe.data('lazy') || newIframe.data('src');
+    var $nester = '';
+
+    if ($slick.closest('.slick__slider').length) {
+      $nester = $slick.closest('.slick__slider');
+    }
 
-        if ($slick.closest('.slick__slider').length) {
-          $nester = $slick.closest('.slick__slider');
+    /**
+     * Play the media.
+     *
+     * @param {jQuery.Event} event
+     *   The event triggered by a `click` event.
+     *
+     * @return {bool}|{mixed}
+     *   Return false if url is not available.
+     */
+    function play(event) {
+      event.preventDefault();
+
+      var $btn = $(this);
+
+      // Soundcloud needs internet, fails on disconnected local.
+      if (url === '') {
+        return false;
+      }
+
+      // Temp fix for sortable and reslick after being destroyed.
+      url = $btn.data('url');
+
+      var auto_play = url.indexOf('auto_play');
+      var autoplay = url.indexOf('autoplay');
+      var param = url.indexOf('?');
+
+      // Force autoplay, if not provided, which should not.
+      if (dataMedia && dataMedia.scheme === 'soundcloud') {
+        if (auto_play < 0 || auto_play === false) {
+          url = param < 0 ? url + '?auto_play=true' : url + '&amp;auto_play=true';
         }
+      }
+      else if (autoplay < 0 || autoplay === 0) {
+        url = param < 0 ? url + '?autoplay=1' : url + '&amp;autoplay=1';
+      }
+
+      // First, reset any video to avoid multiple videos from playing.
+      t.removeClass('is-playing');
+
+      // Clean up any pause marker at slider container.
+      $('.is-paused').removeClass('is-paused');
 
-        // Remove iframe to avoid browser requesting them till clicked.
-        iframe.remove();
-
-        t.on('click.media-play', '.media__icon--play', function () {
-          // Soundcloud needs internet, fails on disconnected local.
-          if (url === '') {
-            return false;
-          }
-          var auto_play = url.indexOf('auto_play');
-          var autoplay = url.indexOf('autoplay');
-          var param = url.indexOf('?');
-
-          // Force autoplay, if not provided, which should not.
-          if (media.scheme === 'soundcloud') {
-            if (auto_play < 0 || auto_play === false) {
-              url = param < 0 ? url + '?auto_play=true' : url + '&amp;auto_play=true';
-            }
-          }
-          else if (autoplay < 0 || autoplay === 0) {
-            url = param < 0 ? url + '?autoplay=1' : url + '&amp;autoplay=1';
-          }
-
-          // First, reset any video to avoid multiple videos from playing.
-          t.removeClass('is-playing');
-
-          // Clean up any pause marker at slider container.
-          $('.is-paused').removeClass('is-paused');
-
-          // Last, pause the slide, for just in case autoplay is on, and
-          // pauseOnHover is disabled, and then trigger autoplay.
-          if ($slider.length) {
-            $slider.addClass('is-paused').slick('slickPause');
-          }
-
-          if ($nester) {
-            $nester.addClass('is-paused').slick('slickPause');
-          }
-
-          t.addClass('is-playing').append(newIframe);
-          newIframe.attr('src', url);
-
-          return false;
-        });
-        // Closes the video.
-        t.on('click.media-close', '.media__icon--close', function () {
-          t.removeClass('is-playing').find('iframe').remove();
-          $('.is-paused').removeClass('is-paused');
-          return false;
-        });
-
-        // Turns off any video if any change to the slider.
-        $slider.on('afterChange', function () {
-          $slider.find('.is-playing .media__icon--close')
-            .trigger('click.media-close');
-        });
+      // Last, pause the slide, for just in case autoplay is on, and
+      // pauseOnHover is disabled, and then trigger autoplay.
+      if ($slider.length) {
+        $slider.addClass('is-paused').slick('slickPause');
 
         if ($nester) {
-          $nester.on('afterChange', function () {
-            $nester.find('.is-playing .media__icon--close')
-              .trigger('click.media-close');
-          });
+          $nester.addClass('is-paused').slick('slickPause');
         }
-      });
+      }
+
+      t.addClass('is-playing').append(newIframe);
+      newIframe.attr('src', url);
+
+      // Temp fix for sortable and reslick after being destroyed.
+      // Perhaps shouldn't clone it in the first place.
+      window.setTimeout(function () {
+        if (!t.find('.media__cloned').length) {
+          newIframe = $('<iframe />', {class: 'media__iframe media__element media__clone', src: url});
+
+          t.append(newIframe);
+        }
+      }, 800);
     }
-  };
+
+    /**
+     * Close the media.
+     *
+     * @param {jQuery.Event} event
+     *   The event triggered by a `click` event.
+     */
+    function stop(event) {
+      event.preventDefault();
+
+      $(event.delegateTarget).removeClass('is-playing').find('iframe').remove();
+      $('.is-paused').removeClass('is-paused');
+    }
+
+    /**
+     * Trigger the media close.
+     *
+     * @param {jQuery.Event} event
+     *   The event triggered by a `click` event.
+     */
+    function closeOut(event) {
+      $(event.delegateTarget).find('.is-playing .media__icon--close').trigger('click.media-close');
+    }
+
+    // Remove iframe to avoid browser requesting them till clicked.
+    iframe.remove();
+
+    // Plays the media player.
+    t.on('click.media-play', '.media__icon--play', play);
+
+    // Closes the video.
+    t.on('click.media-close', '.media__icon--close', stop);
+
+    // Turns off any video if any change to the slider.
+    if ($slider.length) {
+      $slider.on('afterChange', closeOut);
+
+      if ($nester) {
+        $nester.on('afterChange', closeOut);
+      }
+    }
+  }
 
 })(jQuery, Drupal);
diff --git a/js/blazy.media.min.js b/js/blazy.media.min.js
index aa5743d..4b020bc 100644
--- a/js/blazy.media.min.js
+++ b/js/blazy.media.min.js
@@ -1 +1 @@
-!function(a,e){"use strict";e.behaviors.blazyMedia={attach:function(e){a(".media--player",e).once("blazy-media").each(function(){var e=a(this),i=e.closest(".slick__slider"),s=i.closest(".slick"),l=e.find("iframe"),c=l.clone(),n=c.data("media"),o=c.data("lazy")||c.data("src"),d="";s.closest(".slick__slider").length&&(d=s.closest(".slick__slider")),l.remove(),e.on("click.media-play",".media__icon--play",function(){if(""===o)return!1;var s=o.indexOf("auto_play"),l=o.indexOf("autoplay"),t=o.indexOf("?");return"soundcloud"===n.scheme?(0>s||s===!1)&&(o=0>t?o+"?auto_play=true":o+"&amp;auto_play=true"):(0>l||0===l)&&(o=0>t?o+"?autoplay=1":o+"&amp;autoplay=1"),e.removeClass("is-playing"),a(".is-paused").removeClass("is-paused"),i.length&&i.addClass("is-paused").slick("slickPause"),d&&d.addClass("is-paused").slick("slickPause"),e.addClass("is-playing").append(c),c.attr("src",o),!1}),e.on("click.media-close",".media__icon--close",function(){return e.removeClass("is-playing").find("iframe").remove(),a(".is-paused").removeClass("is-paused"),!1}),i.on("afterChange",function(){i.find(".is-playing .media__icon--close").trigger("click.media-close")}),d&&d.on("afterChange",function(){d.find(".is-playing .media__icon--close").trigger("click.media-close")})})}}}(jQuery,Drupal);
+!function(a,b){"use strict";function c(b,c){function l(b){b.preventDefault();var c=a(this);if(""===j)return!1;j=c.data("url");var f=j.indexOf("auto_play"),g=j.indexOf("autoplay"),l=j.indexOf("?");i&&"soundcloud"===i.scheme?(f<0||f===!1)&&(j=l<0?j+"?auto_play=true":j+"&amp;auto_play=true"):(g<0||0===g)&&(j=l<0?j+"?autoplay=1":j+"&amp;autoplay=1"),d.removeClass("is-playing"),a(".is-paused").removeClass("is-paused"),e.length&&(e.addClass("is-paused").slick("slickPause"),k&&k.addClass("is-paused").slick("slickPause")),d.addClass("is-playing").append(h),h.attr("src",j),window.setTimeout(function(){d.find(".media__cloned").length||(h=a("<iframe />",{class:"media__iframe media__element media__clone",src:j}),d.append(h))},800)}function m(b){b.preventDefault(),a(b.delegateTarget).removeClass("is-playing").find("iframe").remove(),a(".is-paused").removeClass("is-paused")}function n(b){a(b.delegateTarget).find(".is-playing .media__icon--close").trigger("click.media-close")}var d=a(c),e=d.closest(".slick__slider"),f=e.closest(".slick"),g=d.find("iframe"),h=g.clone().addClass("media__cloned"),i=h.data("media"),j=h.data("lazy")||h.data("src"),k="";f.closest(".slick__slider").length&&(k=f.closest(".slick__slider")),g.remove(),d.on("click.media-play",".media__icon--play",l),d.on("click.media-close",".media__icon--close",m),e.length&&(e.on("afterChange",n),k&&k.on("afterChange",n))}b.behaviors.blazyMedia={attach:function(b){a(".media--player",b).once("blazy-media").each(c)},detach:function(b,c,d){"unload"===d&&a(".media--player",b).removeOnce("blazy-media").off(".media-play .media-close")}}}(jQuery,Drupal);
diff --git a/js/blazy.photobox.js b/js/blazy.photobox.js
index e4eda8f..b0b2d62 100644
--- a/js/blazy.photobox.js
+++ b/js/blazy.photobox.js
@@ -11,8 +11,8 @@
 
   Drupal.behaviors.blazyPhotobox = {
     attach: function (context) {
-      $('div[data-blazy], .slick--photobox', context).once('blazy-photobox').each(function () {
-        $(this).photobox('a[data-photobox]', {thumb: '> [data-thumb]', thumbAttr: 'data-thumb'}, Drupal.blazy.photobox);
+      $('[data-photobox-gallery]', context).once('blazy-photobox').each(function () {
+        $(this).photobox('a[data-photobox-trigger]', {thumb: '> [data-thumb]', thumbAttr: 'data-thumb'}, Drupal.blazy.photobox);
       });
     }
   };
diff --git a/js/blazy.photobox.min.js b/js/blazy.photobox.min.js
index fb1d6cd..100a5c3 100644
--- a/js/blazy.photobox.min.js
+++ b/js/blazy.photobox.min.js
@@ -1 +1 @@
-!function(t,o){"use strict";o.blazy=o.blazy||{},o.behaviors.blazyPhotobox={attach:function(a){t("div[data-blazy], .slick--photobox",a).once("blazy-photobox").each(function(){t(this).photobox("a[data-photobox]",{thumb:"> [data-thumb]",thumbAttr:"data-thumb"},o.blazy.photobox)})}},o.blazy.photobox=function(){var o=t(this).next(".litebox-caption");o.length&&t("#pbCaption .title").html(o.html())}}(jQuery,Drupal);
+!function(a,b){"use strict";b.blazy=b.blazy||{},b.behaviors.blazyPhotobox={attach:function(c){a("[data-photobox-gallery]",c).once("blazy-photobox").each(function(){a(this).photobox("a[data-photobox-trigger]",{thumb:"> [data-thumb]",thumbAttr:"data-thumb"},b.blazy.photobox)})}},b.blazy.photobox=function(){var b=a(this).next(".litebox-caption");b.length&&a("#pbCaption .title").html(b.html())}}(jQuery,Drupal);
diff --git a/src/Blazy.php b/src/Blazy.php
index 13c9f39..ee929bb 100644
--- a/src/Blazy.php
+++ b/src/Blazy.php
@@ -2,15 +2,20 @@
 
 namespace Drupal\blazy;
 
+use Drupal\Core\Cache\Cache;
 use Drupal\Core\Template\Attribute;
+use Drupal\Core\StringTranslation\TranslatableMarkup;
+use Drupal\Component\Utility\Html;
+use Drupal\Component\Utility\NestedArray;
 use Drupal\Component\Utility\Unicode;
 use Drupal\Component\Serialization\Json;
+use Drupal\image\Entity\ImageStyle;
 use Drupal\blazy\Dejavu\BlazyDefault;
 
 /**
- * Defines preprocess and alter methods specific to blazy.
+ * Implements BlazyInterface.
  */
-class Blazy extends BlazyManager {
+class Blazy implements BlazyInterface {
 
   /**
    * Defines constant placeholder Data URI image.
@@ -18,54 +23,54 @@ class Blazy extends BlazyManager {
   const PLACEHOLDER = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';
 
   /**
-   * Prepares variables for blazy templates.
+   * Prepares variables for blazy.html.twig templates.
    */
   public static function buildAttributes(&$variables) {
     $element = $variables['element'];
-    foreach (['attributes', 'captions', 'item', 'item_attributes', 'settings', 'url', 'url_attributes'] as $key) {
+    foreach (['captions', 'item_attributes', 'settings', 'url', 'url_attributes'] as $key) {
       $variables[$key] = isset($element["#$key"]) ? $element["#$key"] : [];
     }
 
     // Load the supported formatter variables for the possesive blazy wrapper.
-    $item               = $variables['item'];
-    $settings           = &$variables['settings'];
-    $attributes         = &$variables['attributes'];
-    $image_attributes   = &$variables['item_attributes'];
+    $item             = isset($element['#item']) ? $element['#item'] : [];
+    $settings         = &$variables['settings'];
+    $attributes       = &$variables['attributes'];
+    $image_attributes = &$variables['item_attributes'];
 
-    // Modifies variables.
-    foreach (['icon', 'lightbox', 'media_switch', 'player', 'scheme', 'type'] as $key) {
+    // Provides sensible defaults to shut up notices when lacking of settings.
+    foreach (['icon', 'image_style', 'media_switch', 'player', 'scheme'] as $key) {
       $settings[$key] = isset($settings[$key]) ? $settings[$key] : '';
     }
 
+    $settings['type']    = empty($settings['type']) ? 'image' : $settings['type'];
     $settings['ratio']   = empty($settings['ratio']) ? '' : str_replace(':', '', $settings['ratio']);
     $settings['item_id'] = empty($settings['item_id']) ? 'blazy' : $settings['item_id'];
 
-    if (empty($settings['icon']) && !empty($settings['lightbox'])) {
-      $settings['icon'] = ['#markup' => '<span class="media__icon media__icon--litebox"></span>'];
+    self::buildUrl($settings, $item);
+
+    // Do not proceed if no URI is provided.
+    // URI is stored within settings, not theme_blazy() property, as it is
+    // always called for different purposes prior to arriving at theme_blazy().
+    if (empty($settings['uri'])) {
+      return;
     }
 
     // Supports non-blazy formatter, that is, responsive image theme.
-    $image  = &$variables['image'];
-    $iframe = [];
-
-    // Media URL is stored in the settings.
-    $media = !empty($settings['embed_url']) && !empty($settings['type']) && in_array($settings['type'], ['video', 'audio']);
+    $image = &$variables['image'];
+    $media = !empty($settings['embed_url']) && in_array($settings['type'], ['audio', 'video']);
 
     // The regular non-responsive, non-lazyloaded image URI where image_url may
     // contain image_style which is not expected by responsive_image.
     $image['#uri'] = empty($settings['image_url']) ? $settings['uri'] : $settings['image_url'];
 
-    if (!empty($settings['thumbnail_url'])) {
-      $attributes['data-thumb'] = $settings['thumbnail_url'];
+    // Thumbnails.
+    // With CSS background, IMG may be empty, add thumbnail to the container.
+    if (!empty($settings['thumbnail_style'])) {
+      $attributes['data-thumb'] = self::buildThumbnailUrl($settings);
     }
 
-    $height = isset($item->height) ? $item->height : NULL;
-    $width  = isset($item->width) ? $item->width : NULL;
-    $height = isset($settings['height']) ? $settings['height'] : $height;
-    $width  = isset($settings['width']) ? $settings['width'] : $width;
-
     // Check whether we have responsive image, or lazyloaded one.
-    if (!empty($settings['responsive_image_style_id']) && !empty($settings['uri'])) {
+    if (!empty($settings['responsive_image_style_id'])) {
       $image['#type'] = 'responsive_image';
       $image['#responsive_image_style_id'] = $settings['responsive_image_style_id'];
       $image['#uri'] = $settings['uri'];
@@ -77,10 +82,34 @@ class Blazy extends BlazyManager {
       // Supports non-lazyloaded image.
       $image['#theme'] = 'image';
 
+      if (!isset($settings['_no_cache'])) {
+        $file_tags = isset($settings['file_tags']) ? $settings['file_tags'] : [];
+        $settings['cache_tags'] = empty($settings['cache_tags']) ? $file_tags : Cache::mergeTags($settings['cache_tags'], $file_tags);
+        $image['#cache'] = ['tags' => $settings['cache_tags']];
+
+        if (!empty($settings['cache_keys'])) {
+          $image['#cache']['keys'] = $settings['cache_keys'];
+        }
+      }
+
+      // Aspect ratio to fix layout reflow with lazyloaded images responsively.
+      // This is outside 'lazy' to allow non-lazyloaded iframes use this too.
+      if (!empty($settings['width'])) {
+        if (!empty($settings['ratio']) && in_array($settings['ratio'], ['enforced', 'fluid'])) {
+          $padding_bottom = round((($settings['height'] / $settings['width']) * 100), 2);
+          $attributes['style'] = 'padding-bottom: ' . $padding_bottom . '%';
+          $settings['_breakpoint_ratio'] = $settings['ratio'];
+        }
+
+        // Only output dimensions for non-responsive images.
+        $image_attributes['height'] = $settings['height'];
+        $image_attributes['width']  = $settings['width'];
+      }
+
       if (!empty($settings['lazy'])) {
         $image['#uri'] = static::PLACEHOLDER;
 
-        // Attach data-attributes to the either DIV or IMG container.
+        // Attach data attributes to either IMG tag or DIV container.
         if (empty($settings['background']) || empty($settings['blazy'])) {
           self::buildBreakpointAttributes($image_attributes, $settings);
         }
@@ -95,20 +124,17 @@ class Blazy extends BlazyManager {
             $image = [];
           }
         }
-      }
 
-      // Aspect ratio to fix layout reflow with lazyloaded images responsively.
-      if (!empty($height) && !empty($settings['ratio']) && in_array($settings['ratio'], ['enforced', 'fluid'])) {
-        $padding_bottom = isset($settings['padding_bottom']) ? $settings['padding_bottom'] : round((($height / $width) * 100), 2);
-        $attributes['style'] = 'padding-bottom: ' . $padding_bottom . '%';
+        // Multi-breakpoint aspect ratio.
+        if (!empty($settings['_breakpoint_dimensions'])) {
+          $attributes['data-dimensions'] = Json::encode($settings['_breakpoint_dimensions']);
+        }
       }
     }
 
-    // Image is optional for Video, and CSS background images.
+    // Image is optional for Video, and Blazy CSS background images.
     if ($image) {
-      $image_attributes['height'] = $height;
-      $image_attributes['width']  = $width;
-      $image_attributes['alt']    = isset($item->alt) ? $item->alt : NULL;
+      $image_attributes['alt'] = isset($item->alt) ? $item->alt : NULL;
 
       // Do not output an empty 'title' attribute.
       if (isset($item->title) && (Unicode::strlen($item->title) != 0)) {
@@ -119,18 +145,30 @@ class Blazy extends BlazyManager {
       $image['#attributes'] = $image_attributes;
     }
 
-    // Prepares a media player.
-    if ($media) {
+    // Prepares a media player, and allows a tiny video preview without iframe.
+    if ($media && empty($settings['_noiframe'])) {
       // image : If iframe switch disabled, fallback to iframe, remove image.
       // player: If no colorbox/photobox, it is an image to iframe switcher.
       // data- : Gets consistent with colorbox to share JS manipulation.
-      $lazy                    = empty($settings['lazy_attribute']) ? 'src' : $settings['lazy_attribute'];
-      $image                   = empty($settings['media_switch']) ? [] : $image;
-      $settings['player']      = empty($settings['lightbox']) && $settings['media_switch'] != 'content';
-      $iframe['data-media']    = Json::encode(['type' => $settings['type'], 'scheme' => $settings['scheme']]);
-      $iframe['data-' . $lazy] = $settings['embed_url'];
-      $iframe['class'][]       = empty($settings['lazy_class']) ? 'b-lazy' : $settings['lazy_class'];
-      $iframe['src']           = empty($settings['iframe_lazy']) ? $settings['embed_url'] : 'about:blank';
+      $image                = empty($settings['media_switch']) ? [] : $image;
+      $settings['player']   = empty($settings['lightbox']) && $settings['media_switch'] != 'content';
+      $iframe['data-media'] = Json::encode(['type' => $settings['type'], 'scheme' => $settings['scheme']]);
+      $iframe['data-src']   = $settings['embed_url'];
+      $iframe['src']        = empty($settings['iframe_lazy']) ? $settings['embed_url'] : 'about:blank';
+
+      // Only lazyload if media switcher is empty, but iframe lazy enabled.
+      if (!empty($settings['iframe_lazy']) && empty($settings['media_switch'])) {
+        $iframe['class'][] = 'b-lazy';
+      }
+
+      // Prevents broken iframe when aspect ratio is empty.
+      if (empty($settings['ratio'])) {
+        $iframe['width'] = $settings['width'];
+        $iframe['height'] = $settings['height'];
+      }
+
+      // Pass iframe attributes to template.
+      $variables['iframe_attributes'] = new Attribute($iframe);
     }
 
     if (!empty($settings['caption'])) {
@@ -138,50 +176,172 @@ class Blazy extends BlazyManager {
       $variables['caption_attributes']->addClass($settings['item_id'] . '__caption');
     }
 
-    // URL can be entity or lightbox URL different from the content image URL.
-    $variables['content_attributes'] = new Attribute($iframe);
-    $variables['url_attributes']     = new Attribute($variables['url_attributes']);
+    // URL can be entity, or lightbox URL different from image URL.
+    $variables['url_attributes']    = new Attribute($variables['url_attributes']);
+
+    // Provides wrapper attributes if requested for complex need such as grid.
+    $variables['wrapper_attributes'] = isset($element['#wrapper_attributes']) ? new Attribute($element['#wrapper_attributes']) : [];
   }
 
   /**
    * Provides re-usable breakpoint data-attributes.
    *
    * $settings['breakpoints'] must contain: xs, sm, md, lg breakpoints with
-   * the expected keys: width, image_style, url.
+   * the expected keys: width, image_style.
    *
    * @see self::buildAttributes()
    * @see BlazyManager::buildDataBlazy()
-   * @see BlazyManager::getUrlBreakpoints()
    */
-  public static function buildBreakpointAttributes(array &$attributes = [], $settings = []) {
+  public static function buildBreakpointAttributes(array &$attributes = [], array &$settings = []) {
     $lazy_attribute = empty($settings['lazy_attribute']) ? 'src' : $settings['lazy_attribute'];
-    $lazy_class = empty($settings['lazy_class']) ? 'b-lazy' : $settings['lazy_class'];
 
     // Defines attributes, builtin, or supported lazyload such as Slick.
     // Required for multi-serving images as of Blazy v1.6.0.
-    $attributes['class'][] = $lazy_class;
-    $attributes['data-' . $lazy_attribute] = empty($settings['image_url']) ? '' : $settings['image_url'];
-
-    if (!empty($settings['breakpoints'])) {
-      if (!empty($settings['background'])) {
-        foreach ($settings['breakpoints'] as $key => $breakpoint) {
-          if (!empty($breakpoint['url'])) {
-            $attributes['data-src-' . $key] = $breakpoint['url'];
+    $attributes['class'][] = empty($settings['lazy_class']) ? 'b-lazy' : $settings['lazy_class'];
+    $attributes['data-' . $lazy_attribute] = $settings['image_url'];
+
+    // Only provide multi-serving image URLs if breakpoints are provided.
+    if (empty($settings['breakpoints'])) {
+      return;
+    }
+
+    $srcset = $json = [];
+    foreach ($settings['breakpoints'] as $key => $breakpoint) {
+      if (empty($breakpoint['image_style']) || empty($breakpoint['width'])) {
+        continue;
+      }
+
+      if ($style = ImageStyle::load($breakpoint['image_style'])) {
+        $url = $style->buildUrl($settings['uri']);
+
+        // Supports multi-breakpoint aspect ratio with irregular sizes.
+        if (!empty($settings['_breakpoint_ratio'])) {
+          $dimensions = [
+            'width'  => $settings['width'],
+            'height' => $settings['height'],
+          ];
+
+          $style->transformDimensions($dimensions, $settings['uri']);
+          if ($width = self::widthFromDescriptors($breakpoint['width'])) {
+            $json[$width] = round((($dimensions['height'] / $dimensions['width']) * 100), 2);
           }
         }
+
+        $settings['breakpoints'][$key]['url'] = $url;
+
+        // @todo: Recheck library if multi-styled BG is still supported anyway.
+        if (!empty($settings['background'])) {
+          $attributes['data-src-' . $key] = $url;
+        }
+        elseif (!empty($breakpoint['width'])) {
+          $width = trim($breakpoint['width']);
+          $width = is_numeric($width) ? $width . 'w' : $width;
+          $srcset[] = $url . ' ' . $width;
+        }
+      }
+    }
+
+    if ($srcset) {
+      $settings['srcset'] = implode(', ', $srcset);
+
+      $attributes['srcset'] = '';
+      $attributes['data-srcset'] = $settings['srcset'];
+      $attributes['sizes'] = '100w';
+
+      if (!empty($settings['sizes'])) {
+        $attributes['sizes'] = trim($settings['sizes']);
+        unset($attributes['height'], $attributes['width']);
       }
-      elseif (!empty($settings['srcset'])) {
-        $attributes['srcset'] = '';
-        $attributes['data-srcset'] = $settings['srcset'];
-        $attributes['sizes'] = '100w';
+    }
+
+    if ($json) {
+      $settings['_breakpoint_dimensions'] = $json;
+    }
+  }
+
+  /**
+   * Builds URLs, cache tags, and dimensions for individual image.
+   */
+  public static function buildUrl(array &$settings = [], $item = NULL, $modifier = NULL) {
+    $modifier = empty($modifier) ? $settings['image_style'] : $modifier;
 
-        if (!empty($settings['sizes'])) {
-          $attributes['sizes'] = trim($settings['sizes']);
-          unset($attributes['width']);
-          unset($attributes['height']);
+    // Blazy already sets URI, yet set fallback for direct theme_blazy() call.
+    if (empty($settings['uri']) && $item) {
+      $settings['uri'] = ($entity = $item->entity) && empty($item->uri) ? $entity->getFileUri() : $item->uri;
+    }
+
+    if (empty($settings['uri'])) {
+      return;
+    }
+
+    // Lazyloaded elements expect image URL, not URI.
+    if (empty($settings['image_url'])) {
+      $settings['image_url'] = file_create_url($settings['uri']);
+    }
+
+    // Sets dimensions.
+    // @todo: Compare to ::buildDataBlazy(), only proceed if different.
+    if (empty($settings['width'])) {
+      $settings['width']  = isset($item->width)  ? $item->width  : NULL;
+      $settings['height'] = isset($item->height) ? $item->height : NULL;
+
+      // Only applies when Image style is empty, no file API, no $item,
+      // with unmanaged VEF image without image_style.
+      if (empty($modifier) || empty($settings['width'])) {
+        // Prevents 404 warning when video thumbnail missing for a reason.
+        if ($data = @getimagesize($settings['uri'])) {
+          list($settings['width'], $settings['height']) = $data;
         }
       }
     }
+
+    // Image style modifier can be multi-style images such as GridStack.
+    if (!empty($modifier) && ($style = ImageStyle::load($modifier))) {
+      // Image URLs, as opposed to URIs, are expected by lazyloaded images.
+      $settings['image_url']  = $style->buildUrl($settings['uri']);
+      $settings['cache_tags'] = $style->getCacheTags();
+
+      $dimensions = [
+        'width'  => $settings['width'],
+        'height' => $settings['height'],
+      ];
+      $style->transformDimensions($dimensions, $settings['uri']);
+      $settings['height'] = $dimensions['height'];
+      $settings['width']  = $dimensions['width'];
+    }
+  }
+
+  /**
+   * Builds thumbnail URL for Photobox, PhotoSwipe, Entity Browser, etc.
+   */
+  public static function buildThumbnailUrl($settings = []) {
+    return ImageStyle::load($settings['thumbnail_style'])->buildUrl($settings['uri']);
+  }
+
+  /**
+   * Gets the numeric "width" part from a descriptor.
+   */
+  public static function widthFromDescriptors($descriptor = '') {
+    // Dynamic multi-serving aspect ratio with backward compatibility.
+    if (is_numeric($descriptor)) {
+      return $descriptor;
+    }
+
+    // Cleanup w descriptor to fetch numerical width for JS aspect ratio.
+    $width = strpos($descriptor, "w") !== FALSE ? str_replace('w', '', $descriptor) : $descriptor;
+
+    // If both w and x descriptors are provided.
+    if (strpos($descriptor, " ") !== FALSE) {
+      // If the position is expected: 640w 2x.
+      list($width, $px) = array_pad(array_map('trim', explode(" ", $width, 2)), 2, NULL);
+
+      // If the position is reversed: 2x 640w.
+      if (is_numeric($px) && strpos($width, "x") !== FALSE) {
+        $width = $px;
+      }
+    }
+
+    return $width;
   }
 
   /**
@@ -190,7 +350,7 @@ class Blazy extends BlazyManager {
   public static function configSchemaInfoAlter(array &$definitions, $formatter = 'blazy_base', $settings = []) {
     if (isset($definitions[$formatter])) {
       $mappings = &$definitions[$formatter]['mapping'];
-      $settings = $settings ?: BlazyDefault::extendedSettings();
+      $settings = $settings ?: BlazyDefault::extendedSettings() + BlazyDefault::gridSettings();
       foreach ($settings as $key => $value) {
         $mappings[$key]['type'] = $key == 'breakpoints' ? 'mapping' : (is_array($value) ? 'sequence' : gettype($value));
 
@@ -209,15 +369,72 @@ class Blazy extends BlazyManager {
         }
       }
 
-      if (isset($mappings['overridables'])) {
-        $mappings['overridables']['label'] = 'Overridable options';
-        $mappings['overridables']['sequence'][0]['type'] = 'string';
-        $mappings['overridables']['sequence'][0]['label'] = 'Overridable';
+      // @todo: Drop non-UI stuffs.
+      foreach (['dimension', 'display', 'item_id'] as $key) {
+        $mappings[$key]['type'] = 'string';
       }
     }
   }
 
   /**
+   * Implements hook_views_pre_render().
+   */
+  public static function viewsPreRender($view) {
+    // Load Blazy library once, not per field, if any Blazy Views field found.
+    if ($blazy = self::blazyViewsField($view)) {
+      $plugin_id = $view->getStyle()->getPluginId();
+      $settings = $blazy->mergedViewsSettings();
+      $load = $blazy->blazyManager()->attach($settings);
+
+      // Enforce Blazy to work with hidden element such as with EB selection.
+      $load['drupalSettings']['blazy']['loadInvisible'] = TRUE;
+      $view->element['#attached'] = isset($view->element['#attached']) ? NestedArray::mergeDeep($view->element['#attached'], $load) : $load;
+      $view->element['#attributes']['data-blazy'] = TRUE;
+
+      $grid = $plugin_id == 'blazy';
+      if ($options = $view->getStyle()->options) {
+        $grid = empty($options['grid']) ? $grid : TRUE;
+      }
+
+      // Prevents dup [data-LIGHTBOX-gallery] if the Views style supports Grid.
+      if (!empty($settings['media_switch']) && !$grid) {
+        $switch = str_replace('_', '-', $settings['media_switch']);
+        $view->element['#attributes']['data-' . $switch . '-gallery'] = TRUE;
+      }
+    }
+  }
+
+  /**
+   * Returns one of the Blazy Views fields, if available.
+   */
+  public static function blazyViewsField($view) {
+    foreach (['file', 'media'] as $entity) {
+      if (isset($view->field['blazy_' . $entity])) {
+        return $view->field['blazy_' . $entity];
+      }
+    }
+    return FALSE;
+  }
+
+  /**
+   * Implements hook_field_formatter_info_alter().
+   */
+  public static function fieldFormatterInfoAlter(array &$info) {
+    // Supports optional Media Entity via VEM within VEF if available.
+    if (function_exists('video_embed_media_media_bundle_insert')) {
+      $info['blazy_file'] = [
+        'id'          => 'blazy_file',
+        'label'       => new TranslatableMarkup('Blazy Image with Media'),
+        'description' => new TranslatableMarkup('Display the images associated to VEM/ME as videos.'),
+        'class'       => 'Drupal\blazy\Plugin\Field\FieldFormatter\BlazyFileFormatter',
+        'field_types' => ['entity_reference', 'image'],
+        'quickedit'   => ['editor' => 'disabled'],
+        'provider'    => 'blazy',
+      ];
+    }
+  }
+
+  /**
    * Return blazy global config.
    */
   public static function getConfig($setting_name = '', $settings = 'blazy.settings') {
@@ -229,7 +446,10 @@ class Blazy extends BlazyManager {
    * Returns the HTML ID of a single instance.
    */
   public static function getHtmlId($string = 'blazy', $id = '') {
-    return parent::getHtmlId($string, $id);
+    $blazy_id = &drupal_static('blazy_id', 0);
+
+    // Do not use dynamic Html::getUniqueId, otherwise broken AJAX.
+    return empty($id) ? Html::getId($string . '-' . ++$blazy_id) : $id;
   }
 
 }
diff --git a/src/BlazyFormatterManager.php b/src/BlazyFormatterManager.php
index 1dbda66..4179f3e 100644
--- a/src/BlazyFormatterManager.php
+++ b/src/BlazyFormatterManager.php
@@ -8,10 +8,17 @@ namespace Drupal\blazy;
 class BlazyFormatterManager extends BlazyManager {
 
   /**
-   * {@inheritdoc}
+   * Returns the field formatter settings inherited by child elements.
+   *
+   * @param array $build
+   *   The array containing: settings, or potential optionset for extensions.
+   * @param array $items
+   *   The items to prepare settings for.
    */
   public function buildSettings(array &$build = [], $items) {
     $settings = &$build['settings'];
+    // @todo: Enable after proper checks.
+    // $settings = array_filter($settings);
 
     // Sniffs for Views to allow block__no_wrapper, views_no_wrapper, etc.
     if (function_exists('views_get_current_view') && $view = views_get_current_view()) {
@@ -32,7 +39,7 @@ class BlazyFormatterManager extends BlazyManager {
     $view_mode      = empty($settings['current_view_mode']) ? '_custom' : $settings['current_view_mode'];
     $namespace      = empty($settings['namespace']) ? 'blazy' : $settings['namespace'];
     $id             = isset($settings['id']) ? $settings['id'] : '';
-    $id             = self::getHtmlId("{$namespace}-{$entity_type_id}-{$entity_id}-{$field_clean}-{$view_mode}", $id);
+    $id             = Blazy::getHtmlId("{$namespace}-{$entity_type_id}-{$entity_id}-{$field_clean}-{$view_mode}", $id);
     $switch         = empty($settings['media_switch']) ? '' : empty($settings['media_switch']);
     $internal_path  = $absolute_path = NULL;
 
@@ -54,26 +61,31 @@ class BlazyFormatterManager extends BlazyManager {
       'entity_type_id' => $entity_type_id,
       'field_type'     => $field_type,
       'field_name'     => $field_name,
+      'id'             => $id,
       'internal_path'  => $internal_path,
-      'lightbox'       => $switch && strpos($switch, 'box') !== FALSE,
       'target_type'    => $target_type,
       'cache_metadata' => ['keys' => [$id, $count]],
     ];
 
+    unset($entity, $field);
+    $settings['lightbox'] = ($switch && in_array($switch, $this->getLightboxes())) ? $switch : FALSE;
+
+    if (!empty($settings['vanilla'])) {
+      return;
+    }
+
     $this->cleanUpBreakpoints($settings);
 
-    $settings['id']         = $id;
     $settings['caption']    = empty($settings['caption']) ? [] : array_filter($settings['caption']);
     $settings['resimage']   = function_exists('responsive_image_get_image_dimensions');
     $settings['background'] = empty($settings['responsive_image_style']) && !empty($settings['background']);
 
-    // @todo simplify these doors.
-    $resimage = $this->configLoad('responsive_image') && !empty($settings['responsive_image_style']);
-    $blazy = isset($settings['theme_hook_image']) && $settings['theme_hook_image'] == 'blazy';
-    $settings['blazy'] = $blazy || !empty($settings['blazy']) || !empty($settings['breakpoints']) || $resimage;
+    $resimage_lazy     = $this->configLoad('responsive_image') && !empty($settings['responsive_image_style']);
+    $blazy             = isset($settings['theme_hook_image']) && $settings['theme_hook_image'] == 'blazy';
+    $settings['blazy'] = $blazy || $resimage_lazy || !empty($settings['blazy']);
 
-    if (!isset($settings['blazy_data'])) {
-      $settings['blazy_data'] = $field_type == 'image' ? $this->buildDataBlazy($settings, $items[0]) : [];
+    if (!empty($settings['blazy'])) {
+      $settings['lazy'] = 'blazy';
     }
 
     // Aspect ratio isn't working with Responsive image, yet.
@@ -86,8 +98,6 @@ class BlazyFormatterManager extends BlazyManager {
       }
     }
     $settings['ratio'] = $ratio ? $settings['ratio'] : FALSE;
-
-    unset($entity, $field);
   }
 
 }
diff --git a/src/BlazyGrid.php b/src/BlazyGrid.php
new file mode 100644
index 0000000..d2eb78b
--- /dev/null
+++ b/src/BlazyGrid.php
@@ -0,0 +1,106 @@
+<?php
+
+namespace Drupal\blazy;
+
+use Drupal\Component\Serialization\Json;
+
+/**
+ * Provides grid utilities.
+ */
+class BlazyGrid {
+
+  /**
+   * Returns items as a grid display wrapped by theme_item_list().
+   *
+   * @param array $items
+   *   The grid items being modified.
+   * @param array $settings
+   *   The given settings.
+   *
+   * @return array
+   *   The modified array of grid items.
+   */
+  public static function buildGrid($items = [], $settings = []) {
+    $grids = [];
+    foreach ($items as $delta => $item) {
+      // @todo support non-Blazy which normally uses item_id.
+      $item_settings = isset($item['#build']['settings']) ? $item['#build']['settings'] : $settings;
+      $item_settings['delta'] = $delta;
+
+      // Supports both single formatter field and complex fields such as Views.
+      $grid = [];
+      $grid['content'] = [
+        '#theme'      => 'container',
+        '#children'   => $item,
+        '#attributes' => ['class' => ['grid__content']],
+      ];
+
+      self::buildGridItemAttributes($grid, $item_settings);
+
+      $grids[] = $grid;
+    }
+
+    $count = empty($settings['count']) ? count($grids) : $settings['count'];
+    $blazy = empty($settings['blazy_data']) ? '' : $settings['blazy_data'];
+    $element = [
+      '#theme' => 'item_list',
+      '#items' => $grids,
+      '#attributes' => [
+       'class' => [
+         'blazy',
+         'blazy--grid',
+         'block-' . $settings['style'],
+         'block-count-' . $count,
+        ],
+        'data-blazy' => Json::encode($blazy),
+      ],
+      '#wrapper_attributes' => [
+        'class' => ['item-list--blazy', 'item-list--blazy-' . $settings['style']],
+      ],
+    ];
+
+    if (!empty($settings['media_switch'])) {
+      $switch = str_replace('_', '-', $settings['media_switch']);
+      $element['#attributes']['data-' . $switch . '-gallery'] = TRUE;
+    }
+
+    $settings['grid_large'] = $settings['grid'];
+    foreach (['small', 'medium', 'large'] as $grid) {
+      if (!empty($settings['grid_' . $grid])) {
+        $element['#attributes']['class'][] = $grid . '-block-' . $settings['style'] . '-' . $settings['grid_' . $grid];
+      }
+    }
+
+    return $element;
+  }
+
+  /**
+   * Returns a grid item.
+   *
+   * @param array $grid
+   *   The grid item being modified.
+   * @param array $settings
+   *   The given settings.
+   */
+  public static function buildGridItemAttributes(array &$grid = [], $settings = []) {
+    $grid['#wrapper_attributes']['class'][] = 'grid';
+
+    if (!empty($settings['type'])) {
+      $grid['#wrapper_attributes']['class'][] = 'grid--' . $settings['type'];
+    }
+
+    if (!empty($settings['media_switch'])) {
+      $grid['#wrapper_attributes']['class'][] = 'grid--' . $settings['media_switch'];
+      if (strpos($settings['media_switch'], 'box') !== FALSE) {
+        $grid['#wrapper_attributes']['class'][] = 'grid--litebox';
+      }
+    }
+
+    $grid['#wrapper_attributes']['class'][] = 'grid--' . $settings['delta'];
+
+    if ($settings['delta'] == 0) {
+      $grid['#settings'] = array_filter($settings);
+    }
+  }
+
+}
diff --git a/src/BlazyInterface.php b/src/BlazyInterface.php
new file mode 100644
index 0000000..c0ef120
--- /dev/null
+++ b/src/BlazyInterface.php
@@ -0,0 +1,8 @@
+<?php
+
+namespace Drupal\blazy;
+
+/**
+ * Defines re-usable services and functions for blazy plugins.
+ */
+interface BlazyInterface {}
diff --git a/src/BlazyLightbox.php b/src/BlazyLightbox.php
new file mode 100644
index 0000000..5163bb3
--- /dev/null
+++ b/src/BlazyLightbox.php
@@ -0,0 +1,179 @@
+<?php
+
+namespace Drupal\blazy;
+
+use Drupal\Component\Serialization\Json;
+use Drupal\image\Entity\ImageStyle;
+
+/**
+ * Provides lightbox utilities.
+ */
+class BlazyLightbox {
+
+  /**
+   * Gets media switch options: colorbox, photobox, not content nor iframe, etc.
+   *
+   * @param array $element
+   *   The element being-modified.
+   */
+  public static function switchMedia(array &$element = []) {
+    $item     = $element['#item'];
+    $settings = &$element['#settings'];
+    $type     = empty($settings['type']) ? 'image' : $settings['type'];
+    $uri      = $settings['uri'];
+    $switch   = $settings['media_switch'];
+    $multiple = !empty($settings['count']) && $settings['count'] > 1;
+
+    // Provide relevant URL if it is a lightbox.
+    $url_attributes = [];
+    $url_attributes['class'] = ['blazy__' . $switch, 'litebox'];
+    $url_attributes['data-' . $switch . '-trigger'] = TRUE;
+
+    // If it is a video/audio, otherwise image to image.
+    $settings['box_url']  = file_create_url($uri);
+    $settings['lightbox'] = $switch;
+    $settings['width']    = empty($settings['width']) ? $item->width : $settings['width'];
+    $settings['height']   = empty($settings['height']) ? $item->height : $settings['height'];
+    $settings['icon']     = empty($settings['icon']) ? ['#markup' => '<span class="media__icon media__icon--litebox"></span>'] : $settings['icon'];
+
+    $dimensions = ['width' => $settings['width'], 'height' => $settings['height']];
+    if (!empty($settings['box_style'])) {
+      $box_style = ImageStyle::load($settings['box_style']);
+      $box_style->transformDimensions($dimensions, $uri);
+      $settings['box_url'] = $box_style->buildUrl($uri);
+    }
+
+    // Allows custom work to override this without image style, such as
+    // a combo of image, video, Instagram, etc.
+    if (empty($settings['_box_width'])) {
+      $settings['box_width'] = $dimensions['width'];
+      $settings['box_height'] = $dimensions['height'];
+    }
+
+    $json = ['type' => $type, 'width' => $settings['box_width'], 'height' => $settings['box_height']];
+    if (!empty($settings['embed_url'])) {
+      $url = $settings['embed_url'];
+
+      $json['scheme'] = $settings['scheme'];
+      $json['width']  = 640;
+      $json['height'] = 360;
+
+      // Force autoplay for media URL on lightboxes, saving another click.
+      if ($json['scheme'] == 'soundcloud') {
+        if (strpos($url, 'auto_play') === FALSE || strpos($url, 'auto_play=false') !== FALSE) {
+          $url = strpos($url, '?') === FALSE ? $url . '?auto_play=true' : $url . '&auto_play=true';
+        }
+      }
+      elseif (strpos($url, 'autoplay') === FALSE || strpos($url, 'autoplay=0') !== FALSE) {
+        $url = strpos($url, '?') === FALSE ? $url . '?autoplay=1' : $url . '&autoplay=1';
+      }
+
+      // Provides custom lightbox media dimension, if so configured.
+      // @todo: Remove for Lightbox media style.
+      if (!empty($settings['dimension'])) {
+        list($json['width'], $json['height']) = array_pad(array_map('trim', explode("x", $settings['dimension'], 2)), 2, NULL);
+      }
+
+      // This allows PhotoSwipe with videos still swipable.
+      if (!empty($settings['box_media_style'])) {
+        $box_media_style = ImageStyle::load($settings['box_media_style']);
+        $box_media_style->transformDimensions($dimensions, $uri);
+        $settings['box_url'] = $box_media_style->buildUrl($uri);
+
+        // Allows custom work to override this without image style, such as
+        // a combo of image, video, Instagram, etc.
+        if (empty($settings['_box_width'])) {
+          $settings['box_width']  = $dimensions['width'];
+          $settings['box_height'] = $dimensions['height'];
+        }
+
+        $json['width']  = $settings['box_width'];
+        $json['height'] = $settings['box_height'];
+      }
+
+      if ($switch == 'photobox') {
+        $url_attributes['rel'] = 'video';
+      }
+    }
+    else {
+      $url = $settings['box_url'];
+    }
+
+    if ($switch == 'colorbox' && $multiple) {
+      $json['rel'] = empty($settings['id']) ? 'blazy_colorbox' : $settings['id'];
+    }
+
+    $url_attributes['data-media'] = Json::encode($json);
+
+    if (!empty($settings['box_caption'])) {
+      $element['#captions']['lightbox'] = self::buildCaptions($item, $settings);
+    }
+
+    $element['#url'] = $url;
+    $element['#url_attributes'] = $url_attributes;
+  }
+
+  /**
+   * Build lightbox captions.
+   *
+   * @param \Drupal\image\Plugin\Field\FieldType\ImageItem $item
+   *   The image item.
+   * @param array $settings
+   *   The settings to work with.   
+   *
+   * @return array
+   *   The renderable array of caption, or empy array.
+   */
+  public static function buildCaptions($item, $settings = []) {
+    $title   = empty($item->title) ? '' : $item->title;
+    $alt     = empty($item->alt)   ? '' : $item->alt;
+    $delta   = empty($settings['delta']) ? 0 : $settings['delta'];
+    $caption = '';
+
+    switch ($settings['box_caption']) {
+      case 'auto':
+        $caption = $alt ?: $title;
+        break;
+
+      case 'alt':
+        $caption = $alt;
+        break;
+
+      case 'title':
+        $caption = $title;
+        break;
+
+      case 'alt_title':
+      case 'title_alt':
+        $alt     = $alt ? '<p>' . $alt . '</p>' : '';
+        $title   = $title ? '<h2>' . $title . '</h2>' : '';
+        $caption = $settings['box_caption'] == 'alt_title' ? $alt . $title : $title . $alt;
+        break;
+
+      case 'entity_title':
+        $caption = ($entity = $item->getEntity()) ? $entity->label() : '';
+        break;
+
+      case 'custom':
+        $caption = '';
+        if (!empty($settings['box_caption_custom']) && ($entity = $item->getEntity())) {
+          $options = ['clear' => TRUE];
+          $caption = \Drupal::token()->replace($settings['box_caption_custom'], [$entity->getEntityTypeId() => $entity, 'file' => $item], $options);
+
+          // Checks for multi-value text fields, and maps its delta to image.
+          if (strpos($caption, ", <p>") !== FALSE) {
+            $caption = str_replace(", <p>", '| <p>', $caption);
+            $captions = explode("|", $caption);
+            $caption = isset($captions[$delta]) ? $captions[$delta] : '';
+          }
+        }
+        break;
+
+      default:
+        $caption = '';
+    }
+
+    return empty($caption) ? [] : ['#markup' => $caption];
+  }
+
+}
diff --git a/src/BlazyManager.php b/src/BlazyManager.php
index 17a1f5b..d7f766d 100644
--- a/src/BlazyManager.php
+++ b/src/BlazyManager.php
@@ -4,8 +4,6 @@ namespace Drupal\blazy;
 
 use Drupal\Core\Cache\Cache;
 use Drupal\Core\Entity\EntityInterface;
-use Drupal\Component\Serialization\Json;
-use Drupal\Component\Utility\NestedArray;
 
 /**
  * Implements a public facing blazy manager.
@@ -15,49 +13,26 @@ use Drupal\Component\Utility\NestedArray;
 class BlazyManager extends BlazyManagerBase {
 
   /**
-   * Builds URLs for individual breakpoint, 0 is respected.
-   */
-  public function getUrlBreakpoints(array &$settings = []) {
-    if (!empty($settings['breakpoints']) && !empty($settings['uri'])) {
-      $srcset = [];
-      foreach ($settings['breakpoints'] as $key => $breakpoint) {
-        $image_style = empty($breakpoint['image_style']) ? '' : $breakpoint['image_style'];
-
-        if (!empty($image_style)) {
-          $image_styles[$key] = $this->entityLoad($image_style, 'image_style');
-          $url = $image_styles[$key]->buildUrl($settings['uri']);
-          $settings['breakpoints'][$key]['url'] = $url;
-
-          if ($breakpoint['width'] !== '') {
-            $width = is_numeric($breakpoint['width']) ? $breakpoint['width'] . 'w' : $breakpoint['width'];
-            $srcset[] = $url . ' ' . $width;
-          }
-        }
-      }
-
-      if ($srcset) {
-        $settings['srcset'] = implode(', ', $srcset);
-      }
-    }
-  }
-
-  /**
    * Cleans up empty breakpoints.
+   *
+   * @param array $settings
+   *   The settings being modified.
    */
   public function cleanUpBreakpoints(array &$settings = []) {
-    if (!empty($settings['breakpoints'])) {
-      foreach ($settings['breakpoints'] as $key => $breakpoint) {
-        if (empty($breakpoint['width']) && empty($breakpoint['image_style'])) {
-          unset($settings['breakpoints'][$key]);
-        }
-      }
+    if (empty($settings['breakpoints'])) {
+      return;
     }
 
-    $settings['breakpoints'] = empty($settings['breakpoints']) ? [] : array_filter($settings['breakpoints']);
+    foreach ($settings['breakpoints'] as $key => &$breakpoint) {
+      $breakpoint = array_filter($breakpoint);
+      if (empty($breakpoint['width']) || empty($breakpoint['image_style'])) {
+        unset($settings['breakpoints'][$key]);
+      }
+    }
 
-    // If breakpoints provided, enforce Blazy lazyloading without further ado.
-    if (!empty($settings['breakpoints'])) {
-      $settings['blazy'] = TRUE;
+    // Identify that Blazy can be activated only by breakpoints.
+    if (empty($settings['blazy'])) {
+      $settings['blazy'] = !empty($settings['breakpoints']);
     }
   }
 
@@ -68,87 +43,68 @@ class BlazyManager extends BlazyManagerBase {
    * The supported plugins can add [data-blazy] attribute into its container
    * containing $settings['blazy_data'] converted into [data-blazy] JSON.
    *
-   * @see \Drupal\gridstack\Plugin\views\style\GridStackViews::render().
-   * @see \Drupal\slick_views\Plugin\views\style\SlickViews::render().
-   * @see template_preprocess_slick().
-   * @see template_preprocess_gridstack().
+   * @param array $settings
+   *   The settings being modified.
+   * @param \Drupal\image\Plugin\Field\FieldType\ImageItem $item
+   *   The image item.
    *
-   * @todo unified way between View style plugin and field formatter.
+   * @todo unified way between Views styles, Views fields and field formatters.
    */
   public function isBlazy(array &$settings = [], $item = []) {
-    // Retrives Blazy formatter related settings from within Views style plugin.
+    // Retrieves Blazy formatter related settings from within Views style.
     $item_id = $settings['item_id'];
-    if (isset($item['settings']) && isset($item[$item_id]['#build']['settings'])) {
-      $blazy_settings = $item[$item_id]['#build']['settings'];
+    $content = isset($item[$item_id]) ? $item[$item_id] : $item;
 
-      if (isset($blazy_settings['blazy_data'])) {
-        $settings['blazy_data'] = $blazy_settings['blazy_data'];
-      }
+    // 1. Blazy formatter within Views fields by supported modules.
+    // Image/Media related slick formatters, e.g.:
+    // \Drupal\slick\Plugin\Field\FieldFormatter\SlickFileFormatterBase.
+    // \Drupal\blazy\Dejavu\BlazyEntityReferenceBase
+    if (isset($item['settings'])) {
+      $blazy = isset($content['#build']['settings']) ? $content['#build']['settings'] : [];
 
       // Allows breakpoints overrides such as multi-styled images by GridStack.
-      if (empty($settings['breakpoints']) && isset($blazy_settings['breakpoints'])) {
-        $settings['breakpoints'] = $blazy_settings['breakpoints'];
+      if (empty($settings['breakpoints']) && isset($blazy['breakpoints'])) {
+        $settings['breakpoints'] = $blazy['breakpoints'];
       }
 
-      foreach (['box_style', 'image_style', 'lazy', 'media_switch', 'ratio'] as $key) {
+      foreach (['blazy', 'box_style', 'image_style', 'lazy', 'media_switch', 'ratio', 'uri'] as $key) {
         $fallback = isset($settings[$key]) ? $settings[$key] : '';
-        $settings[$key] = isset($blazy_settings[$key]) && empty($fallback) ? $blazy_settings[$key] : $fallback;
+        $settings[$key] = isset($blazy[$key]) && empty($fallback) ? $blazy[$key] : $fallback;
       }
     }
 
-    // If not Blazy formatter, build the Blazy data as some plugins use Blazy.
-    if (isset($item['item']) && !isset($settings['blazy_data'])) {
-      $settings['blazy_data'] = $this->buildDataBlazy($settings, $item['item']);
-      $settings['blazy_data']['_reset'] = TRUE;
+    // 2. Blazy Views fields by supported modules.
+    if (isset($content['#view']) && ($view = $content['#view'])) {
+      if ($blazy_field = Blazy::blazyViewsField($view)) {
+        $settings = array_merge(array_filter($blazy_field->mergedViewsSettings()), array_filter($settings));
+      }
     }
+
+    // Provide data for the [data-blazy] attribute at the containing element.
+    // Supported modules can add blazy_data as [data-blazy] to the container.
+    $this->buildDataBlazy($settings);
   }
 
   /**
    * Builds breakpoints suitable for top-level [data-blazy] wrapper attributes.
+   *
+   * @param array $settings
+   *   The settings being modified.
    */
-  public function buildDataBlazy(array &$settings = [], $item = NULL) {
-    // Addresses the trouble with non-mobile-first approach.
-    $settings['_dimensions_reset'] = TRUE;
-    $this->getUrlDimensions($settings, $item);
-
+  public function buildDataBlazy(array &$settings = []) {
     $json = $sources = [];
     if (!empty($settings['breakpoints'])) {
       $end = end($settings['breakpoints']);
       foreach ($settings['breakpoints'] as $key => $breakpoint) {
-        if (empty($breakpoint['image_style'])) {
+        if (empty($breakpoint['image_style']) || empty($breakpoint['width'])) {
           continue;
         }
 
-        $point = $breakpoint['width'];
-
-        $image_styles[$point] = $this->entityLoad($breakpoint['image_style'], 'image_style');
-
-        $dimensions[$point] = [
-          'width'  => $settings['width'],
-          'height' => $settings['height'],
-        ];
-
-        $image_styles[$point]->transformDimensions($dimensions[$point], $settings['uri']);
-
-        $descriptor = $this->getDescriptors($point);
-        $padding = round((($dimensions[$point]['height'] / $dimensions[$point]['width']) * 100), 2);
-        $json['dimensions'][$descriptor] = $padding;
-
-        // Helper for the BG option.
-        if (empty($point)) {
-          $point = $dimensions[$point]['width'];
-        }
-
         if (!empty($settings['background'])) {
-          $source          = [];
-          $source['width'] = (int) $point;
-          $source['src']   = 'data-src-' . $key;
-          $sources[]       = $source;
-        }
+          $point = trim($breakpoint['width']);
+          $width = Blazy::widthFromDescriptors($point);
 
-        // Only set CSS padding-bottom value for the last breakpoint.
-        if (!empty($end['breakpoint']) && ($key == $end['breakpoint'] && $end['width'] == $point)) {
-          $settings['padding_bottom'] = $padding;
+          $sources[] = ['width' => (int) $width, 'src' => 'data-src-' . $key];
         }
       }
 
@@ -156,160 +112,84 @@ class BlazyManager extends BlazyManagerBase {
       $settings['blazy'] = TRUE;
     }
 
+    // As of Blazy v1.6.0 applied to BG only.
     if ($sources) {
-      // As of Blazy v1.6.0 applied to BG only.
       $json['breakpoints'] = $sources;
-
-      // @todo drop or fetch the last from breakpoints if available.
-      if (!empty($settings['width'])) {
-        $json['default'] = [$settings['width'], $settings['height']];
-      }
-    }
-
-    // Clean up URIs since this is meant for the top-level.
-    unset($settings['uri'], $settings['image_url']);
-    return $json;
-  }
-
-  /**
-   * Get the "w" (width) descriptor.
-   */
-  public function getDescriptors($point = '') {
-    // Dynamic multi-serving aspect ratio with backward compatibility.
-    if (is_numeric($point)) {
-      $descriptor = $point;
-    }
-    else {
-      // Cleanup w descriptor to fetch numerical width for JS aspect ratio.
-      if (strpos($point, "w") !== FALSE) {
-        $descriptor = str_replace('w', '', $point);
-      }
-
-      // If both w and x descriptors are provided.
-      if (strpos($point, " ") !== FALSE) {
-        // If the position is expected: 640w 2x.
-        list($descriptor, $px) = array_pad(array_map('trim', explode(" ", $descriptor, 2)), 2, NULL);
-
-        // If the position is reversed: 2x 640w.
-        if (is_numeric($px) && strpos($descriptor, "x") !== FALSE) {
-          $descriptor = $px;
-        }
-      }
-    }
-    return $descriptor;
-  }
-
-  /**
-   * Defines image dimensions once as it costs, unless reset for breakpoints.
-   */
-  public function getUrlDimensions(array &$settings = [], $item = NULL, $modifier = NULL) {
-    $settings['width']      = isset($settings['width'])  ? $settings['width']  : NULL;
-    $settings['height']     = isset($settings['height']) ? $settings['height'] : NULL;
-    $settings['cache_tags'] = empty($settings['cache_tags']) ? [] : $settings['cache_tags'];
-
-    // This is not always available with a VEF textfield.
-    if ($item && is_object($item)) {
-      $settings['width']  = isset($item->width)  ? $item->width  : NULL;
-      $settings['height'] = isset($item->height) ? $item->height : NULL;
-
-      if (!isset($settings['uri'])) {
-        $settings['uri'] = ($entity = $item->entity) && empty($item->uri) ? $entity->getFileUri() : $item->uri;
-      }
     }
 
-    if (!empty($settings['uri'])) {
-      if (!isset($settings['image_url'])) {
-        $settings['image_url'] = file_create_url($settings['uri']);
-      }
-
-      // No file API, no $item, with unmanaged VEF image without image_style.
-      $modifier = empty($modifier) ? $settings['image_style'] : $modifier;
-      if (empty($modifier) && empty($settings['width']) && !empty($settings['image_url'])) {
-        list($settings['width'], $settings['height']) = getimagesize($settings['image_url']);
-      }
+    $json['ratio'] = empty($settings['ratio']) ? FALSE : $settings['ratio'];
 
-      if (!empty($modifier)) {
-        $style = $this->entityLoad($modifier, 'image_style');
-
-        // Image URLs are for lazyloaded images.
-        $settings['image_url']  = $style->buildUrl($settings['uri']);
-        $settings['cache_tags'] = $style->getCacheTags();
-
-        // Unless reset for multi-styled images, set dimensions once.
-        if (empty($settings['_dimensions']) || isset($settings['_dimensions_reset'])) {
-          $dimensions = [
-            'width'  => $settings['width'],
-            'height' => $settings['height'],
-          ];
-          $style->transformDimensions($dimensions, $settings['uri']);
-          $settings['height']      = $dimensions['height'];
-          $settings['width']       = $dimensions['width'];
-          $settings['_dimensions'] = TRUE;
-        }
-      }
-    }
+    // Provide data for the [data-blazy] attribute at the containing element.
+    // Supported modules can add blazy_data as [data-blazy] to the container.
+    $settings['blazy_data'] = $json;
   }
 
   /**
-   * Returns the image based on the Responsive image mapping, or blazy.
+   * Returns the enforced content, or image using theme_blazy().
+   *
+   * @param array $build
+   *   The array containing: item, content, settings, or optional captions.
+   *
+   * @return array
+   *   The alterable and renderable array of enforced content, or theme_blazy().
    */
   public function getImage($build = []) {
-    /* @var Drupal\image\Plugin\Field\FieldType\ImageItem $item */
-    $item      = $build['item'];
-    $settings  = &$build['settings'];
-    $namespace = $settings['namespace'] = empty($settings['namespace']) ? 'blazy' : $settings['namespace'];
-    $theme     = isset($settings['theme_hook_image']) ? $settings['theme_hook_image'] : 'blazy';
+    /** @var Drupal\image\Plugin\Field\FieldType\ImageItem $item */
+    $item     = $build['item'];
+    $settings = &$build['settings'];
+    $theme    = isset($settings['theme_hook_image']) ? $settings['theme_hook_image'] : 'blazy';
 
     if (empty($item)) {
       return [];
     }
 
-    $image = [
-      '#theme'       => $theme,
-      '#item'        => [],
-      '#delta'       => isset($settings['delta']) ? $settings['delta'] : 0,
-      '#image_style' => $settings['image_style'],
-      '#pre_render'  => [[$this, 'preRenderImage']],
-    ];
+    $settings['delta']       = isset($settings['delta']) ? $settings['delta'] : 0;
+    $settings['image_style'] = isset($settings['image_style']) ? $settings['image_style'] : '';
+    $settings['namespace']   = empty($settings['namespace']) ? 'blazy' : $settings['namespace'];
 
-    // Gets individual image URLs, and dimensions set once.
-    $this->getUrlDimensions($settings, $item, $image['#image_style']);
-
-    // Gets multi-serving image URLs if breakpoints are provided.
-    if (!empty($settings['breakpoints'])) {
-      $this->getUrlBreakpoints($settings);
+    if (!isset($settings['uri'])) {
+      $settings['uri'] = ($entity = $item->entity) && empty($item->uri) ? $entity->getFileUri() : $item->uri;
     }
 
-    $image['#build'] = $build;
-
-    if (!isset($settings['_no_cache'])) {
-      $file_tags = isset($settings['file_tags']) ? $settings['file_tags'] : [];
-      $settings['cache_tags'] = empty($settings['cache_tags']) ? $file_tags : Cache::mergeTags($settings['cache_tags'], $file_tags);
-      $image['#cache'] = ['tags' => $settings['cache_tags']];
-
-      if (isset($settings['cache_keys'])) {
-        $image['#cache']['keys'] = $settings['cache_keys'];
-      }
+    if ($theme == 'blazy') {
+      $settings['blazy'] = TRUE;
     }
 
-    if (isset($settings['theme_hook_image_wrapper'])) {
-      $image['#theme_wrappers'][] = $settings['theme_hook_image_wrapper'];
+    // Respects content not handled by theme_blazy(), but passed through.
+    if (empty($build['content'])) {
+      $image = [
+        '#theme'       => $theme,
+        '#delta'       => $settings['delta'],
+        '#item'        => [],
+        '#image_style' => $settings['image_style'],
+        '#build'       => $build,
+        '#pre_render'  => [[$this, 'preRenderImage']],
+      ];
+    }
+    else {
+      $image = $build['content'];
     }
 
-    $this->getModuleHandler()->alter($namespace . '_image', $image, $settings);
+    $this->getModuleHandler()->alter('blazy', $image, $settings);
 
     return $image;
   }
 
   /**
    * Builds the Blazy image as a structured array ready for ::renderer().
+   *
+   * @param array $element
+   *   The pre-rendered element.
+   *
+   * @return array
+   *   The renderable array of pre-rendered element.
    */
   public function preRenderImage($element) {
     $build = $element['#build'];
     $item  = $build['item'];
     unset($element['#build']);
 
-    $settings = &$build['settings'];
+    $settings = $build['settings'];
     if (empty($item)) {
       return [];
     }
@@ -322,8 +202,6 @@ class BlazyManager extends BlazyManagerBase {
       unset($item->_attributes);
     }
 
-    $element['#item'] = $item;
-
     // Responsive image integration.
     $settings['responsive_image_style_id'] = '';
     if (!empty($settings['resimage']) && !empty($settings['responsive_image_style'])) {
@@ -339,163 +217,50 @@ class BlazyManager extends BlazyManagerBase {
       }
     }
 
-    // With CSS background, IMG may be empty, so add thumbnail to the container.
-    if (!empty($settings['thumbnail_style'])) {
-      $settings['thumbnail_url'] = $this->entityLoad($settings['thumbnail_style'], 'image_style')->buildUrl($settings['uri']);
-    }
-
-    $element['#url']             = '';
-    $element['#settings']        = $settings;
+    $element['#item']            = $item;
     $element['#captions']        = isset($build['captions']) ? ['inline' => $build['captions']] : [];
     $element['#item_attributes'] = $item_attributes;
+    $element['#url']             = '';
+    $element['#settings']        = $settings;
 
-    if (!empty($settings['media_switch']) && ($settings['media_switch'] == 'content' || strpos($settings['media_switch'], 'box') !== FALSE)) {
-      $this->getMediaSwitch($element, $settings);
-    }
-
-    return $element;
-  }
-
-  /**
-   * Gets the media switch options: colorbox, photobox, content.
-   */
-  public function getMediaSwitch(array &$element = [], $settings = []) {
-    $item   = $element['#item'];
-    $type   = isset($settings['type']) ? $settings['type'] : 'image';
-    $uri    = $settings['uri'];
-    $switch = $settings['media_switch'];
-
-    // Provide relevant URL if it is a lightbox.
-    if (strpos($switch, 'box') !== FALSE) {
-      $json = ['type' => $type];
-      $url_attributes = [];
-
-      // If it is a video/audio, otherwise image to image.
-      if (!empty($settings['embed_url'])) {
-        $url = $settings['embed_url'];
-        $json['scheme'] = $settings['scheme'];
-        // Force autoplay for media URL on lightboxes, saving another click.
-        if ($json['scheme'] == 'soundcloud') {
-          if (strpos($url, 'auto_play') === FALSE || strpos($url, 'auto_play=false') !== FALSE) {
-            $url = strpos($url, '?') === FALSE ? $url . '?auto_play=true' : $url . '&amp;auto_play=true';
-          }
-        }
-        elseif (strpos($url, 'autoplay') === FALSE || strpos($url, 'autoplay=0') !== FALSE) {
-          $url = strpos($url, '?') === FALSE ? $url . '?autoplay=1' : $url . '&amp;autoplay=1';
-        }
-      }
-      else {
-        $url = empty($settings['box_style']) ? file_create_url($uri) : $this->entityLoad($settings['box_style'], 'image_style')->buildUrl($uri);
-      }
-
-      $classes = ['blazy__' . $switch, 'litebox'];
-      if ($switch == 'colorbox' && $settings['count'] > 1) {
-        $json['rel'] = $settings['id'];
-      }
-      elseif ($switch == 'photobox' && !empty($settings['embed_url'])) {
-        $url_attributes['rel'] = 'video';
-      }
-
-      // Provides lightbox media dimension if so configured.
-      if ($type != 'image') {
-        if (!empty($settings['dimension'])) {
-          list($settings['box_width'], $settings['box_height']) = array_pad(array_map('trim', explode("x", $settings['dimension'], 2)), 2, NULL);
-        }
-        $json['width']  = empty($settings['box_width'])  ? $settings['width']  : $settings['box_width'];
-        $json['height'] = empty($settings['box_height']) ? $settings['height'] : $settings['box_height'];
+    if (!empty($settings['media_switch'])) {
+      if ($settings['media_switch'] == 'content' && !empty($settings['absolute_path'])) {
+        $element['#url'] = $settings['absolute_path'];
       }
-
-      $url_attributes['class'] = $classes;
-      $url_attributes['data-media'] = Json::encode($json);
-      $url_attributes['data-' . $switch] = TRUE;
-
-      $element['#url'] = $url;
-      $element['#url_attributes'] = $url_attributes;
-      $element['#settings']['lightbox'] = $switch;
-
-      if (!empty($settings['box_caption'])) {
-        $element['#captions']['lightbox'] = self::buildCaptions($item, $settings);
+      elseif ($this->getLightboxes() && in_array($settings['media_switch'], $this->getLightboxes())) {
+        BlazyLightbox::switchMedia($element);
       }
     }
-    elseif ($switch == 'content' && !empty($settings['absolute_path'])) {
-      $element['#url'] = $settings['absolute_path'];
-    }
-  }
-
-  /**
-   * Build lightbox captions.
-   */
-  public static function buildCaptions($item, $settings = []) {
-    $title   = empty($item->title) ? '' : $item->title;
-    $alt     = empty($item->alt)   ? '' : $item->alt;
-    $delta   = $settings['delta'];
-    $caption = '';
-
-    switch ($settings['box_caption']) {
-      case 'auto':
-        $caption = $alt ?: $title;
-        break;
-
-      case 'alt':
-        $caption = $alt;
-        break;
-
-      case 'title':
-        $caption = $title;
-        break;
-
-      case 'alt_title':
-      case 'title_alt':
-        $alt     = $alt ? '<p>' . $alt . '</p>' : '';
-        $title   = $title ? '<h2>' . $title . '</h2>' : '';
-        $caption = $settings['box_caption'] == 'alt_title' ? $alt . $title : $title . $alt;
-        break;
-
-      case 'entity_title':
-        $caption = ($entity = $item->getEntity()) ? $entity->label() : '';
-        break;
-
-      case 'custom':
-        $token = \Drupal::token();
-        $caption = '';
-        if ($entity = $item->getEntity()) {
-          $entity_type = $entity->getEntityTypeId();
-
-          $options = ['clear' => TRUE];
-          $caption = $token->replace($settings['box_caption_custom'], [$entity_type => $entity, 'file' => $item], $options);
-
-          // Checks for multi-value text fields, and maps its delta to image.
-          if (strpos($caption, ", <p>") !== FALSE) {
-            $caption = str_replace(", <p>", '| <p>', $caption);
-            $captions = explode("|", $caption);
-            $caption = isset($captions[$delta]) ? $captions[$delta] : '';
-          }
-        }
-        break;
-
-      default:
-        $caption = '';
-    }
 
-    return empty($caption) ? [] : ['#markup' => $caption];
+    return $element;
   }
 
   /**
    * Returns the entity view, if available.
+   *
+   * @param \Drupal\Core\Entity\EntityInterface $entity
+   *   The entity being rendered.
+   *
+   * @return array|bool
+   *   The renderable array of the view builder, or false if not applicable.
    */
-  public function getEntityView($entity = NULL, $settings = []) {
+  public function getEntityView($entity = NULL, $settings = [], $fallback = '') {
     if ($entity && $entity instanceof EntityInterface) {
       $entity_type_id = $entity->getEntityTypeId();
       $view_hook      = $entity_type_id . '_view';
+      $view_mode      = empty($settings['view_mode']) ? 'default' : $settings['view_mode'];
+      $langcode       = $entity->language()->getId();
 
       // If module implements own {entity_type}_view.
       if (function_exists($view_hook)) {
-        return $view_hook($entity);
+        return $view_hook($entity, $view_mode, $langcode);
       }
       // If entity has view_builder handler.
       elseif ($this->getEntityTypeManager()->hasHandler($entity_type_id, 'view_builder')) {
-        $view_mode = empty($settings['view_mode']) ? 'default' : $settings['view_mode'];
-        return $this->getEntityTypeManager()->getViewBuilder($entity_type_id)->view($entity, $view_mode, $entity->language()->getId());
+        return $this->getEntityTypeManager()->getViewBuilder($entity_type_id)->view($entity, $view_mode, $langcode);
+      }
+      elseif ($fallback) {
+        return ['#markup' => $fallback];
       }
     }
 
@@ -504,13 +269,19 @@ class BlazyManager extends BlazyManagerBase {
 
   /**
    * Returns the Responsive image cache tags.
+   *
+   * @param \Drupal\responsive_image\ResponsiveImageStyleInterface $responsive
+   *   The responsive image style entity.
+   *
+   * @return array
+   *   The responsive image cache tags, or empty array.
    */
-  public function getResponsiveImageCacheTags($responsive_image_style = NULL) {
+  public function getResponsiveImageCacheTags($responsive = NULL) {
     $cache_tags = [];
     $image_styles_to_load = [];
-    if ($responsive_image_style) {
-      $cache_tags = Cache::mergeTags($cache_tags, $responsive_image_style->getCacheTags());
-      $image_styles_to_load = $responsive_image_style->getImageStyleIds();
+    if ($responsive) {
+      $cache_tags = Cache::mergeTags($cache_tags, $responsive->getCacheTags());
+      $image_styles_to_load = $responsive->getImageStyleIds();
     }
 
     $image_styles = $this->entityLoadMultiple('image_style', $image_styles_to_load);
@@ -520,4 +291,25 @@ class BlazyManager extends BlazyManagerBase {
     return $cache_tags;
   }
 
+  /**
+   * Now included within theme_blazy().
+   *
+   * @deprecated: Removed for Blazy::buildBreakpointAttributes().
+   */
+  public function getUrlBreakpoints(array &$settings = []) {}
+
+  /**
+   * Now included within theme_blazy().
+   *
+   * @deprecated: Removed prior to release for Blazy::buildUrl().
+   */
+  public function getUrlDimensions(array &$settings = [], $item = NULL, $modifier = NULL) {}
+
+  /**
+   * Now included within BlazyLightbox.
+   *
+   * @deprecated: Removed prior to release for BlazyLightbox::switchMedia().
+   */
+  public function getMediaSwitch(array &$element = []) {}
+
 }
diff --git a/src/BlazyManagerBase.php b/src/BlazyManagerBase.php
index 2cb77fa..676795d 100644
--- a/src/BlazyManagerBase.php
+++ b/src/BlazyManagerBase.php
@@ -53,7 +53,7 @@ abstract class BlazyManagerBase implements BlazyManagerInterface {
   protected $cache;
 
   /**
-   * Constructs a BlazyManager object
+   * Constructs a BlazyManager object.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, ModuleHandlerInterface $module_handler, RendererInterface $renderer, ConfigFactoryInterface $config_factory, CacheBackendInterface $cache) {
     $this->entityTypeManager = $entity_type_manager;
@@ -133,34 +133,33 @@ abstract class BlazyManagerBase implements BlazyManagerInterface {
    */
   public function attach($attach = []) {
     $load   = [];
-    $attach += ['blazy_colorbox' => TRUE, 'blazy_photobox' => TRUE];
+    $dummy  = [];
     $switch = empty($attach['media_switch']) ? '' : $attach['media_switch'];
 
     if ($switch && $switch != 'content') {
       $attach[$switch] = $switch;
-    }
 
-    // @todo redo this when colorbox has JS loader again, or just array.
-    if (!empty($attach['colorbox'])) {
-      $dummy = [];
-      \Drupal::service('colorbox.attachment')->attach($dummy);
-      $load = NestedArray::mergeDeep($load, $dummy['#attached']);
-      $load['library'][] = 'colorbox/colorbox';
-      if (!empty($attach['blazy_colorbox'])) {
-        $load['library'][] = 'blazy/colorbox';
+      if (in_array($switch, $this->getLightboxes())) {
+        $load['library'][] = 'blazy/lightbox';
       }
     }
 
-    if (!empty($attach['photobox']) && !empty($attach['blazy_photobox'])) {
-      $load['library'][] = 'blazy/photobox';
+    if (!empty($attach['colorbox'])) {
+      \Drupal::service('colorbox.attachment')->attach($dummy);
+      $load = isset($dummy['#attached']) ? NestedArray::mergeDeep($load, $dummy['#attached']) : $load;
+      $load['library'][] = 'blazy/colorbox';
+      unset($dummy);
     }
 
-    if (!empty($attach['media'])) {
-      $load['library'][] = 'blazy/media';
+    // Only load grid xor column, but not both.
+    $attach['column'] = !empty($attach['style']) && $attach['style'] == 'column';
+    if (!empty($attach['column'])) {
+      $attach['grid'] = FALSE;
     }
-
-    if (!empty($attach['ratio'])) {
-      $load['library'][] = 'blazy/ratio';
+    foreach (['column', 'grid', 'media', 'photobox', 'ratio'] as $component) {
+      if (!empty($attach[$component])) {
+        $load['library'][] = 'blazy/' . $component;
+      }
     }
 
     // Core Blazy libraries.
@@ -213,7 +212,33 @@ abstract class BlazyManagerBase implements BlazyManagerInterface {
   }
 
   /**
+   * Gets the supported lightboxes.
+   *
+   * @return array
+   *   The supported lightboxes.
+   */
+  public function getLightboxes() {
+    $photobox = \Drupal::root() . '/libraries/photobox/photobox/jquery.photobox.js';
+
+    $lightboxes = [];
+    foreach (['colorbox', 'photobox'] as $lightbox) {
+      $supported = function_exists($lightbox . '_theme');
+      if ($lightbox == 'photobox' && is_file($photobox)) {
+        $supported = TRUE;
+      }
+      if ($supported) {
+        $lightboxes[] = $lightbox;
+      }
+    }
+
+    $this->moduleHandler->alter('blazy_lightboxes', $lightboxes);
+    return $lightboxes;
+  }
+
+  /**
    * Returns the trusted HTML ID common for Blazy, GridStack, Mason, Slick.
+   *
+   * @deprecated: Removed prior to release for Blazy::getHtmlId().
    */
   public static function getHtmlId($string = 'blazy', $id = '') {
     $blazy_id = &drupal_static('blazy_id', 0);
diff --git a/src/BlazyMedia.php b/src/BlazyMedia.php
new file mode 100644
index 0000000..300c11c
--- /dev/null
+++ b/src/BlazyMedia.php
@@ -0,0 +1,115 @@
+<?php
+
+namespace Drupal\blazy;
+
+/**
+ * Provides extra media utilities.
+ */
+class BlazyMedia {
+
+  /**
+   * Builds the media field which cannot be displayed using theme_blazy().
+   *
+   * Some use URLs from inputs, some local files.
+   *
+   * @param \Drupal\media_entity\Entity\MediaInterface $media
+   *   The media being rendered.
+   *
+   * @return array|bool
+   *   The renderable array of the media field, or false if not applicable.
+   */
+  public static function build($media, $settings = []) {
+    // Do not proceed if it has type, already managed by theme_blazy().
+    if (!empty($settings['type'])) {
+      return FALSE;
+    }
+
+    // Prevents fatal error with disconnected internet when having ME Facebook,
+    // and resorted to static thumbnails to avoid broken displays instead.
+    // GuzzleHttp\Exception\ConnectException: cURL error 6.
+    if (!empty($settings['input_url'])) {
+      // @todo: Remove when ME Facebook alike handles this.
+      try {
+        $response = \Drupal::httpClient()->get($settings['input_url']);
+      }
+      catch (\Exception $e) {
+        return FALSE;
+      }
+    }
+
+    $build = $media->get($settings['source_field'])->view($settings['view_mode']);
+    $build['#settings'] = $settings;
+
+    return self::wrap($build);
+  }
+
+  /**
+   * Returns a field to be wrapped by theme_container().
+   *
+   * Currently Instagram, and SlideShare are known to use iframe, and thus can
+   * be converted into a responsive Blazy with fluid ratio. The rest are
+   * returned as is, only wrapped by .media wrapper for consistency with complex
+   * interaction like EB.
+   *
+   * @param array $field
+   *   The source renderable array $field.
+   *
+   * @return array
+   *   The new renderable array of the media item wrapped by theme_container().
+   */
+  public static function wrap($field = []) {
+    // Media entity is a single being, reasonable to work with multi-value?
+    $item       = $field[0];
+    $settings   = isset($field['#settings']) ? $field['#settings'] : [];
+    $attributes = &$item['#attributes'];
+    $iframe     = isset($item['#tag']) && $item['#tag'] == 'iframe';
+
+    // Converts iframes into lazyloaded ones.
+    if ($iframe && !empty($attributes['src'])) {
+      $attributes['data-src'] = $attributes['src'];
+      $attributes['class'][] = 'b-lazy media__iframe media__element';
+      $attributes['src'] = 'about:blank';
+      $attributes['allowfullscreen'] = TRUE;
+    }
+
+    // Wraps the media item to allow consistency for EB/SB.
+    $build = [
+      '#theme'      => 'container',
+      '#children'   => $item,
+      '#attributes' => ['class' => ['media']],
+      '#settings'   => $settings,
+    ];
+
+    if (!empty($settings['bundle'])) {
+      $build['#attributes']['class'][] = 'media--' . str_replace('_', '-', $settings['bundle']);
+    }
+
+    // Adds helper for Entity Browser small thumbnail selection.
+    if (!empty($settings['thumbnail_style']) && !empty($settings['uri'])) {
+      $build['#attributes']['data-thumb'] = Blazy::buildThumbnailUrl($settings);
+    }
+
+    // Currently known media entities using iframe: Instagram.
+    if ($iframe) {
+      $build['#attributes']['class'][] = 'media--ratio';
+
+      if (!empty($attributes['width']) && !empty($attributes['height'])) {
+        $padding_bottom = round((($attributes['height'] / $attributes['width']) * 100), 2);
+        $build['#attributes']['style'] = 'padding-bottom: ' . $padding_bottom . '%';
+      }
+    }
+    else {
+      $build['#attributes']['class'][] = 'media--rendered';
+    }
+
+    // Clone relevant keys as field wrapper is no longer in use.
+    foreach (['attached', 'cache'] as $key) {
+      if (isset($field["#$key"])) {
+        $build["#$key"] = $field["#$key"];
+      }
+    }
+
+    return $build;
+  }
+
+}
diff --git a/src/Dejavu/BlazyAdminExtended.php b/src/Dejavu/BlazyAdminExtended.php
index f345b65..465eca4 100644
--- a/src/Dejavu/BlazyAdminExtended.php
+++ b/src/Dejavu/BlazyAdminExtended.php
@@ -23,28 +23,27 @@ class BlazyAdminExtended extends BlazyAdminFormatterBase {
     if (isset($definition['vanilla'])) {
       $form['vanilla'] = [
         '#type'        => 'checkbox',
-        '#title'       => t('Vanilla @namespace', ['@namespace' => $namespace]),
-        '#description' => t('<strong>Check</strong>:<ul><li>To render individual item as is as without extra logic.</li><li>To disable 99% @module features, and most of the mentioned options here, such as layouts, et al.</li><li>When the @module features can not satisfy the need.</li><li>Things may be broken! You are on your own.</li></ul><strong>Uncheck</strong>:<ul><li>To get consistent markups and its advanced features -- relevant for the provided options as @module needs to know what to style/work with.</li></ul>', ['@module' => $namespace]),
+        '#title'       => $this->t('Vanilla @namespace', ['@namespace' => $namespace]),
+        '#description' => $this->t('<strong>Check</strong>:<ul><li>To render individual item as is as without extra logic.</li><li>To disable 99% @module features, and most of the mentioned options here, such as layouts, et al.</li><li>When the @module features can not satisfy the need.</li><li>Things may be broken! You are on your own.</li></ul><strong>Uncheck</strong>:<ul><li>To get consistent markups and its advanced features -- relevant for the provided options as @module needs to know what to style/work with.</li></ul>', ['@module' => $namespace]),
         '#weight'      => -109,
         '#enforced'    => TRUE,
-        '#access'      => isset($definition['vanilla']),
-       '#wrapper_attributes' => ['class' => ['form-item--full', 'form-item--tooltip-bottom']],
+        '#attributes'  => ['class' => ['form-checkbox--vanilla']],
+        '#wrapper_attributes' => ['class' => ['form-item--full', 'form-item--tooltip-bottom']],
       ];
     }
 
-    if (isset($definition['optionsets'])) {
+    if (!empty($definition['optionsets']) && $namespace != 'blazy') {
       $form['optionset'] = [
         '#type'        => 'select',
-        '#title'       => t('Optionset'),
+        '#title'       => $this->t('Optionset'),
         '#options'     => isset($definition['optionsets']) ? $definition['optionsets'] : $this->getOptionsetOptions($namespace),
         '#enforced'    => TRUE,
-        '#description' => t('Enable the optionset UI module to manage the optionsets.'),
-        '#access'      => isset($definition['optionsets']),
+        '#description' => $this->t('Enable the optionset UI module to manage the optionsets.'),
         '#weight'      => -108,
       ];
 
       if ($this->blazyManager()->getModuleHandler()->moduleExists($namespace . '_ui')) {
-        $form['optionset']['#description'] = t('Manage optionsets at <a href=":url" target="_blank">the optionset admin page</a>.', [':url' => Url::fromRoute('entity.' . $namespace . '.collection')->toString()]);
+        $form['optionset']['#description'] = $this->t('Manage optionsets at <a href=":url" target="_blank">the optionset admin page</a>.', [':url' => Url::fromRoute('entity.' . $namespace . '.collection')->toString()]);
       }
     }
 
@@ -58,61 +57,55 @@ class BlazyAdminExtended extends BlazyAdminFormatterBase {
     if (isset($definition['images'])) {
       $form['image'] = [
         '#type'        => 'select',
-        '#title'       => t('Main stage'),
+        '#title'       => $this->t('Main stage'),
         '#options'     => isset($definition['images']) ? $definition['images'] : [],
-        '#description' => t('Main background/stage image field.'),
-        '#access'      => isset($definition['images']),
-        '#prefix'      => '<h3 class="form__title">' . t('Fields') . '</h3>',
+        '#description' => $this->t('Main background/stage image field.'),
+        '#prefix'      => '<h3 class="form__title form__title--fields">' . $this->t('Fields') . '</h3>',
       ];
     }
 
     if (isset($definition['thumbnails'])) {
       $form['thumbnail'] = array(
         '#type'        => 'select',
-        '#title'       => t('Thumbnail image'),
+        '#title'       => $this->t('Thumbnail image'),
         '#options'     => isset($definition['thumbnails']) ? $definition['thumbnails'] : [],
         '#description' => t("Leave empty to not use thumbnail pager."),
-        '#access'      => isset($definition['thumbnails']),
       );
     }
 
     if (isset($definition['overlays'])) {
       $form['overlay'] = array(
         '#type'        => 'select',
-        '#title'       => t('Overlay media'),
+        '#title'       => $this->t('Overlay media'),
         '#options'     => isset($definition['overlays']) ? $definition['overlays'] : [],
-        '#description' => t('Overlay is displayed over the main main.'),
-        '#access'      => isset($definition['overlays']),
+        '#description' => $this->t('Overlay is displayed over the main main.'),
       );
     }
 
     if (isset($definition['titles'])) {
       $form['title'] = [
         '#type'        => 'select',
-        '#title'       => t('Title'),
+        '#title'       => $this->t('Title'),
         '#options'     => isset($definition['titles']) ? $definition['titles'] : [],
-        '#description' => t('If provided, it will bre wrapped with H2.'),
-        '#access'      => isset($definition['titles']),
+        '#description' => $this->t('If provided, it will bre wrapped with H2.'),
       ];
     }
 
     if (isset($definition['links'])) {
       $form['link'] = [
         '#type'        => 'select',
-        '#title'       => t('Link'),
+        '#title'       => $this->t('Link'),
         '#options'     => isset($definition['links']) ? $definition['links'] : [],
-        '#description' => t('Link to content: Read more, View Case Study, etc.'),
-        '#access'      => isset($definition['links']),
+        '#description' => $this->t('Link to content: Read more, View Case Study, etc.'),
       ];
     }
 
     if (isset($definition['classes'])) {
       $form['class'] = [
         '#type'        => 'select',
-        '#title'       => t('Item class'),
+        '#title'       => $this->t('Item class'),
         '#options'     => isset($definition['classes']) ? $definition['classes'] : [],
-        '#description' => t('If provided, individual item will have this class, e.g.: to have different background with transparent images. Be sure its formatter is Key or Label. Accepted field types: list text, string (e.g.: node title), term/entity reference label.'),
-        '#access'      => isset($definition['classes']),
+        '#description' => $this->t('If provided, individual item will have this class, e.g.: to have different background with transparent images. Be sure its formatter is Key or Label. Accepted field types: list text, string (e.g.: node title), term/entity reference label.'),
         '#weight'      => 6,
       ];
     }
@@ -120,113 +113,49 @@ class BlazyAdminExtended extends BlazyAdminFormatterBase {
     if (isset($definition['id'])) {
       $form['id'] = [
         '#type'         => 'textfield',
-        '#title'        => t('Slick ID'),
+        '#title'        => $this->t('@namespace ID', ['@namespace' => $definition['namespace']]),
         '#size'         => 40,
         '#maxlength'    => 255,
         '#field_prefix' => '#',
         '#enforced'     => TRUE,
         '#description'  => t("Manually define the container ID. <em>This ID is used for the cache identifier, so be sure it is unique</em>. Leave empty to have a guaranteed unique ID managed by the module."),
-        '#access'       => isset($definition['id']),
         '#weight'       => 94,
       ];
     }
 
     if (isset($form['caption'])) {
-      $form['caption']['#description'] = t('Enable any of the following fields as captions. These fields are treated and wrapped as captions.');
+      $form['caption']['#description'] = $this->t('Enable any of the following fields as captions. These fields are treated and wrapped as captions.');
     }
 
     if (!isset($definition['id'])) {
       if (isset($form['caption'])) {
-        $form['caption']['#description'] .= ' ' . t('Be sure to make them visible at their relevant Manage display.');
+        $form['caption']['#description'] .= ' ' . $this->t('Be sure to make them visible at their relevant Manage display.');
       }
     }
     else {
       if (isset($form['overlay'])) {
-        $form['overlay']['#description'] .= ' ' . t('Be sure to CHECK "Use field template" under its formatter if using Slick field formatter.');
+        $form['overlay']['#description'] .= ' ' . $this->t('Be sure to CHECK "Use field template" under its formatter if using Slick field formatter.');
       }
     }
   }
 
   /**
-   * Returns re-usable grid elements across field formatter and Views.
-   */
-  public function gridForm(array &$form, $definition = []) {
-    $range = range(1, 12);
-    $grid_options = array_combine($range, $range);
-
-    $header = t('Group individual items as block grid?<small>Only works if the total items &gt; <strong>Visible items</strong>.</small>');
-    $form['grid_header'] = [
-      '#type'   => 'item',
-      '#markup' => '<h3 class="form__title">' . $header . '</h3>',
-    ];
-
-    $form['grid'] = [
-      '#type'        => 'select',
-      '#title'       => t('Grid large'),
-      '#options'     => $grid_options,
-      '#description' => t('The amount of block grid columns for large monitors 64.063em - 90em. <br /><strong>Requires</strong>:<ol><li>Visible items,</li><li>Skin Grid for starter,</li><li>A reasonable amount of contents.</li></ol>Leave empty to DIY, or to not build grids.'),
-      '#enforced'    => TRUE,
-    ];
-
-    $form['grid_medium'] = [
-      '#type'        => 'select',
-      '#title'       => t('Grid medium'),
-      '#options'     => $grid_options,
-      '#description' => t('The amount of block grid columns for medium devices 40.063em - 64em.'),
-    ];
-
-    $form['grid_small'] = [
-      '#type'        => 'select',
-      '#title'       => t('Grid small'),
-      '#options'     => $grid_options,
-      '#description' => t('The amount of block grid columns for small devices 0 - 40em.'),
-    ];
-
-    $form['visible_items'] = [
-      '#type'        => 'select',
-      '#title'       => t('Visible items'),
-      '#options'     => array_combine(range(1, 32), range(1, 32)),
-      '#description' => t('How many items per display at a time. Required if Grid provided. Grid will not work if Views rows count &lt; <strong>Visible items</strong>.'),
-    ];
-
-    $form['preserve_keys'] = [
-      '#type'        => 'checkbox',
-      '#title'       => t('Preserve keys'),
-      '#description' => t('If checked, keys will be preserved. Default is FALSE which will reindex the grid chunk numerically.'),
-    ];
-
-    $grids = [
-      'grid_header',
-      'grid_medium',
-      'grid_small',
-      'visible_items',
-      'preserve_keys',
-    ];
-
-    foreach ($grids as $key) {
-      $form[$key]['#enforced'] = TRUE;
-      $form[$key]['#states'] = [
-        'visible' => [
-          'select[name$="[grid]"]' => ['!value' => ''],
-        ],
-      ];
-    }
-  }
-
-  /**
    * Returns shared ending form elements across field formatter and Views.
    */
   public function closingForm(array &$form, $definition = []) {
-    if (isset($definition['caches']) && $definition['caches']) {
+    if (!empty($definition['caches'])) {
       $form['cache'] = [
         '#type'        => 'select',
-        '#title'       => t('Cache'),
+        '#title'       => $this->t('Cache'),
         '#options'     => $this->getCacheOptions(),
         '#weight'      => 98,
         '#enforced'    => TRUE,
-        '#description' => t('Ditch all the logic to cached bare HTML. <ol><li><strong>Permanent</strong>: cached contents will persist (be displayed) till the next cron runs.</li><li><strong>Any number</strong>: expired by the selected expiration time, and fresh contents are fetched till the next cache rebuilt.</li></ol>A working cron job is required to clear stale cache. At any rate, cached contents will be refreshed regardless of the expiration time after the cron hits. <br />Leave it empty to disable caching.<br /><strong>Warning!</strong> Be sure no useless/ sensitive data such as Edit links as they are rendered as is regardless permissions. No permissions are changed, just ugly. Only enable it when all is done, otherwise cached options will be displayed while changing them.'),
-        '#access'      => isset($definition['caches']),
+        '#description' => $this->t('Ditch all the logic to cached bare HTML. <ol><li><strong>Permanent</strong>: cached contents will persist (be displayed) till the next cron runs.</li><li><strong>Any number</strong>: expired by the selected expiration time, and fresh contents are fetched till the next cache rebuilt.</li></ol>A working cron job is required to clear stale cache. At any rate, cached contents will be refreshed regardless of the expiration time after the cron hits. <br />Leave it empty to disable caching.<br /><strong>Warning!</strong> Be sure no useless/ sensitive data such as Edit links as they are rendered as is regardless permissions. No permissions are changed, just ugly. Only enable it when all is done, otherwise cached options will be displayed while changing them.'),
       ];
+
+      if (!empty($definition['_views'])) {
+        $form['cache']['#description'] .= ' ' . $this->t('Also disable Views cache (<strong>Advanced &gt; Caching</strong>) temporarily _only if trouble to see updated settings.');
+      }
     }
 
     parent::closingForm($form, $definition);
diff --git a/src/Dejavu/BlazyDefault.php b/src/Dejavu/BlazyDefault.php
index e06e03f..a79e207 100644
--- a/src/Dejavu/BlazyDefault.php
+++ b/src/Dejavu/BlazyDefault.php
@@ -28,9 +28,9 @@ class BlazyDefault {
     return [
       'cache'             => 0,
       'current_view_mode' => '',
-      'item_id'           => '',
       'optionset'         => 'default',
       'skin'              => '',
+      'style'             => '',
     ];
   }
 
@@ -43,9 +43,11 @@ class BlazyDefault {
       'box_caption'            => '',
       'box_caption_custom'     => '',
       'box_style'              => '',
+      'box_media_style'        => '',
       'breakpoints'            => [],
       'caption'                => [],
-      'icon'                   => FALSE,
+      'iframe_lazy'            => TRUE,
+      'icon'                   => '',
       'image_style'            => '',
       'layout'                 => '',
       'media_switch'           => '',
@@ -53,6 +55,7 @@ class BlazyDefault {
       'responsive_image_style' => '',
       'sizes'                  => '',
       'thumbnail_style'        => '',
+      'view_mode'              => '',
     ] + self::baseSettings();
   }
 
@@ -62,16 +65,42 @@ class BlazyDefault {
   public static function extendedSettings() {
     return [
       'class'       => '',
-      'dimension'   => '',
       'id'          => '',
-      'iframe_lazy' => FALSE,
       'image'       => '',
       'link'        => '',
       'overlay'     => '',
       'title'       => '',
-      'view_mode'   => '',
       'vanilla'     => FALSE,
     ] + self::imageSettings();
   }
 
+  /**
+   * Returns optional grid field formatter and Views settings.
+   */
+  public static function gridSettings() {
+    return [
+      'grid'        => 0,
+      'grid_header' => '',
+      'grid_medium' => 0,
+      'grid_small'  => 0,
+      'style'       => '',
+    ];
+  }
+
+  /**
+   * Returns sensible default options common for entities lacking of UI.
+   */
+  public static function entitySettings() {
+    return [
+      'blazy'        => TRUE,
+      'iframe_lazy'  => TRUE,
+      'lazy'         => 'blazy',
+      'media_switch' => 'media',
+      'ratio'        => 'fluid',
+      'rendered'     => FALSE,
+      'view_mode'    => 'default',
+      '_detached'    => TRUE,
+    ];
+  }
+
 }
diff --git a/src/Dejavu/BlazyEntityReferenceBase.php b/src/Dejavu/BlazyEntityReferenceBase.php
index d2ec007..9541fd0 100644
--- a/src/Dejavu/BlazyEntityReferenceBase.php
+++ b/src/Dejavu/BlazyEntityReferenceBase.php
@@ -9,6 +9,7 @@ use Drupal\Core\Field\Plugin\Field\FieldFormatter\EntityReferenceFormatterBase;
  * Base class for blazy entity reference formatters.
  */
 abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
+
   use BlazyEntityTrait;
 
   /**
@@ -56,7 +57,9 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
     }
 
     // Supports Blazy formatter multi-breakpoint images if available.
-    $this->formatter->isBlazy($settings, $build['items'][0]);
+    if (empty($settings['vanilla'])) {
+      $this->formatter->isBlazy($build['settings'], $build['items'][0]);
+    }
 
     return $build;
   }
@@ -65,34 +68,28 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
    * Returns slide contents.
    */
   public function buildElement(array &$build = [], $entity, $langcode) {
-    $settings    = &$build['settings'];
-    $delta       = $settings['delta'];
-    $item_id     = $settings['item_id'];
-    $view_mode   = $settings['view_mode'] ?: 'full';
-    $image       = [];
+    $settings  = &$build['settings'];
+    $delta     = $settings['delta'];
+    $item_id   = $settings['item_id'];
+    $view_mode = $settings['view_mode'] ?: 'full';
+    $element   = ['settings' => $settings];
 
-    // Built early before stage to allow custom highres video thumbnail.
-    $this->buildMedia($settings, $entity, $langcode);
+    // Built early before stage to allow custom highres video thumbnail later.
+    // Implementor must import: Drupal\blazy\Dejavu\BlazyVideoTrait
+    $this->getMediaItem($element, $entity);
 
     // Build the main stage.
-    $item = $this->buildStage($settings, $entity, $langcode);
-
-    // Build the element settings.
-    $element['settings'] = $settings;
-
-    if (!empty($item)) {
-      $element['item'] = $item;
-      $image = $this->formatter->getImage($element);
-    }
+    $this->buildStage($element, $entity, $langcode);
 
     // Optional image with responsive image, lazyLoad, and lightbox supports.
-    $element[$item_id] = $image;
+    $element[$item_id] = empty($element['item']) ? [] : $this->formatter->getImage($element);
 
     // Captions if so configured.
     $this->getCaption($element, $entity, $langcode);
 
     // Layouts can be builtin, or field, if so configured.
-    if ($layout = $settings['layout']) {
+    if (!empty($settings['layout'])) {
+      $layout = $settings['layout'];
       if (strpos($layout, 'field_') !== FALSE) {
         $settings['layout'] = $this->getFieldString($entity, $layout, $langcode);
       }
@@ -100,7 +97,9 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
     }
 
     // Classes, if so configured.
-    $element['settings']['class'] = $this->getFieldString($entity, $settings['class'], $langcode);
+    if (!empty($settings['class'])) {
+      $element['settings']['class'] = $this->getFieldString($entity, $settings['class'], $langcode);
+    }
 
     // Build the main item.
     $build['items'][$delta] = $element;
@@ -109,7 +108,7 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
     if (!empty($settings['nav'])) {
       // Thumbnail usages: asNavFor pagers, dot, arrows, photobox thumbnails.
       $element[$item_id]  = empty($settings['thumbnail_style']) ? [] : $this->formatter->getThumbnail($element['settings']);
-      $element['caption'] = $this->getFieldRenderable($entity, $settings['thumbnail_caption'], $view_mode);
+      $element['caption'] = empty($settings['thumbnail_caption']) ? [] : $this->getFieldRenderable($entity, $settings['thumbnail_caption'], $view_mode);
 
       $build['thumb']['items'][$delta] = $element;
     }
@@ -123,16 +122,25 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
     $view_mode = $settings['view_mode'];
 
     // Title can be plain text, or link field.
-    $field_title = $settings['title'];
-    $has_title = !empty($field_title) && isset($entity->{$field_title});
-    if ($has_title && $title = $entity->getTranslation($langcode)->get($field_title)->getValue()) {
-      if (!empty($title[0]['value']) && !isset($title[0]['uri'])) {
-        // Prevents HTML-filter-enabled text from having bad markups (h2 > p),
-        // except for a few reasonable tags acceptable within H2 tag.
-        $element['caption']['title']['#markup'] = strip_tags($title[0]['value'], '<a><strong><em><span><small>');
-      }
-      elseif (isset($title[0]['uri']) && !empty($title[0]['title'])) {
-        $element['caption']['title'] = $this->getFieldRenderable($entity, $field_title, $view_mode)[0];
+    if (!empty($settings['title'])) {
+      $field_title = $settings['title'];
+      if (isset($entity->{$field_title})) {
+        if ($entity->hasTranslation($langcode)) {
+          // If the entity has translation, fetch the translated value.
+          $title = $entity->getTranslation($langcode)->get($field_title)->getValue();
+        }
+        else {
+          // Entity doesn't have translation, fetch original value.
+          $title = $entity->get($field_title)->getValue();
+        }
+        if (!empty($title[0]['value']) && !isset($title[0]['uri'])) {
+          // Prevents HTML-filter-enabled text from having bad markups (h2 > p),
+          // except for a few reasonable tags acceptable within H2 tag.
+          $element['caption']['title']['#markup'] = strip_tags($title[0]['value'], '<a><strong><em><span><small>');
+        }
+        elseif (isset($title[0]['uri']) && !empty($title[0]['title'])) {
+          $element['caption']['title'] = $this->getFieldRenderable($entity, $field_title, $view_mode)[0];
+        }
       }
     }
 
@@ -151,18 +159,20 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
     }
 
     // Link, if so configured.
-    $field_link = isset($settings['link']) ? $settings['link'] : '';
-    if ($field_link && isset($entity->{$field_link})) {
-      $links = $this->getFieldRenderable($entity, $field_link, $view_mode);
-
-      // Only simplify markups for known formatters registered by link.module.
-      if ($links && isset($links['#formatter']) && in_array($links['#formatter'], ['link'])) {
-        $links = [];
-        foreach ($entity->{$field_link} as $i => $link) {
-          $links[$i] = $link->view($view_mode);
+    if (!empty($settings['link'])) {
+      $field_link = $settings['link'];
+      if (isset($entity->{$field_link})) {
+        $links = $this->getFieldRenderable($entity, $field_link, $view_mode);
+
+        // Only simplify markups for known formatters registered by link.module.
+        if ($links && isset($links['#formatter']) && in_array($links['#formatter'], ['link'])) {
+          $links = [];
+          foreach ($entity->{$field_link} as $i => $link) {
+            $links[$i] = $link->view($view_mode);
+          }
         }
+        $element['caption']['link'] = $links;
       }
-      $element['caption']['link'] = $links;
     }
 
     if (!empty($settings['overlay'])) {
@@ -178,40 +188,18 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
   }
 
   /**
-   * Collects media definitions.
-   */
-  public function buildMedia(array &$settings = [], $entity, $langcode) {
-    // Paragraphs return $type as a string bundle, Media entity object.
-    $type   = $entity->getType();
-    $bundle = $entity->bundle();
-
-    // @todo get 'type' independent from bundle names: image, video, audio.
-    $settings['type']           = in_array($bundle, ['image', 'video', 'audio']) ? $bundle : 'image';
-    $settings['bundle']         = $bundle;
-    $settings['target_bundles'] = $this->getFieldSetting('handler_settings')['target_bundles'];
-    $settings['plugin_id']      = is_string($type) ? $this->getPluginId() : $type->getPluginId();
-  }
-
-  /**
    * Build the main background/stage, image or video.
+   *
+   * Main image can be separate image item from video thumbnail for highres.
+   * Fallback to default thumbnail if any, which has no file API.
    */
-  public function buildStage(array &$settings = [], $entity, $langcode) {
-    $fields = $this->getPluginId() == 'slick_media' ? $entity->getFields() : [];
-    $item   = NULL;
-    $stage  = '';
-
-    // Main image can be separate image item from video thumbnail for highres.
-    // Fallback to default thumbnail if any, which has no file API.
-    // If Media entity via slick_media has defined source_field.
-    if (isset($fields['thumbnail']) && !empty($settings['source_field'])) {
-      $stage = $settings['source_field'];
-      $item = $fields['thumbnail']->get(0);
-      $settings['file_tags'] = ['file:' . $item->target_id];
-    }
+  public function buildStage(array &$element = [], $entity, $langcode) {
+    $settings = &$element['settings'];
+    $stage    = empty($settings['source_field']) ? '' : $settings['source_field'];
+    $stage    = empty($settings['image']) ? $stage : $settings['image'];
 
-    $stage = empty($settings['image']) ? $stage : $settings['image'];
-
-    // Fetches the highres image if provided and available.
+    // The actual video thumbnail has already been downloaded earlier.
+    // This fetches the highres image if provided and available.
     // With a mix of image and video, image is not always there.
     if ($stage && isset($entity->{$stage})) {
       /** @var \Drupal\file\Plugin\Field\FieldType\FileFieldItemList $file */
@@ -224,7 +212,7 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
         if (isset($value[0]['target_id']) && !empty($value[0]['target_id'])) {
           if (method_exists($file, 'referencedEntities') && isset($file->referencedEntities()[0])) {
             /** @var \Drupal\image\Plugin\Field\FieldType\ImageItem $item */
-            $item = $file->get(0);
+            $element['item'] = $file->get(0);
 
             // Collects cache tags to be added for each item in the field.
             $settings['file_tags'] = $file->referencedEntities()[0]->getCacheTags();
@@ -234,18 +222,14 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
         // If a VEF with a text, or link field.
         elseif (isset($value[0]['value']) || isset($value[0]['uri'])) {
           $external_url = $this->getFieldString($entity, $stage, $langcode);
-          $provider_manager = $this->providerManager;
 
-          /** @var \Drupal\video_embed_field\ProviderManagerInterface $provider */
-          if ($external_url && $provider_manager->loadProviderFromInput($external_url)) {
-            $this->buildVideo($settings, $external_url, $provider_manager);
-            $item = $value;
+          if ($external_url) {
+            $this->buildVideo($settings, $external_url);
+            $element['item'] = $value;
           }
         }
       }
     }
-
-    return $item;
   }
 
   /**
@@ -259,19 +243,24 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
 
     $this->admin()->buildSettingsForm($element, $definition);
 
-    $layout_description = $element['layout']['#description'];
-    $element['layout']['#description'] = $this->t('Create a dedicated List (text - max number 1) field related to the caption placement to have unique layout per slide with the following supported keys: top, right, bottom, left, center, center-top, etc. Be sure its formatter is Key.') . ' ' . $layout_description;
+    if (isset($element['layout'])) {
+      $layout_description = $element['layout']['#description'];
+      $element['layout']['#description'] = $this->t('Create a dedicated List (text - max number 1) field related to the caption placement to have unique layout per slide with the following supported keys: top, right, bottom, left, center, center-top, etc. Be sure its formatter is Key.') . ' ' . $layout_description;
+    }
 
-    $element['media_switch']['#options']['media'] = $this->t('Image to iframe');
-    $element['media_switch']['#description'] .= ' ' . $this->t('Be sure the enabled fields here are not hidden/disabled at its view mode.');
+    if (isset($element['media_switch']['#description'])) {
+      $element['media_switch']['#description'] .= ' ' . $this->t('Be sure the enabled fields here are not hidden/disabled at its view mode.');
+    }
 
-    $element['caption']['#description'] = $this->t('Check fields to be treated as captions, even if not caption texts.');
+    if (isset($element['caption'])) {
+      $element['caption']['#description'] = $this->t('Check fields to be treated as captions, even if not caption texts.');
+    }
 
-    if (isset($element['image'])) {
+    if (isset($element['image']['#description'])) {
       $element['image']['#description'] .= ' ' . $this->t('For video, this allows separate highres image, be sure the same field used for Image to have a mix of videos and images. Leave empty to fallback to the video provider thumbnails. The renderer is managed by <strong>@namespace</strong> formatter. <strong>Supported fields</strong>: Image, Video Embed Field.', ['@namespace' => $this->getPluginId()]);
     }
 
-    if (isset($element['overlay'])) {
+    if (isset($element['overlay']['#description'])) {
       $element['overlay']['#description'] .= ' ' . $this->t('The renderer is managed by the child formatter. <strong>Supported fields</strong>: Image, Video Embed Field, Media Entity.');
     }
 
@@ -299,6 +288,7 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
       'classes'           => $strings,
       'current_view_mode' => $this->viewMode,
       'entity_type'       => $entity_type,
+      'field_type'        => $field->getType(),
       'fieldable_form'    => TRUE,
       'field_name'        => $field->getName(),
       'images'            => $admin->getFieldOptions($bundles, ['image'], $target_type),
@@ -315,7 +305,15 @@ abstract class BlazyEntityReferenceBase extends EntityReferenceFormatterBase {
       'nav'               => TRUE,
       'titles'            => $texts,
       'vanilla'           => TRUE,
+      'view_mode'         => $this->viewMode,
     ];
   }
 
+  /**
+   * Collects media definitions.
+   *
+   * @todo: Drop to re-use BlazyVideoTrait::getMediaItem() for everything else.
+   */
+  public function buildMedia(array &$settings = [], $entity, $langcode) {}
+
 }
diff --git a/src/Dejavu/BlazyEntityTrait.php b/src/Dejavu/BlazyEntityTrait.php
index d92dbe4..3ff28c4 100644
--- a/src/Dejavu/BlazyEntityTrait.php
+++ b/src/Dejavu/BlazyEntityTrait.php
@@ -2,8 +2,13 @@
 
 namespace Drupal\blazy\Dejavu;
 
+use Drupal\Core\Entity\EntityInterface;
+
 /**
  * A Trait common for supported entities.
+ *
+ * This file can be imported along with Drupal\blazy\Dejavu\BlazyVideoTrait
+ * to optionally support File/Media Entity where available.
  */
 trait BlazyEntityTrait {
 
@@ -12,17 +17,22 @@ trait BlazyEntityTrait {
    */
   public function getFieldString($entity, $field_name = '', $langcode) {
     $value = '';
-    if ($field_name && isset($entity->{$field_name})) {
+    if (empty($field_name)) {
+      return $value;
+    }
+
+    if ($entity->hasTranslation($langcode)) {
+      // If the entity has translation, fetch the translated value.
       $values = $entity->getTranslation($langcode)->get($field_name)->getValue();
-      // If any text field.
-      if (!empty($values[0]['value'])) {
-        $value = strip_tags($values[0]['value']);
-      }
-      // If a VEF URL is using a link field.
-      elseif (isset($values[0]['uri']) && !empty($values[0]['title'])) {
-        $value = strip_tags($values[0]['uri']);
-      }
     }
+    else {
+      // Entity doesn't have translation, fetch original value.
+      $values = $entity->get($field_name)->getValue();
+    }
+
+    $value = isset($values[0]['uri']) ? $values[0]['uri'] : (isset($values[0]['value']) ? $values[0]['value'] : '');
+    $value = strip_tags($value);
+
     return trim($value);
   }
 
@@ -38,9 +48,74 @@ trait BlazyEntityTrait {
       // Prevents quickedit to operate here as otherwise JS error.
       // @see 2314185, 2284917, 2160321.
       // @see quickedit_preprocess_field().
+      // @todo: Remove when it respects plugin annotation.
       $view['#view_mode'] = '_custom';
     }
     return $view;
   }
 
+  /**
+   * Build image/video preview either using theme_blazy(), or view builder.
+   *
+   * @param array $data
+   *   An array of data containing settings, and image item.
+   * @param object $entity
+   *   The media entity, else file entity to be associated to media if any.
+   * @param string $fallback
+   *   The fallback string to display such as file name or entity label.
+   *
+   * @return array
+   *   The renderable array of theme_blazy(), or view builder, else empty.
+   */
+  public function buildPreview($data = [], $entity, $fallback = '') {
+    $build = [];
+
+    if (!$entity instanceof EntityInterface) {
+      return [];
+    }
+
+    // Supports VEM/ME if Drupal\blazy\Dejavu\BlazyVideoTrait is imported.
+    if (method_exists($this, 'getMediaItem')) {
+      $this->getMediaItem($data, $entity);
+    }
+
+    $settings = &$data['settings'];
+    if (!empty($data['item'])) {
+      if (empty($settings['uri'])) {
+        $settings['uri'] = ($file = $data['item']->entity) && empty($data['item']->uri) ? $file->getFileUri() : $data['item']->uri;
+      }
+
+      // Provide simple Blazy, if required.
+      if (empty($settings['_basic'])) {
+        $build = $this->blazyManager()->getImage($data);
+      }
+      else {
+        $build = [
+          '#theme'    => 'blazy',
+          '#item'     => $data['item'],
+          '#settings' => $settings,
+        ];
+      }
+
+      // Provides a shortcut to get URI.
+      $build['#uri'] = empty($settings['uri']) ? '' : $settings['uri'];
+
+      // Allows top level elements to load Blazy once rather than per field.
+      // This is still here for non-supported Views style plugins, etc.
+      if (empty($settings['_detached'])) {
+        $load = $this->blazyManager()->attach($settings);
+
+        // Enforces loading elements hidden by EB "Show selected" button.
+        $load['drupalSettings']['blazy']['loadInvisible'] = TRUE;
+        $build['#attached'] = $load;
+      }
+    }
+    else {
+      $build = $this->blazyManager()->getEntityView($entity, $settings, $fallback);
+    }
+
+    return $build;
+  }
+
+
 }
diff --git a/src/Dejavu/BlazyStylePluginBase.php b/src/Dejavu/BlazyStylePluginBase.php
index 07ffa30..811f1a4 100644
--- a/src/Dejavu/BlazyStylePluginBase.php
+++ b/src/Dejavu/BlazyStylePluginBase.php
@@ -8,6 +8,7 @@ use Drupal\Component\Utility\Unicode;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 use Drupal\views\Plugin\views\style\StylePluginBase;
 use Drupal\blazy\BlazyManagerInterface;
+use Drupal\blazy\Blazy;
 
 /**
  * A base for blazy views integration to have re-usable methods in one place.
@@ -163,8 +164,9 @@ abstract class BlazyStylePluginBase extends StylePluginBase {
     $item_id  = empty($settings['item_id']) ? 'box' : $settings['item_id'];
 
     // Add main image fields if so configured.
-    if ($field_image = $settings['image']) {
+    if (!empty($settings['image'])) {
       // Supports individual grid/box image style either inline IMG, or CSS.
+      $field_image       = $settings['image'];
       $grid_style        = empty($grids) && !isset($grids[$index]['image_style']) ? '' : $grids[$index]['image_style'];
       $image             = $this->getImageRenderable($settings, $row, $index, $grid_style);
       $rendered          = empty($image['rendered']) ? [] : $image['rendered'];
@@ -233,11 +235,10 @@ abstract class BlazyStylePluginBase extends StylePluginBase {
       // Blazy modifiers, see GridStack multi-styled images for the boxes.
       $settings['_dimensions_reset'] = TRUE;
       $settings['image_style'] = $grid_style;
+      $settings['grid_style'] = $grid_style;
 
-      // $this->blazyManager->getImage($build);
       // Updates settings to contain image dimensions along with image URLs.
-      $this->blazyManager->getUrlDimensions($settings, $image['raw'], $grid_style);
-      $this->blazyManager->getUrlBreakpoints($settings);
+      Blazy::buildUrl($settings, $image['raw'], $grid_style);
     }
 
     return $image;
@@ -287,9 +288,9 @@ abstract class BlazyStylePluginBase extends StylePluginBase {
   public function getCaption($index, $settings = []) {
     $items = [];
     $keys  = array_keys($this->view->field);
-    if ($captions = $settings['caption']) {
+    if (!empty($settings['caption'])) {
       $caption_items = [];
-      foreach ($captions as $key => $caption) {
+      foreach ($settings['caption'] as $key => $caption) {
         $caption_rendered = $this->getField($index, $caption);
         if (empty($caption_rendered)) {
           continue;
diff --git a/src/Dejavu/BlazyVideoBase.php b/src/Dejavu/BlazyVideoBase.php
index 2926bee..96c6b53 100644
--- a/src/Dejavu/BlazyVideoBase.php
+++ b/src/Dejavu/BlazyVideoBase.php
@@ -3,48 +3,12 @@
 namespace Drupal\blazy\Dejavu;
 
 use Drupal\Core\Field\FormatterBase;
-use Drupal\Core\Field\FieldDefinitionInterface;
 use Drupal\Core\Form\FormStateInterface;
-use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
-use Symfony\Component\DependencyInjection\ContainerInterface;
-use Drupal\video_embed_field\ProviderManagerInterface;
 
 /**
  * Base class for blazy video embed field formatters.
  */
-abstract class BlazyVideoBase extends FormatterBase implements ContainerFactoryPluginInterface {
-  use BlazyVideoTrait;
-
-  /**
-   * The embed provider plugin manager.
-   *
-   * @var \Drupal\video_embed_field\ProviderManagerInterface
-   */
-  protected $providerManager;
-
-  /**
-   * Constructs a SlickMediaFormatter instance.
-   */
-  public function __construct($plugin_id, $plugin_definition, FieldDefinitionInterface $field_definition, array $settings, $label, $view_mode, array $third_party_settings, ProviderManagerInterface $provider_manager) {
-    parent::__construct($plugin_id, $plugin_definition, $field_definition, $settings, $label, $view_mode, $third_party_settings);
-    $this->providerManager = $provider_manager;
-  }
-
-  /**
-   * {@inheritdoc}
-   */
-  public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition) {
-    return new static(
-      $plugin_id,
-      $plugin_definition,
-      $configuration['field_definition'],
-      $configuration['settings'],
-      $configuration['label'],
-      $configuration['view_mode'],
-      $configuration['third_party_settings'],
-      $container->get('video_embed_field.provider_manager')
-    );
-  }
+abstract class BlazyVideoBase extends FormatterBase {
 
   /**
    * {@inheritdoc}
@@ -63,7 +27,7 @@ abstract class BlazyVideoBase extends FormatterBase implements ContainerFactoryP
     $definition['_views'] = isset($form['field_api_classes']);
 
     $this->admin()->buildSettingsForm($element, $definition);
-    $element['media_switch']['#options']['media'] = $this->t('Image to iframe');
+    $element['media_switch']['#options']['media'] = $this->t('Image to iFrame');
 
     return $element;
   }
diff --git a/src/Dejavu/BlazyVideoTrait.php b/src/Dejavu/BlazyVideoTrait.php
index a7721dc..645621b 100644
--- a/src/Dejavu/BlazyVideoTrait.php
+++ b/src/Dejavu/BlazyVideoTrait.php
@@ -3,45 +3,199 @@
 namespace Drupal\blazy\Dejavu;
 
 use Drupal\Core\Url;
+use Drupal\file\Entity\File;
+use Drupal\blazy\BlazyMedia;
 
 /**
- * A Trait common for Video embed field integration.
+ * A Trait common for optional Media Entity and Video Embed Media integration.
+ *
+ * The basic idea is to display videos along with images even within core Image,
+ * and to re-associate VEF/ME video thumbnails beyond their own entity display.
+ * For editors, use Slick Browser, or Blazy Views field.
+ * For client-side, Blazy Views field, BlazyFileFormatter, SlickFileFormatter.
+ * Why bother? This addresses a mix of images/videos beyond field formatters
+ * or when ME and VEM integration is optional.
+ *
+ * For more robust VEM/ME integration, use Slick Media instead.
+ *
+ * @see Drupal\blazy\Plugin\views\field\BlazyViewsFieldPluginBase
+ * @see Drupal\slick_browser\SlickBrowser::widgetEntityBrowserFileFormAlter()
+ * @see Drupal\slick_browser\Plugin\EntityBrowser\FieldWidgetDisplay\...
  */
 trait BlazyVideoTrait {
 
   /**
+   * Returns the image factory.
+   */
+  public function imageFactory() {
+    return \Drupal::service('image.factory');
+  }
+
+  /**
+   * Returns the optional VEF service to avoid dependency for optional plugins.
+   */
+  public static function videoEmbedMediaManager() {
+    if (function_exists('video_embed_field_theme')) {
+      return \Drupal::service('video_embed_field.provider_manager');
+    }
+    return FALSE;
+  }
+
+  /**
    * Builds relevant video embed field settings based on the given media url.
+   *
+   * @param array $settings
+   *   An array of settings to be passed into theme_blazy().
+   * @param string $external_url
+   *   A video URL.
    */
-  public function buildVideo(array &$settings = [], $external_url, $provider_manager = NULL) {
-    /** @var \Drupal\video_embed_field\ProviderManagerInterface $provider */
-    if ($provider_manager) {
-      $provider    = $provider_manager->loadProviderFromInput($external_url);
-      $definitions = $provider_manager->loadDefinitionFromInput($external_url);
+  public function buildVideo(array &$settings = [], $external_url = '') {
+    /** @var \Drupal\video_embed_field\ProviderManagerInterface $video */
+    if (!($video = self::videoEmbedMediaManager())) {
+      return;
     }
-    else {
-      // @todo drop for Beta > 4 so this method can be used without DI such as
-      // by Slick Browser with a combination of different entities.
-      $provider    = $this->providerManager->loadProviderFromInput($external_url);
-      $definitions = $this->providerManager->loadDefinitionFromInput($external_url);
+
+    if (!($provider = $video->loadProviderFromInput($external_url))) {
+      return;
     }
 
     // Ensures thumbnail is available.
     $provider->downloadThumbnail();
 
     // @todo extract URL from the SRC of final rendered TWIG instead.
-    $render  = $provider->renderEmbedCode(640, 360, '0');
-    $old_url = isset($render['#attributes']) && isset($render['#attributes']['src']) ? $render['#attributes']['src'] : '';
-    $url     = isset($render['#url']) ? $render['#url'] : $old_url;
-    $query   = isset($render['#query']) ? $render['#query'] : [];
+    $render    = $provider->renderEmbedCode(640, 360, '0');
+    $old_url   = isset($render['#attributes']) && isset($render['#attributes']['src']) ? $render['#attributes']['src'] : '';
+    $embed_url = isset($render['#url']) ? $render['#url'] : $old_url;
+    $query     = isset($render['#query']) ? $render['#query'] : [];
 
     // Prevents complication by now.
     unset($query['autoplay'], $query['auto_play']);
 
     $settings['video_id']  = $provider::getIdFromInput($external_url);
-    $settings['embed_url'] = Url::fromUri($url, ['query' => $query])->toString();
-    $settings['scheme']    = $definitions['id'];
+    $settings['embed_url'] = Url::fromUri($embed_url, ['query' => $query])->toString();
+    $settings['scheme']    = $video->loadDefinitionFromInput($external_url)['id'];
     $settings['uri']       = $provider->getLocalThumbnailUri();
     $settings['type']      = 'video';
   }
 
+  /**
+   * Gets the faked image item out of file entity, or ER, if applicable.
+   *
+   * @param \Drupal\file\Entity\FileInterface $file
+   *   The expected file entity, or ER, to get image item from.
+   *
+   * @return array
+   *   The array of image item and settings if a file image, else empty.
+   */
+  public function getImageItem($file) {
+    $data = [];
+    $entity = $file;
+
+    /** @var Drupal\Core\Field\Plugin\Field\FieldType\EntityReferenceItem $file */
+    if (isset($file->entity) && !isset($file->alt)) {
+      $entity = $file->entity;
+    }
+
+    if (!$entity instanceof File) {
+      return $data;
+    }
+
+    /** @var \Drupal\file\Entity\File $entity */
+    list($type,) = explode('/', $entity->getMimeType(), 2);
+    $uri = $entity->getFileUri();
+
+    if ($type == 'image' && ($image = $this->imageFactory()->get($uri)) && $image->isValid()) {
+      $item             = new \stdClass();
+      $item->target_id  = $entity->id();
+      $item->width      = $image->getWidth();
+      $item->height     = $image->getHeight();
+      $item->alt        = $entity->getFilename();
+      $item->title      = $entity->getFilename();
+      $item->uri        = $uri;
+      $settings         = (array) $item;
+      $item->entity     = $entity;
+
+      $settings['type'] = 'image';
+
+      // Build item and settings.
+      $data['item']     = $item;
+      $data['settings'] = $settings;
+      unset($item);
+    }
+
+    return $data;
+  }
+
+  /**
+   * Gets the Media item thumbnail, or re-associate the file entity to ME.
+   *
+   * @param array $data
+   *   An array of data containing settings, and potential video thumbnail item.
+   * @param object $entity
+   *   The media entity, else file entity to be associated to media, if any.
+   */
+  public function getMediaItem(array &$data = [], $entity = NULL) {
+    $settings = $data['settings'];
+
+    $media = $entity;
+    // Core File stores Media thumbnails, re-associate it to Media entity.
+    // @todo: If any proper method to get video URL from image URI, or FID.
+    if ($entity->getEntityTypeId() == 'file' && !empty($settings['uri']) && strpos($settings['uri'], 'video_thumbnails') !== FALSE) {
+      if ($media_id = \Drupal::entityQuery('media')->condition('thumbnail.target_id', $entity->id())->execute()) {
+        $media_id = reset($media_id);
+
+        /** @var \Drupal\media_entity\Entity\Media $entity */
+        $media = $this->blazyManager()->getEntityTypeManager()->getStorage('media')->load($media_id);
+      }
+    }
+
+    // Only proceed if we do have ME.
+    if ($media->getEntityTypeId() != 'media') {
+      return;
+    }
+
+    $bundle = $media->bundle();
+    $fields = $media->getFields();
+
+    $source_field[$bundle]    = $media->getType()->getConfiguration()['source_field'];
+    $settings['bundle']       = $bundle;
+    $settings['source_field'] = $source_field[$bundle];
+    $settings['media_url']    = $media->url();
+    $settings['media_id']     = $media->id();
+    $settings['view_mode']    = empty($settings['view_mode']) ? 'default' : $settings['view_mode'];
+
+    // If Media entity has a defined thumbnail, add it to data item.
+    if (isset($fields['thumbnail'])) {
+      $data['item'] = $fields['thumbnail']->get(0);
+      $settings['file_tags'] = ['file:' . $data['item']->target_id];
+
+      // Provides thumbnail URI for EB selection with various Media entities.
+      if (empty($settings['uri'])) {
+        $settings['uri'] = File::load($data['item']->target_id)->getFileUri();
+      }
+    }
+
+    $source = empty($settings['source_field']) ? '' : $settings['source_field'];
+    if ($source && isset($media->{$source})) {
+      $value     = $media->{$source}->getValue();
+      $input_url = isset($value[0]['uri']) ? $value[0]['uri'] : (isset($value[0]['value']) ? $value[0]['value'] : '');
+
+      if ($input_url) {
+        $settings['input_url'] = $input_url;
+        $this->buildVideo($settings, $input_url);
+      }
+      // @todo move it to actual loop.
+      elseif (isset($value[0]['alt'])) {
+        $settings['type'] = 'image';
+      }
+
+      // Supports other Media entities: Facebook, Instagram, Twitter, etc.
+      if ($build = BlazyMedia::build($media, $settings)) {
+        $data['content'] = $build;
+      }
+    }
+
+    $data['settings'] = $settings;
+  }
+
 }
diff --git a/src/Form/BlazyAdminBase.php b/src/Form/BlazyAdminBase.php
index e30fb80..a32145a 100644
--- a/src/Form/BlazyAdminBase.php
+++ b/src/Form/BlazyAdminBase.php
@@ -7,6 +7,7 @@ use Drupal\Core\Cache\Cache;
 use Drupal\Core\Render\Element;
 use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\Core\Config\TypedConfigManagerInterface;
+use Drupal\Core\StringTranslation\StringTranslationTrait;
 use Drupal\Component\Utility\Html;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 use Drupal\blazy\BlazyManagerInterface;
@@ -21,6 +22,8 @@ use Drupal\blazy\BlazyManagerInterface;
  */
 abstract class BlazyAdminBase implements BlazyAdminInterface {
 
+  use StringTranslationTrait;
+
   /**
    * A state that represents the responsive image style is disabled.
    */
@@ -42,7 +45,7 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
   const STATE_THUMBNAIL_STYLE_ENABLED = 3;
 
   /**
-   * A state that represents the media switch lightbox is enabled.
+   * A state that represents the custom lightbox caption is enabled.
    */
   const STATE_LIGHTBOX_CUSTOM = 4;
 
@@ -119,24 +122,42 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
       return;
     }
 
+    $this->blazyManager->getModuleHandler()->alter('blazy_form_element_definition', $definition);
+
+    // Display style: column, plain static grid, slick grid, slick carousel.
+    // https://drafts.csswg.org/css-multicol
+    if (!empty($definition['style'])) {
+      $form['style'] = [
+        '#type'          => 'select',
+        '#title'         => $this->t('Display style'),
+        '#description'   => $this->t('Either <strong>CSS3 Columns</strong> (experimental pure CSS Masonry) or <strong>Grid Foundation</strong> requires <strong>Grid</strong>. Difference: <strong>Columns</strong> is best with irregular image sizes (scale width, empty height), affects the natural order of grid items. <strong>Grid</strong> with regular cropped ones. Unless required, leave empty to use default formatter, or style.'),
+        '#enforced'      => TRUE,
+        '#empty_option'  => '- None -',
+        '#options'       => [
+          'column' => $this->t('CSS3 Columns'),
+          'grid'   => $this->t('Grid Foundation'),
+        ],
+        '#weight'             => -112,
+        '#wrapper_attributes' => ['class' => ['form-item--style', 'form-item--tooltip-bottom']],
+      ];
+    }
+
     if (isset($definition['skins'])) {
       $form['skin'] = [
         '#type'        => 'select',
-        '#title'       => t('Skin'),
-        '#options'     => isset($definition['skins']) ? $definition['skins'] : [],
+        '#title'       => $this->t('Skin'),
+        '#options'     => empty($definition['skins']) ? [] : $definition['skins'],
         '#enforced'    => TRUE,
-        '#description' => t('Skins allow various layouts with just CSS. Some options below depend on a skin. Leave empty to DIY. Or use the provided hook_info() and implement the skin interface to register ones.'),
+        '#description' => $this->t('Skins allow various layouts with just CSS. Some options below depend on a skin. Leave empty to DIY. Or use the provided hook_info() and implement the skin interface to register ones.'),
         '#weight'      => -107,
-        '#access'      => isset($definition['skins']),
       ];
     }
 
     if (isset($definition['background'])) {
       $form['background'] = [
         '#type'        => 'checkbox',
-        '#title'       => t('Use CSS background'),
-        '#description' => t('Check this to turn the image into CSS background instead. This opens up the goodness of CSS, such as background cover, fixed attachment, etc. <br /><strong>Important!</strong> Requires a consistent Aspect ratio, otherwise collapsed containers. Unless a min-height is added manually to <strong>.media--background</strong> selector. Not compatible with Responsive image, but compatible with Blazy multi-serving images, of course.'),
-        '#access'      => isset($definition['background']),
+        '#title'       => $this->t('Use CSS background'),
+        '#description' => $this->t('Check this to turn the image into CSS background. This opens up the goodness of CSS, such as background cover, fixed attachment, etc. <br /><strong>Important!</strong> Requires a consistent Aspect ratio, otherwise collapsed containers. Unless a min-height is added manually to <strong>.media--background</strong> selector. Not compatible with Responsive image.'),
         '#weight'      => -98,
       ];
     }
@@ -144,10 +165,9 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
     if (isset($definition['layouts'])) {
       $form['layout'] = [
         '#type'        => 'select',
-        '#title'       => t('Layout'),
-        '#options'     => isset($definition['layouts']) ? $definition['layouts'] : [],
-        '#description' => t('Requires a skin. The builtin layouts affects the entire items uniformly. Leave empty to DIY.'),
-        '#access'      => isset($definition['layouts']),
+        '#title'       => $this->t('Layout'),
+        '#options'     => empty($definition['layouts']) ? [] : $definition['layouts'],
+        '#description' => $this->t('Requires a skin. The builtin layouts affects the entire items uniformly. Leave empty to DIY.'),
         '#weight'      => 2,
       ];
     }
@@ -155,10 +175,9 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
     if (isset($definition['captions'])) {
       $form['caption'] = [
         '#type'        => 'checkboxes',
-        '#title'       => t('Caption fields'),
-        '#options'     => isset($definition['captions']) ? $definition['captions'] : [],
-        '#description' => t('Enable any of the following fields as captions. These fields are treated and wrapped as captions.'),
-        '#access'      => isset($definition['captions']),
+        '#title'       => $this->t('Caption fields'),
+        '#options'     => empty($definition['captions']) ? [] : $definition['captions'],
+        '#description' => $this->t('Enable any of the following fields as captions. These fields are treated and wrapped as captions.'),
         '#weight'      => 80,
       ];
     }
@@ -179,29 +198,29 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
    * @see http://www.sitepoint.com/how-to-build-responsive-images-with-srcset/
    */
   public function breakpointsForm(array &$form, $definition = []) {
-    $settings = $definition['settings'];
-    $title = t('Leave Breakpoints empty to disable multi-serving images. <small>If provided, Blazy lazyload applies. Ignored if core Responsive image is provided.<br /> If only two is needed, simply leave the rest empty. At any rate, the last should target the largest monitor.</small>');
-
-    if (isset($definition['background'])) {
-      $title .= '<small>' . t('If <strong>Use CSS background</strong> enabled, <strong>Width</strong> is treated as <strong>max-width</strong>.') . '</small>';
-    }
+    $responsive_image = function_exists('responsive_image_get_image_dimensions');
+    $settings = isset($definition['settings']) ? $definition['settings'] : [];
+    $title = $this->t('Leave Breakpoints empty to disable multi-serving images. <small>If provided, Blazy lazyload applies. Ignored if core Responsive image is provided.<br /> If only two is needed, simply leave the rest empty. At any rate, the last should target the largest monitor. <br />It uses <strong>max-width</strong>, not <strong>min-width</strong>.</small>');
 
     $form['sizes'] = [
       '#type'               => 'textfield',
-      '#title'              => t('Sizes'),
-      '#description'        => t('E.g.: (min-width: 1290px) 1290px, 100vw. Use sizes to implement different size image (different height, width) on different screen sizes along with the <strong>w (width)</strong> descriptor below. Ignored by Responsive image.'),
+      '#title'              => $this->t('Sizes'),
+      '#description'        => $this->t('E.g.: (min-width: 1290px) 1290px, 100vw. Use sizes to implement different size image (different height, width) on different screen sizes along with the <strong>w (width)</strong> descriptor below. Ignored by Responsive image.'),
       '#weight'             => 114,
       '#attributes'         => ['class' => ['form-text--sizes', 'js-expandable']],
       '#wrapper_attributes' => ['class' => ['form-item--sizes']],
-      '#states'             => $this->getState(static::STATE_RESPONSIVE_IMAGE_STYLE_DISABLED, $definition),
     ];
 
+    if ($responsive_image) {
+      $form['sizes']['#states'] = $this->getState(static::STATE_RESPONSIVE_IMAGE_STYLE_DISABLED, $definition);
+    }
+
     $form['breakpoints'] = [
       '#type'       => 'table',
       '#tree'       => TRUE,
-      '#header'     => [t('Breakpoint'), t('Image style'), t('Width/Descriptor')],
-      '#prefix'     => '<h2 class="form__title">' . $title . '</h2>',
-      '#attributes' => ['class' => ['form-wrapper--table']],
+      '#header'     => [$this->t('Breakpoint'), $this->t('Image style'), $this->t('Max-width/Descriptor')],
+      '#prefix'     => '<h2 class="form__title form__title--breakpoints">' . $title . '</h2>',
+      '#attributes' => ['class' => ['form-wrapper--table', 'form-wrapper--table-breakpoints']],
       '#weight'     => 115,
       '#enforced'   => TRUE,
     ];
@@ -222,11 +241,13 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
         $form['breakpoints'][$breakpoint][$key] = $element;
 
         // Do this because otherwise the entire form disappears for table type.
-        $form['breakpoints'][$breakpoint][$key]['#states'] = [
-          'enabled' => [
-            'select[name$="[responsive_image_style]"]' => ['value' => ''],
-          ],
-        ];
+        if ($responsive_image) {
+          $form['breakpoints'][$breakpoint][$key]['#states'] = [
+            'enabled' => [
+              'select[name$="[responsive_image_style]"]' => ['value' => ''],
+            ],
+          ];
+        }
 
         if (isset($definition['vanilla'])) {
           $form['breakpoints'][$breakpoint][$key]['#states']['enabled'][$vanilla] = ['checked' => FALSE];
@@ -255,19 +276,19 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
 
       $form[$breakpoint]['image_style'] = [
         '#type'               => 'select',
-        '#title'              => t('Image style'),
+        '#title'              => $this->t('Image style'),
         '#title_display'      => 'invisible',
         '#options'            => image_style_options(FALSE),
-        '#empty_option'       => t('- None -'),
+        '#empty_option'       => $this->t('- None -'),
         '#weight'             => 2,
         '#wrapper_attributes' => ['class' => ['form-item--left']],
       ];
 
       $form[$breakpoint]['width'] = [
         '#type'               => 'textfield',
-        '#title'              => t('Width'),
+        '#title'              => $this->t('Width'),
         '#title_display'      => 'invisible',
-        '#description'        => t('See <strong>XS</strong> for detailed info.'),
+        '#description'        => $this->t('See <strong>XS</strong> for detailed info.'),
         '#maz_length'         => 32,
         '#size'               => 6,
         '#weight'             => 3,
@@ -276,7 +297,7 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
       ];
 
       if ($breakpoint == 'xs') {
-        $form[$breakpoint]['width']['#description'] = t('E.g.: <strong>640</strong>, or <strong>2x</strong>, or for <strong>small devices</strong> may be combined into <strong>640w 2x</strong> where <strong>x (pixel density)</strong> descriptor is used to define the device-pixel ratio, and <strong>w (width)</strong> descriptor is the width of image source and works in tandem with <strong>sizes</strong> attributes. Use <strong>w (width)</strong> if any issue/ unsure. Default to <strong>w</strong> if no descriptor provided for backward compatibility.');
+        $form[$breakpoint]['width']['#description'] = $this->t('E.g.: <strong>640</strong>, or <strong>2x</strong>, or for <strong>small devices</strong> may be combined into <strong>640w 2x</strong> where <strong>x (pixel density)</strong> descriptor is used to define the device-pixel ratio, and <strong>w (width)</strong> descriptor is the width of image source and works in tandem with <strong>sizes</strong> attributes. Use <strong>w (width)</strong> if any issue/ unsure. Default to <strong>w</strong> if no descriptor provided for backward compatibility.');
       }
     }
 
@@ -284,29 +305,285 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
   }
 
   /**
+   * Returns re-usable grid elements across field formatter and Views.
+   */
+  public function gridForm(array &$form, $definition = []) {
+    $range = range(1, 12);
+    $grid_options = array_combine($range, $range);
+
+    $header = $this->t('Group individual items as block grid<small>Depends on the <strong>Display style</strong>.</small>');
+    $form['grid_header'] = [
+      '#type'   => 'item',
+      '#markup' => '<h3 class="form__title form__title--grid">' . $header . '</h3>',
+    ];
+
+    $form['grid'] = [
+      '#type'        => 'select',
+      '#title'       => $this->t('Grid large'),
+      '#options'     => $grid_options,
+      '#description' => $this->t('Select <strong>- None -</strong> first if trouble with changing form states. The amount of block grid columns for large monitors 64.063em+. <br /><strong>Requires</strong>:<ol><li>Visible items,</li><li>Skin Grid for starter,</li><li>A reasonable amount of contents.</li></ol>Leave empty to DIY, or to not build grids.'),
+      '#enforced'    => TRUE,
+    ];
+
+    $form['grid_medium'] = [
+      '#type'        => 'select',
+      '#title'       => $this->t('Grid medium'),
+      '#options'     => $grid_options,
+      '#description' => $this->t('The amount of block grid columns for medium devices 40.063em - 64em.'),
+    ];
+
+    $form['grid_small'] = [
+      '#type'        => 'select',
+      '#title'       => $this->t('Grid small'),
+      '#options'     => $grid_options,
+      '#description' => $this->t('The amount of block grid columns for small devices 0 - 40em. Specific to <strong>CSS3 Columns</strong>, only 1 - 2 column is respected due to small real estate at smallest device.'),
+    ];
+
+    $form['visible_items'] = [
+      '#type'        => 'select',
+      '#title'       => $this->t('Visible items'),
+      '#options'     => array_combine(range(1, 32), range(1, 32)),
+      '#description' => $this->t('How many items per display at a time.'),
+    ];
+
+    $form['preserve_keys'] = [
+      '#type'        => 'checkbox',
+      '#title'       => $this->t('Preserve keys'),
+      '#description' => $this->t('If checked, keys will be preserved. Default is FALSE which will reindex the grid chunk numerically.'),
+    ];
+
+    $grids = [
+      'grid_header',
+      'grid_medium',
+      'grid_small',
+      'visible_items',
+      'preserve_keys',
+    ];
+
+    foreach ($grids as $key) {
+      $form[$key]['#enforced'] = TRUE;
+      $form[$key]['#states'] = [
+        'visible' => [
+          'select[name$="[grid]"]' => ['!value' => ''],
+        ],
+      ];
+    }
+  }
+
+  /**
    * Returns shared ending form elements across field formatter and Views.
    */
   public function closingForm(array &$form, $definition = []) {
-    $form['current_view_mode'] = [
-      '#type'          => 'hidden',
-      '#default_value' => isset($definition['current_view_mode']) ? $definition['current_view_mode'] : '_custom',
-      '#weight'        => 120,
-    ];
+    if (isset($definition['current_view_mode'])) {
+      $form['current_view_mode'] = [
+        '#type'          => 'hidden',
+        '#default_value' => isset($definition['current_view_mode']) ? $definition['current_view_mode'] : '_custom',
+        '#weight'        => 120,
+      ];
+    }
 
     $this->finalizeForm($form, $definition);
   }
 
   /**
+   * Returns simple form elements common for Views field, EB widget, formatters.
+   */
+  public function baseForm($definition = []) {
+    $settings     = isset($definition['settings']) ? $definition['settings'] : [];
+    $lightboxes   = $this->blazyManager->getLightboxes();
+    $image_styles = image_style_options(FALSE);
+
+    $form = [];
+    $form['image_style'] = [
+      '#type'        => 'select',
+      '#title'       => $this->t('Image style'),
+      '#options'     => $image_styles,
+      '#description' => $this->t('The content image style. This will be treated as the fallback image, which is normally smaller, if Breakpoints are provided. Otherwise this is the only image displayed.'),
+      '#weight'      => -100,
+    ];
+
+    if (isset($settings['media_switch'])) {
+      $form['media_switch'] = [
+        '#type'         => 'select',
+        '#title'        => $this->t('Media switcher'),
+        '#options'      => [
+          'content' => $this->t('Image linked to content'),
+        ],
+        '#empty_option' => $this->t('- None -'),
+        '#description'  => $this->t('May depend on the enabled supported or supportive modules: colorbox, photobox etc. Be sure to add Thumbnail style if using Photobox. Try selecting "<strong>- None -</strong>" first before changing if trouble with this complex form states.'),
+        '#weight'       => -99,
+      ];
+
+      // Optional lightbox integration.
+      if (!empty($lightboxes)) {
+        foreach ($lightboxes as $lightbox) {
+          $form['media_switch']['#options'][$lightbox] = $this->t('Image to @lightbox', ['@lightbox' => $lightbox]);
+        }
+
+        // Re-use the same image style for both lightboxes.
+        $form['box_style'] = [
+          '#type'    => 'select',
+          '#title'   => $this->t('Lightbox image style'),
+          '#options' => $image_styles,
+          '#states'  => $this->getState(static::STATE_LIGHTBOX_ENABLED, $definition),
+          '#weight'  => -99,
+        ];
+
+        if (!empty($definition['multimedia'])) {
+          $form['box_media_style'] = [
+            '#type'        => 'select',
+            '#title'       => $this->t('Lightbox video style'),
+            '#options'     => $image_styles,
+            '#description' => $this->t('Allows different lightbox video dimensions. Or can be used to have a swipable video if Blazy PhotoSwipe installed.'),
+            '#states'      => $this->getState(static::STATE_LIGHTBOX_ENABLED, $definition),
+            '#weight'      => -99,
+          ];
+        }
+      }
+
+      // Adds common supported entities for media integration.
+      if (!empty($definition['multimedia'])) {
+        $form['media_switch']['#options']['media'] = $this->t('Image to iFrame');
+      }
+
+      // http://en.wikipedia.org/wiki/List_of_common_resolutions
+      $ratio = ['1:1', '3:2', '4:3', '8:5', '16:9', 'fluid', 'enforced'];
+      $form['ratio'] = [
+        '#type'         => 'select',
+        '#title'        => $this->t('Aspect ratio'),
+        '#options'      => array_combine($ratio, $ratio),
+        '#empty_option' => $this->t('- None -'),
+        '#description'  => $this->t('Aspect ratio to get consistently responsive images and iframes. And to fix layout reflow and excessive height issues. <a href="@dimensions" target="_blank">Image styles and video dimensions</a> must <a href="@follow" target="_blank">follow the aspect ratio</a>. If not, images will be distorted. Choose <strong>fluid</strong> if unsure. Choose <strong>enforced</strong> if you can stick to one aspect ratio and want multi-serving, or Responsive images. <a href="@link" target="_blank">Learn more</a>, or leave empty to DIY. <br /><strong>Note!</strong> Only compatible with Blazy multi-serving images, but not Responsive image.', [
+          '@dimensions'  => '//size43.com/jqueryVideoTool.html',
+          '@follow'      => '//en.wikipedia.org/wiki/Aspect_ratio_%28image%29',
+          '@link'        => '//www.smashingmagazine.com/2014/02/27/making-embedded-content-work-in-responsive-design/',
+        ]),
+        '#weight'        => -96,
+      ];
+
+      if (function_exists('responsive_image_get_image_dimensions')) {
+        $form['ratio']['#states'] = $this->getState(static::STATE_RESPONSIVE_IMAGE_STYLE_DISABLED, $definition);
+      }
+    }
+
+    if (!empty($definition['target_type']) && !empty($definition['view_mode'])) {
+      $form['view_mode'] = [
+        '#type'        => 'select',
+        '#options'     => $this->getViewModeOptions($definition['target_type']),
+        '#title'       => $this->t('View mode'),
+        '#description' => $this->t('Required to grab the fields, or to have custom entity display as fallback display. If it has fields, be sure the selected "View mode" is enabled, and the enabled fields here are not hidden there. Manage view modes on the <a href=":view_modes">View modes page</a>.', [':view_modes' => Url::fromRoute('entity.entity_view_mode.collection')->toString()]),
+        '#weight'      => -96,
+        '#enforced'    => TRUE,
+      ];
+    }
+
+    if (!empty($definition['thumbnail_style'])) {
+      $form['thumbnail_style'] = [
+        '#type'        => 'select',
+        '#title'       => $this->t('Thumbnail style'),
+        '#options'     => image_style_options(TRUE),
+        '#description' => $this->t('Usages: Photobox/PhotoSwipe thumbnail, or custom work with thumbnails. Leave empty to not use thumbnails.'),
+        '#weight'      => -100,
+      ];
+    }
+
+    $this->blazyManager->getModuleHandler()->alter('blazy_base_form_element', $form, $definition);
+
+    return $form;
+  }
+
+  /**
+   * Returns re-usable media switch form elements.
+   */
+  public function mediaSwitchForm(array &$form, $definition = []) {
+    $lightboxes = $this->blazyManager->getLightboxes();
+    $is_token   = function_exists('token_theme');
+
+    if (isset($definition['media_switch_form'])) {
+      $form['media_switch'] = $this->baseForm($definition)['media_switch'];
+      $form['media_switch']['#prefix'] = '<h3 class="form__title form__title--media-switch">' . $this->t('Media switcher') . '</h3>';
+      $form['ratio'] = $this->baseForm($definition)['ratio'];
+    }
+
+    if (isset($definition['multimedia'])) {
+      $form['iframe_lazy'] = [
+        '#type'        => 'checkbox',
+        '#title'       => $this->t('Lazy iframe'),
+        '#description' => $this->t('Check to make the video/audio iframes truly lazyloaded, and speed up loading time. Depends on JS enabled at client side. <a href=":more" target="_blank">Read more</a> to <a href=":url" target="_blank">decide</a>.', [':more' => '//goo.gl/FQLFQ6', ':url' => '//goo.gl/f78pMl']),
+        '#weight'      => -96,
+        '#states'      => $this->getState(static::STATE_IFRAME_ENABLED, $definition),
+      ];
+    }
+
+    if (!empty($definition['target_type']) && isset($definition['view_mode'])) {
+      $form['view_mode'] = $this->baseForm($definition)['view_mode'];
+    }
+
+    // Optional lightbox integration.
+    if (!empty($lightboxes)) {
+      $form['box_style'] = $this->baseForm($definition)['box_style'];
+
+      if (!empty($definition['multimedia'])) {
+        $form['box_media_style'] = $this->baseForm($definition)['box_media_style'];
+      }
+
+      $box_captions = [
+        'auto'         => $this->t('Automatic'),
+        'alt'          => $this->t('Alt text'),
+        'title'        => $this->t('Title text'),
+        'alt_title'    => $this->t('Alt and Title'),
+        'title_alt'    => $this->t('Title and Alt'),
+        'entity_title' => $this->t('Content title'),
+        'custom'       => $this->t('Custom'),
+      ];
+
+      if (isset($definition['box_captions'])) {
+        $form['box_caption'] = [
+          '#type'        => 'select',
+          '#title'       => $this->t('Lightbox caption'),
+          '#options'     => $box_captions,
+          '#weight'      => -99,
+          '#states'      => $this->getState(static::STATE_LIGHTBOX_ENABLED, $definition),
+          '#description' => $this->t('Automatic will search for Alt text first, then Title text. Try selecting <strong>- None -</strong> first when changing if trouble with form states.'),
+        ];
+
+        $form['box_caption_custom'] = [
+          '#title'       => $this->t('Lightbox custom caption'),
+          '#type'        => 'textfield',
+          '#weight'      => -99,
+          '#states'      => $this->getState(static::STATE_LIGHTBOX_CUSTOM, $definition),
+          '#description' => $this->t('Multi-value rich text field will be mapped to each image by its delta.'),
+        ];
+
+        if ($is_token) {
+          $types = isset($definition['entity_type']) ? [$definition['entity_type']] : [];
+          $types = isset($definition['target_type']) ? array_merge($types, [$definition['target_type']]) : $types;
+          $form['box_caption_custom']['#field_suffix'] = [
+            '#theme'       => 'token_tree_link',
+            '#text'        => $this->t('Tokens'),
+            '#token_types' => $types,
+          ];
+        }
+        else {
+          $form['box_caption_custom']['#description'] .= ' ' . $this->t('Install Token module to browse available tokens.');
+        }
+      }
+    }
+  }
+
+  /**
    * Returns re-usable logic, styling and assets across fields and Views.
    */
   public function finalizeForm(array &$form, $definition = []) {
-    $namespace = isset($definition['namespace']) ? $definition['namespace'] : 'slick';
-    $settings  = isset($definition['settings']) ? $definition['settings'] : [];
-    $vanilla   = isset($definition['vanilla']) ? ' form--vanilla' : '';
-    $fallback  = $namespace == 'slick' ? 'form--slick' : 'form--' . $namespace . ' form--slick';
-    $classes   = isset($definition['form_opening_classes'])
+    $namespace  = isset($definition['namespace']) ? $definition['namespace'] : 'slick';
+    $settings   = isset($definition['settings']) ? $definition['settings'] : [];
+    $vanilla    = isset($definition['vanilla']) ? ' form--vanilla' : '';
+    $captions   = empty($definition['captions']) ? 0 : count($definition['captions']);
+    $wide       = $captions > 2 ? ' form--wide' : '';
+    $fallback   = $namespace == 'slick' ? 'form--slick' : 'form--' . $namespace . ' form--slick';
+    $classes    = isset($definition['form_opening_classes'])
       ? $definition['form_opening_classes']
-      : $fallback . ' form--half has-tooltip' . $vanilla;
+      : $fallback . ' form--half has-tooltip' . $wide . $vanilla;
 
     $form['opening'] = [
       '#markup' => '<div class="' . $classes . '">',
@@ -320,7 +597,7 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
 
     $admin_css = isset($definition['admin_css']) ? $definition['admin_css'] : '';
     $admin_css = $admin_css ?: $this->blazyManager->configLoad('admin_css', 'blazy.settings');
-    $excludes  = ['container', 'details', 'item', 'hidden', 'submit'];
+    $excludes  = ['button', 'container', 'details', 'fieldset', 'hidden', 'markup', 'item', 'submit', 'table'];
 
     foreach (Element::children($form) as $key) {
       if (isset($form[$key]['#type']) && !in_array($form[$key]['#type'], $excludes)) {
@@ -346,7 +623,7 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
         }
         if ($form[$key]['#type'] == 'select' && !in_array($key, ['cache', 'optionset', 'view_mode'])) {
           if (!isset($form[$key]['#empty_option']) && !isset($form[$key]['#required'])) {
-            $form[$key]['#empty_option'] = t('- None -');
+            $form[$key]['#empty_option'] = $this->t('- None -');
           }
         }
 
@@ -369,6 +646,8 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
     if ($admin_css) {
       $form['closing']['#attached']['library'][] = 'blazy/admin';
     }
+
+    $this->blazyManager->getModuleHandler()->alter('blazy_complete_form_element', $form, $definition);
   }
 
   /**
@@ -377,8 +656,8 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
   public function getCacheOptions() {
     $period = [0, 60, 180, 300, 600, 900, 1800, 2700, 3600, 10800, 21600, 32400, 43200, 86400];
     $period = array_map([\Drupal::service('date.formatter'), 'formatInterval'], array_combine($period, $period));
-    $period[0] = '<' . t('No caching') . '>';
-    return $period + [Cache::PERMANENT => t('Permanent')];
+    $period[0] = '<' . $this->t('No caching') . '>';
+    return $period + [Cache::PERMANENT => $this->t('Permanent')];
   }
 
   /**
@@ -417,6 +696,11 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
    *   A corresponding form API state.
    */
   protected function getState($state, $definition = []) {
+    $lightboxes = [];
+    foreach ($this->blazyManager->getLightboxes() as $key => $lightbox) {
+      $lightboxes[$key]['value'] = $lightbox;
+    }
+
     $states = [
       static::STATE_RESPONSIVE_IMAGE_STYLE_DISABLED => [
         'visible' => [
@@ -425,13 +709,13 @@ abstract class BlazyAdminBase implements BlazyAdminInterface {
       ],
       static::STATE_LIGHTBOX_ENABLED => [
         'visible' => [
-          'select[name*="[media_switch]"]' => [['value' => 'colorbox'], ['value' => 'photobox']],
+          'select[name*="[media_switch]"]' => $lightboxes,
         ],
       ],
       static::STATE_LIGHTBOX_CUSTOM => [
         'visible' => [
           'select[name$="[box_caption]"]' => ['value' => 'custom'],
-          'select[name*="[media_switch]"]' => [['value' => 'colorbox'], ['value' => 'photobox']],
+          'select[name*="[media_switch]"]' => $lightboxes,
         ],
       ],
       static::STATE_IFRAME_ENABLED => [
diff --git a/src/Form/BlazyAdminFormatter.php b/src/Form/BlazyAdminFormatter.php
index c1aae53..70c57d8 100644
--- a/src/Form/BlazyAdminFormatter.php
+++ b/src/Form/BlazyAdminFormatter.php
@@ -13,22 +13,36 @@ class BlazyAdminFormatter extends BlazyAdminFormatterBase {
    * Defines re-usable form elements.
    */
   public function buildSettingsForm(array &$form, $definition = []) {
-    $definition['responsive_images'] = TRUE;
+    $definition['namespace'] = 'blazy';
+    $definition['responsive_image'] = TRUE;
 
     $this->openingForm($form, $definition);
     $this->imageStyleForm($form, $definition);
     $this->mediaSwitchForm($form, $definition);
 
-    if ($this->blazyManager()->getModuleHandler()->moduleExists('blazy_ui')) {
-      $form['responsive_image_style']['#description'] .= ' ' . t('<a href=":url" target="_blank">Enable lazyloading Responsive image</a>.', [':url' => Url::fromRoute('blazy.settings')->toString()]);
-    }
+    if (!empty($definition['grid_form']) && !isset($form['grid'])) {
+      $this->gridForm($form, $definition);
+
+      // Blazy doesn't need complex grid with multiple groups.
+      unset($form['preserve_keys'], $form['visible_items']);
 
-    $form['responsive_image_style']['#description'] = t('Only expects multi-serving IMG, but not PICTURE element. Not compatible with below breakpoints, aspect ratio, yet. However it can still lazyload by checking <strong>Responsive image</strong> option via Blazy UI. Leave empty to disable.');
+      if (isset($form['grid'])) {
+        $form['grid']['#description'] = $this->t('The amount of block grid columns for large monitors 64.063em+. <br /><strong>Requires</strong>:<ol><li>Display style.</li><li>A reasonable amount of contents.</li></ol>Leave empty to DIY, or to not build grids.');
+      }
+    }
 
-    if (isset($definition['breakpoints'])) {
+    if (!empty($definition['breakpoints'])) {
       $this->breakpointsForm($form, $definition);
     }
 
+    if (isset($form['responsive_image_style'])) {
+      $form['responsive_image_style']['#description'] = $this->t('Not compatible with below breakpoints, aspect ratio, yet. However it can still lazyload by checking <strong>Responsive image</strong> option via Blazy UI. Leave empty to disable.');
+
+      if ($this->blazyManager()->getModuleHandler()->moduleExists('blazy_ui')) {
+        $form['responsive_image_style']['#description'] .= ' ' . $this->t('<a href=":url" target="_blank">Enable lazyloading Responsive image</a>.', [':url' => Url::fromRoute('blazy.settings')->toString()]);
+      }
+    }
+
     $this->closingForm($form, $definition);
   }
 
diff --git a/src/Form/BlazyAdminFormatterBase.php b/src/Form/BlazyAdminFormatterBase.php
index aa5753e..bf6c13b 100644
--- a/src/Form/BlazyAdminFormatterBase.php
+++ b/src/Form/BlazyAdminFormatterBase.php
@@ -18,42 +18,28 @@ abstract class BlazyAdminFormatterBase extends BlazyAdminBase {
     $image_styles  = image_style_options(FALSE);
     $is_responsive = function_exists('responsive_image_get_image_dimensions');
 
-    $form['image_style'] = [
-      '#type'        => 'select',
-      '#title'       => t('Image style'),
-      '#options'     => $image_styles,
-      '#description' => t('The content image style. This will be treated as the fallback image, which is normally smaller, if Breakpoints are provided. Otherwise this is the only image displayed.'),
-      '#weight'      => -100,
-    ];
-
-    if (isset($definition['thumbnail_styles'])) {
-      $form['thumbnail_style'] = [
-        '#type'        => 'select',
-        '#title'       => t('Thumbnail style'),
-        '#options'     => $image_styles,
-        '#description' => t('Usages: Photobox thumbnail, or custom work with thumbnails. Leave empty to not use thumbnails.'),
-        '#access'      => isset($definition['thumbnail_styles']),
-        '#weight'      => -100,
-      ];
+    $form['image_style'] = $this->baseForm($definition)['image_style'];
+
+    if (!empty($definition['thumbnail_style'])) {
+      $form['thumbnail_style'] = $this->baseForm($definition)['thumbnail_style'];
     }
 
-    if ($is_responsive && !empty($definition['responsive_images'])) {
+    if ($is_responsive && !empty($definition['responsive_image'])) {
       $form['responsive_image_style'] = [
         '#type'        => 'select',
-        '#title'       => t('Responsive image'),
+        '#title'       => $this->t('Responsive image'),
         '#options'     => $this->getResponsiveImageOptions(),
-        '#description' => t('Responsive image style for the main stage image is more reasonable for large images. Only expects multi-serving IMG, but not PICTURE element. Not compatible with breakpoints and aspect ratio, yet. Leave empty to disable.'),
+        '#description' => $this->t('Responsive image style for the main stage image is more reasonable for large images. Works with multi-serving IMG, or PICTURE element. Not compatible with breakpoints and aspect ratio, yet. Leave empty to disable.'),
         '#access'      => $this->getResponsiveImageOptions(),
         '#weight'      => -100,
       ];
     }
 
-    if (isset($definition['thumbnail_effects'])) {
+    if (isset($definition['thumbnail_effect'])) {
       $form['thumbnail_effect'] = [
         '#type'        => 'select',
-        '#title'       => t('Thumbnail effect'),
-        '#options'     => isset($definition['thumbnail_effects']) ? $definition['thumbnail_effects'] : [],
-        '#access'      => isset($definition['thumbnail_effects']),
+        '#title'       => $this->t('Thumbnail effect'),
+        '#options'     => isset($definition['thumbnail_effect']) ? $definition['thumbnail_effect'] : [],
         '#weight'      => -100,
         // '#states'      => $this->getState(static::STATE_THUMBNAIL_STYLE_ENABLED, $definition),
       ];
@@ -61,7 +47,7 @@ abstract class BlazyAdminFormatterBase extends BlazyAdminBase {
 
     if ($is_responsive && isset($form['responsive_image_style'])) {
       $url = Url::fromRoute('entity.responsive_image_style.collection')->toString();
-      $form['responsive_image_style']['#description'] .= ' ' . t('<a href=":url" target="_blank">Manage responsive image styles</a>.', [':url' => $url]);
+      $form['responsive_image_style']['#description'] .= ' ' . $this->t('<a href=":url" target="_blank">Manage responsive image styles</a>.', [':url' => $url]);
     }
 
     if (isset($form['background'])) {
@@ -70,142 +56,6 @@ abstract class BlazyAdminFormatterBase extends BlazyAdminBase {
   }
 
   /**
-   * Returns re-usable media switch form elements.
-   */
-  public function mediaSwitchForm(array &$form, $definition = []) {
-    $is_colorbox  = function_exists('colorbox_theme');
-    $is_photobox  = function_exists('photobox_theme');
-    $is_token     = function_exists('token_theme');
-    $image_styles = image_style_options(FALSE);
-    $photobox     = \Drupal::root() . '/libraries/photobox/photobox/jquery.photobox.js';
-
-    if (is_file($photobox)) {
-      $is_photobox = TRUE;
-    }
-
-    $form['media_switch'] = [
-      '#type'        => 'select',
-      '#title'       => t('Media switcher'),
-      '#options'     => [
-        'content' => t('Image linked to content'),
-      ],
-      '#description' => t('May depend on the enabled supported modules: colorbox, photobox. Be sure to add Thumbnail style if using Photobox.'),
-      '#prefix'      => '<h3 class="form__title">' . t('Media switcher') . '</h3>',
-      '#weight'      => -99,
-      '#access'      => isset($definition['media_switch_form']),
-    ];
-
-    // http://en.wikipedia.org/wiki/List_of_common_resolutions
-    $ratio = ['1:1', '3:2', '4:3', '8:5', '16:9', 'fluid', 'enforced'];
-    $form['ratio'] = [
-      '#type'        => 'select',
-      '#title'       => t('Aspect ratio'),
-      '#options'     => array_combine($ratio, $ratio),
-      '#description' => t('Aspect ratio to get consistently responsive images and iframes. And to fix layout reflow and excessive height issues. <a href="@dimensions" target="_blank">Image styles and video dimensions</a> must <a href="@follow" target="_blank">follow the aspect ratio</a>. If not, images will be unexpectedly distorted. Choose <strong>fluid</strong> if unsure. Choose <strong>enforced</strong> if you can stick to one aspect ratio and want multi-serving, or Responsive images. <a href="@link" target="_blank">Learn more</a>, or leave empty if you care not for aspect ratio, or prefer to DIY. <br /><strong>Note!</strong> Only compatible with Blazy multi-serving images, but not with Responsive image, unless they stick to one aspect ratio with an <strong>enforced</strong> ratio.', [
-        '@dimensions' => '//size43.com/jqueryVideoTool.html',
-        '@follow'     => '//en.wikipedia.org/wiki/Aspect_ratio_%28image%29',
-        '@link'       => '//www.smashingmagazine.com/2014/02/27/making-embedded-content-work-in-responsive-design/',
-      ]),
-      '#access'       => isset($definition['media_switch_form']),
-      '#weight'       => -96,
-      '#states'       => $this->getState(static::STATE_RESPONSIVE_IMAGE_STYLE_DISABLED, $definition),
-    ];
-
-    $form['iframe_lazy'] = [
-      '#type'        => 'checkbox',
-      '#title'       => t('Lazy iframe'),
-      '#description' => t('Check to make the video/audio iframes truly lazyloaded, and speed up loading time. Depends on JS enabled at client side. <a href=":more" target="_blank">Read more</a> to <a href=":url" target="_blank">decide</a>.', [':more' => '//goo.gl/FQLFQ6', ':url' => '//goo.gl/f78pMl']),
-      '#access'      => isset($definition['multimedia']),
-      '#weight'      => -96,
-      '#states'      => $this->getState(static::STATE_IFRAME_ENABLED, $definition),
-    ];
-
-    $form['view_mode'] = [
-      '#type'        => 'select',
-      '#options'     => isset($definition['target_type']) ? $this->getViewModeOptions($definition['target_type']) : [],
-      '#title'       => t('View mode'),
-      '#description' => t('Required to grab the fields. Be sure the selected "View mode" is enabled, and the enabled fields here are not hidden there. Manage view modes on the <a href=":view_modes">View modes page</a>.', [':view_modes' => Url::fromRoute('entity.entity_view_mode.collection')->toString()]),
-      '#access'      => isset($definition['fieldable_form']) && isset($definition['target_type']),
-      '#weight'      => -96,
-      '#enforced'    => TRUE,
-    ];
-
-    // Optional lightbox integration.
-    if ($is_colorbox || $is_photobox || isset($definition['lightbox'])) {
-      if ($is_colorbox) {
-        $form['media_switch']['#options']['colorbox'] = t('Image to colorbox');
-      }
-
-      if ($is_photobox) {
-        $form['media_switch']['#options']['photobox'] = t('Image to photobox');
-      }
-
-      // Re-use the same image style for both lightboxes.
-      $form['box_style'] = [
-        '#type'    => 'select',
-        '#title'   => t('Lightbox image style'),
-        '#options' => $image_styles,
-        '#weight'  => -99,
-      ];
-
-      if (!isset($definition['lightbox'])) {
-        $form['box_style']['#states'] = $this->getState(static::STATE_LIGHTBOX_ENABLED, $definition);
-      }
-
-      $box_captions = [
-        'auto'         => t('Automatic'),
-        'alt'          => t('Alt text'),
-        'title'        => t('Title text'),
-        'alt_title'    => t('Alt and Title'),
-        'title_alt'    => t('Title and Alt'),
-        'entity_title' => t('Content title'),
-        'custom'       => t('Custom'),
-      ];
-
-      $form['box_caption'] = [
-        '#type'        => 'select',
-        '#title'       => t('Lightbox caption'),
-        '#options'     => $box_captions,
-        '#access'      => isset($definition['box_captions']),
-        '#weight'      => -99,
-        '#states'      => $this->getState(static::STATE_LIGHTBOX_ENABLED, $definition),
-        '#description' => t('Automatic will search for Alt text first, then Title text.'),
-      ];
-
-      $form['box_caption_custom'] = [
-        '#title'       => t('Lightbox custom caption'),
-        '#type'        => 'textfield',
-        '#access'      => isset($definition['box_captions']),
-        '#weight'      => -99,
-        '#states'      => $this->getState(static::STATE_LIGHTBOX_CUSTOM, $definition),
-        '#description' => t('Multi-value rich text field will be mapped to each image by its delta.'),
-      ];
-
-      if ($is_token) {
-        $types = isset($definition['entity_type']) ? [$definition['entity_type']] : [];
-        $types = isset($definition['target_type']) ? array_merge($types, [$definition['target_type']]) : $types;
-        $form['box_caption_custom']['#field_suffix'] = [
-          '#theme'       => 'token_tree_link',
-          '#text'        => t('Tokens'),
-          '#token_types' => $types,
-        ];
-      }
-      else {
-        $form['box_caption_custom']['#description'] .= ' ' . t('Install Token module to browse available tokens.');
-      }
-
-      $form['dimension'] = [
-        '#type'        => 'textfield',
-        '#title'       => t('Lightbox media dimension'),
-        '#description' => t('Use WIDTHxHEIGHT, e.g.: 640x360. This allows video dimensions for the lightbox to be different from the lightbox image style.'),
-        '#access'      => isset($definition['multimedia']),
-        '#weight'      => -99,
-        '#states'      => $this->getState(static::STATE_LIGHTBOX_ENABLED, $definition),
-      ];
-    }
-  }
-
-  /**
    * Return the field formatter settings summary.
    */
   public function settingsSummary($plugin, $definition = []) {
@@ -227,7 +77,7 @@ abstract class BlazyAdminFormatterBase extends BlazyAdminBase {
         continue;
       }
 
-      if (in_array($type, ['button', 'hidden', 'markup', 'item', 'submit']) || empty($type)) {
+      if (in_array($type, ['button', 'container', 'details', 'fieldset', 'hidden', 'markup', 'item', 'submit', 'table']) || empty($type)) {
         continue;
       }
 
@@ -248,8 +98,8 @@ abstract class BlazyAdminFormatterBase extends BlazyAdminBase {
           }
         }
 
-        $title   = t('Breakpoints');
-        $setting = $widths ? implode(', ', $widths) : t('None');
+        $title   = $this->t('Breakpoints');
+        $setting = $widths ? implode(', ', $widths) : $this->t('None');
       }
       else {
         if (empty($title) || $vanilla || !$access) {
@@ -261,7 +111,7 @@ abstract class BlazyAdminFormatterBase extends BlazyAdminBase {
         }
 
         if (is_bool($setting) && $setting) {
-          $setting = t('Yes');
+          $setting = $this->t('Yes');
         }
         elseif (is_string($setting) && $key != 'cache') {
           // The value is based on select options.
@@ -303,7 +153,7 @@ abstract class BlazyAdminFormatterBase extends BlazyAdminBase {
       }
 
       if (isset($settings[$key])) {
-        $summary[] = t('@title: <strong>@setting</strong>', [
+        $summary[] = $this->t('@title: <strong>@setting</strong>', [
           '@title'   => $title,
           '@setting' => $setting,
         ]);
@@ -325,9 +175,15 @@ abstract class BlazyAdminFormatterBase extends BlazyAdminBase {
       $target_bundles = $bundle_service->getBundleInfo($entity_type);
     }
 
+    // Declutters options from less relevant options.
+    $excludes = $this->getExcludedFieldOptions();
+
     foreach ($target_bundles as $bundle => $label) {
       if ($fields = $storage->loadByProperties(['entity_type' => $entity_type, 'bundle' => $bundle])) {
         foreach ((array) $fields as $field_name => $field) {
+          if (in_array($field->getName(), $excludes)) {
+            continue;
+          }
           if (empty($allowed_field_types)) {
             $options[$field->getName()] = $field->getLabel();
           }
@@ -346,6 +202,18 @@ abstract class BlazyAdminFormatterBase extends BlazyAdminBase {
   }
 
   /**
+   * Declutters options from less relevant options.
+   */
+  public function getExcludedFieldOptions() {
+    $excludes = 'field_document_size field_id field_media_in_library field_mime_type field_source field_tweet_author field_tweet_id field_tweet_url field_media_video_embed_field field_instagram_shortcode field_instagram_url';
+    $excludes = explode(' ', $excludes);
+    $excludes = array_combine($excludes, $excludes);
+
+    $this->blazyManager->getModuleHandler()->alter('blazy_excluded_field_options', $excludes);
+    return $excludes;
+  }
+
+  /**
    * Returns Responsive image for select options.
    */
   public function getResponsiveImageOptions() {
diff --git a/src/Plugin/Field/FieldFormatter/BlazyFileFormatter.php b/src/Plugin/Field/FieldFormatter/BlazyFileFormatter.php
new file mode 100644
index 0000000..8bfa3a7
--- /dev/null
+++ b/src/Plugin/Field/FieldFormatter/BlazyFileFormatter.php
@@ -0,0 +1,34 @@
+<?php
+
+namespace Drupal\blazy\Plugin\Field\FieldFormatter;
+
+use Drupal\Core\Field\FieldDefinitionInterface;
+use Drupal\blazy\Dejavu\BlazyVideoTrait;
+
+/**
+ * Plugin implementation of the 'Blazy File' to get videos within images/files.
+ */
+class BlazyFileFormatter extends BlazyFileFormatterBase {
+
+  use BlazyFormatterTrait;
+  use BlazyVideoTrait;
+
+  /**
+   * {@inheritdoc}
+   */
+  public function getScopedFormElements() {
+    return [
+      'fieldable_form' => TRUE,
+      'multimedia'     => TRUE,
+      'view_mode'      => $this->viewMode,
+    ] + parent::getScopedFormElements();
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public static function isApplicable(FieldDefinitionInterface $field_definition) {
+    return $field_definition->getFieldStorageDefinition()->getSetting('target_type') === 'file';
+  }
+
+}
diff --git a/src/Plugin/Field/FieldFormatter/BlazyFileFormatterBase.php b/src/Plugin/Field/FieldFormatter/BlazyFileFormatterBase.php
new file mode 100644
index 0000000..fa6bea2
--- /dev/null
+++ b/src/Plugin/Field/FieldFormatter/BlazyFileFormatterBase.php
@@ -0,0 +1,157 @@
+<?php
+
+namespace Drupal\blazy\Plugin\Field\FieldFormatter;
+
+use Drupal\Core\Field\EntityReferenceFieldItemListInterface;
+use Drupal\Core\Field\FieldDefinitionInterface;
+use Drupal\Core\Field\Plugin\Field\FieldType\EntityReferenceItem;
+use Drupal\Core\Form\FormStateInterface;
+use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
+use Drupal\field\FieldConfigInterface;
+use Drupal\file\Plugin\Field\FieldFormatter\FileFormatterBase;
+use Drupal\blazy\BlazyFormatterManager;
+use Drupal\blazy\Dejavu\BlazyDefault;
+use Symfony\Component\DependencyInjection\ContainerInterface;
+
+/**
+ * Base class for blazy/slick image and file ER formatters.
+ */
+abstract class BlazyFileFormatterBase extends FileFormatterBase implements ContainerFactoryPluginInterface {
+
+  /**
+   * The blazy manager service.
+   *
+   * @var \Drupal\blazy\BlazyFormatterManager
+   */
+  protected $blazyManager;
+
+  /**
+   * Constructs a BlazyFormatter object.
+   */
+  public function __construct($plugin_id, $plugin_definition, FieldDefinitionInterface $field_definition, array $settings, $label, $view_mode, array $third_party_settings, BlazyFormatterManager $blazy_manager) {
+    parent::__construct($plugin_id, $plugin_definition, $field_definition, $settings, $label, $view_mode, $third_party_settings);
+    $this->blazyManager = $blazy_manager;
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition) {
+    return new static(
+      $plugin_id,
+      $plugin_definition,
+      $configuration['field_definition'],
+      $configuration['settings'],
+      $configuration['label'],
+      $configuration['view_mode'],
+      $configuration['third_party_settings'],
+      $container->get('blazy.formatter.manager')
+    );
+  }
+
+  /**
+   * Returns the blazy manager.
+   */
+  public function blazyManager() {
+    return $this->blazyManager;
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public static function defaultSettings() {
+    return BlazyDefault::imageSettings() + BlazyDefault::gridSettings();
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public function settingsForm(array $form, FormStateInterface $form_state) {
+    $element    = [];
+    $definition = $this->getScopedFormElements();
+
+    $definition['_views'] = isset($form['field_api_classes']);
+
+    $this->admin()->buildSettingsForm($element, $definition);
+
+    return $element;
+  }
+
+  /**
+   * Defines the scope for the form elements.
+   */
+  public function getScopedFormElements() {
+    $field       = $this->fieldDefinition;
+    $entity_type = $field->getTargetEntityTypeId();
+    $target_type = $this->getFieldSetting('target_type');
+    $multiple    = $field->getFieldStorageDefinition()->isMultiple();
+
+    return [
+      'background'        => TRUE,
+      'box_captions'      => TRUE,
+      'breakpoints'       => BlazyDefault::getConstantBreakpoints(),
+      'captions'          => ['title' => $this->t('Title'), 'alt' => $this->t('Alt')],
+      'current_view_mode' => $this->viewMode,
+      'entity_type'       => $entity_type,
+      'field_name'        => $field->getName(),
+      'field_type'        => $field->getType(),
+      'grid_form'         => $multiple,
+      'image_style_form'  => TRUE,
+      'media_switch_form' => TRUE,
+      'namespace'         => 'blazy',
+      'settings'          => $this->getSettings(),
+      'style'             => $multiple,
+      'target_type'       => $target_type,
+      'thumbnail_style'   => TRUE,
+    ];
+  }
+
+  /**
+   * Overrides \Drupal\file\Plugin\Field\FieldFormatter\FileFormatterBase::needsEntityLoad().
+   *
+   * One step back to have both image and file ER plugins extend this, because
+   * EntityReferenceItem::isDisplayed() doesn't exist, except for ImageItem
+   * which is always TRUE anyway for type image and file ER.
+   */
+  protected function needsEntityLoad(EntityReferenceItem $item) {
+    return !$item->hasNewEntity();
+  }
+
+  /**
+   * {@inheritdoc}
+   *
+   * A clone of Drupal\image\Plugin\Field\FieldFormatter\ImageFormatterBase so
+   * to have one base class to extend for both image and file ER formatters.
+   */
+  protected function getEntitiesToView(EntityReferenceFieldItemListInterface $items, $langcode) {
+    // Add the default image if hte type is image.
+    if ($items->isEmpty() && $this->fieldDefinition->getType() === 'image') {
+      $default_image = $this->getFieldSetting('default_image');
+      // If we are dealing with a configurable field, look in both
+      // instance-level and field-level settings.
+      if (empty($default_image['uuid']) && $this->fieldDefinition instanceof FieldConfigInterface) {
+        $default_image = $this->fieldDefinition->getFieldStorageDefinition()->getSetting('default_image');
+      }
+      if (!empty($default_image['uuid']) && $file = \Drupal::entityManager()->loadEntityByUuid('file', $default_image['uuid'])) {
+        // Clone the FieldItemList into a runtime-only object for the formatter,
+        // so that the fallback image can be rendered without affecting the
+        // field values in the entity being rendered.
+        $items = clone $items;
+        $items->setValue(array(
+          'target_id' => $file->id(),
+          'alt' => $default_image['alt'],
+          'title' => $default_image['title'],
+          'width' => $default_image['width'],
+          'height' => $default_image['height'],
+          'entity' => $file,
+          '_loaded' => TRUE,
+          '_is_default' => TRUE,
+        ));
+        $file->_referringItem = $items[0];
+      }
+    }
+
+    return parent::getEntitiesToView($items, $langcode);
+  }
+
+}
diff --git a/src/Plugin/Field/FieldFormatter/BlazyFormatter.php b/src/Plugin/Field/FieldFormatter/BlazyFormatter.php
index b8f0e52..6758e4a 100644
--- a/src/Plugin/Field/FieldFormatter/BlazyFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/BlazyFormatter.php
@@ -2,17 +2,6 @@
 
 namespace Drupal\blazy\Plugin\Field\FieldFormatter;
 
-use Drupal\Core\Field\FieldItemListInterface;
-use Drupal\Core\Form\FormStateInterface;
-use Drupal\Core\Field\FieldDefinitionInterface;
-use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
-use Drupal\Core\Template\Attribute;
-use Drupal\Component\Utility\Xss;
-use Symfony\Component\DependencyInjection\ContainerInterface;
-use Drupal\image\Plugin\Field\FieldFormatter\ImageFormatterBase;
-use Drupal\blazy\BlazyFormatterManager;
-use Drupal\blazy\Dejavu\BlazyDefault;
-
 /**
  * Plugin for the Blazy image formatter.
  *
@@ -22,161 +11,8 @@ use Drupal\blazy\Dejavu\BlazyDefault;
  *   field_types = {"image"}
  * )
  */
-class BlazyFormatter extends ImageFormatterBase implements ContainerFactoryPluginInterface {
-
-  /**
-   * The blazy manager service.
-   *
-   * @var \Drupal\blazy\BlazyFormatterManager
-   */
-  protected $blazyFormatterManager;
-
-  /**
-   * Constructs a BlazyFormatter object.
-   */
-  public function __construct($plugin_id, $plugin_definition, FieldDefinitionInterface $field_definition, array $settings, $label, $view_mode, array $third_party_settings, BlazyFormatterManager $blazy_formatter_manager) {
-    parent::__construct($plugin_id, $plugin_definition, $field_definition, $settings, $label, $view_mode, $third_party_settings);
-    $this->blazyFormatterManager = $blazy_formatter_manager;
-  }
-
-  /**
-   * {@inheritdoc}
-   */
-  public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition) {
-    return new static(
-      $plugin_id,
-      $plugin_definition,
-      $configuration['field_definition'],
-      $configuration['settings'],
-      $configuration['label'],
-      $configuration['view_mode'],
-      $configuration['third_party_settings'],
-      $container->get('blazy.formatter.manager')
-    );
-  }
-
-  /**
-   * {@inheritdoc}
-   */
-  public static function defaultSettings() {
-    return BlazyDefault::imageSettings();
-  }
-
-  /**
-   * Returns the blazy admin service.
-   */
-  public function admin() {
-    return \Drupal::service('blazy.admin.formatter');
-  }
-
-  /**
-   * {@inheritdoc}
-   */
-  public function viewElements(FieldItemListInterface $items, $langcode) {
-    $build = [];
-    $files = $this->getEntitiesToView($items, $langcode);
-
-    // Early opt-out if the field is empty.
-    if (empty($files)) {
-      return $build;
-    }
-
-    // Collects specific settings to this formatter.
-    $formatter             = $this->blazyFormatterManager;
-    $settings              = $this->getSettings();
-    $settings['namespace'] = $settings['item_id'] = $settings['lazy'] = 'blazy';
-    $settings['blazy']     = TRUE;
-
-    // Build the settings.
-    $build = ['settings' => $settings];
-    $formatter->buildSettings($build, $items);
-
-    // Build the elements.
-    $this->buildElements($build, $files);
-
-    $build['#blazy']    = $build['settings'];
-    $build['#attached'] = $formatter->attach($build['settings']);
-    unset($build['settings']);
-
-    return $build;
-  }
-
-  /**
-   * Build the Blazy elements.
-   */
-  public function buildElements(array &$build = [], $files) {
-    $settings = &$build['settings'];
-
-    foreach ($files as $delta => $file) {
-      /* @var Drupal\image\Plugin\Field\FieldType\ImageItem $item */
-      $box  = [];
-      $item = $file->_referringItem;
-
-      $settings['delta']     = $delta;
-      $settings['file_tags'] = $file->getCacheTags();
-      $settings['type']      = 'image';
-
-      $box['item']     = $item;
-      $box['settings'] = $settings;
-
-      // Build caption if so configured.
-      if (!empty($settings['caption'])) {
-        foreach ($settings['caption'] as $caption) {
-          $box['captions'][$caption]['content'] = empty($item->{$caption}) ? [] : ['#markup' => Xss::filterAdmin($item->{$caption})];
-          $box['captions'][$caption]['tag'] = $caption == 'title' ? 'h2' : 'div';
-          if (!isset($box['captions'][$caption]['attributes'])) {
-            $class = $caption == 'alt' ? 'description' : $caption;
-            $box['captions'][$caption]['attributes'] = new Attribute();
-            $box['captions'][$caption]['attributes']->addClass($settings['item_id'] . '__' . $class);
-          }
-        }
-      }
-
-      // Image with responsive image, lazyLoad, and lightbox supports.
-      $build[$delta] = $this->blazyFormatterManager->getImage($box);
-      unset($box);
-    }
-  }
-
-  /**
-   * {@inheritdoc}
-   */
-  public function settingsForm(array $form, FormStateInterface $form_state) {
-    $element    = [];
-    $definition = $this->getScopedFormElements();
-
-    $this->admin()->buildSettingsForm($element, $definition);
-
-    return $element;
-  }
-
-  /**
-   * Defines the scope for the form elements.
-   */
-  public function getScopedFormElements() {
-    $field       = $this->fieldDefinition;
-    $entity_type = $field->getTargetEntityTypeId();
-
-    return [
-      'background'        => TRUE,
-      'box_captions'      => TRUE,
-      'breakpoints'       => BlazyDefault::getConstantBreakpoints(),
-      'captions'          => ['title' => $this->t('Title'), 'alt' => $this->t('Alt')],
-      'current_view_mode' => $this->viewMode,
-      'entity_type'       => $entity_type,
-      'image_style_form'  => TRUE,
-      'media_switch_form' => TRUE,
-      'namespace'         => 'blazy',
-      'settings'          => $this->getSettings(),
-      'thumbnail_styles'  => TRUE,
-    ];
-  }
+class BlazyFormatter extends BlazyFileFormatterBase {
 
-  /**
-   * {@inheritdoc}
-   */
-  public function settingsSummary() {
-    return $this->admin()->settingsSummary($this);
-  }
+  use BlazyFormatterTrait;
 
 }
diff --git a/src/Plugin/Field/FieldFormatter/BlazyFormatterTrait.php b/src/Plugin/Field/FieldFormatter/BlazyFormatterTrait.php
new file mode 100644
index 0000000..b1e8e6f
--- /dev/null
+++ b/src/Plugin/Field/FieldFormatter/BlazyFormatterTrait.php
@@ -0,0 +1,124 @@
+<?php
+
+namespace Drupal\blazy\Plugin\Field\FieldFormatter;
+
+use Drupal\Core\Field\FieldItemListInterface;
+use Drupal\Core\Template\Attribute;
+use Drupal\Component\Utility\Xss;
+use Drupal\blazy\BlazyGrid;
+
+/**
+ * A Trait common for blazy image and file ER formatters.
+ */
+trait BlazyFormatterTrait {
+
+  /**
+   * Returns the blazy admin service.
+   */
+  public function admin() {
+    return \Drupal::service('blazy.admin.formatter');
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public function viewElements(FieldItemListInterface $items, $langcode) {
+    $build = [];
+    $files = $this->getEntitiesToView($items, $langcode);
+
+    // Early opt-out if the field is empty.
+    if (empty($files)) {
+      return $build;
+    }
+
+    // Collects specific settings to this formatter.
+    $settings              = $this->getSettings();
+    $settings['namespace'] = $settings['item_id'] = $settings['lazy'] = 'blazy';
+    $settings['blazy']     = TRUE;
+    $settings['plugin_id'] = $this->getPluginId();
+    $settings['_grid']     = !empty($settings['style']) && !empty($settings['grid']);
+
+    // Build the settings.
+    $build = ['settings' => $settings];
+
+    $this->blazyManager->buildSettings($build, $items);
+
+    // Build the elements.
+    $this->buildElements($build, $files);
+
+    $settings = $build['settings'];
+    unset($build['settings']);
+
+    // Supports Blazy multi-breakpoint images if provided.
+    $this->blazyManager->isBlazy($settings, $build[0]['#build']);
+
+    // Build grid if provided.
+    if ($settings['_grid']) {
+      $build = BlazyGrid::buildGrid($build, $settings);
+    }
+    else {
+      $build['#blazy'] = $settings;
+    }
+
+    $build['#attached'] = $this->blazyManager->attach($settings);
+    return $build;
+  }
+
+  /**
+   * Build the Blazy elements.
+   */
+  public function buildElements(array &$build = [], $files) {
+    $settings = $build['settings'];
+    $is_media = method_exists($this, 'getMediaItem');
+
+    foreach ($files as $delta => $file) {
+      /* @var Drupal\image\Plugin\Field\FieldType\ImageItem $item */
+      $item = $file->_referringItem;
+
+      $settings['delta']     = $delta;
+      $settings['file_tags'] = $file->getCacheTags();
+      $settings['type']      = 'image';
+      $settings['uri']       = $file->getFileUri();
+
+      $box['item']     = $item;
+      $box['settings'] = $settings;
+
+      // If imported Drupal\blazy\Dejavu\BlazyVideoTrait.
+      if ($is_media) {
+        /** @var Drupal\Core\Field\Plugin\Field\FieldType\EntityReferenceItem $item */
+        // EntityReferenceItem provides $item->entity Drupal\file\Entity\File.
+        if (!empty($this->getImageItem($item, $delta))) {
+          $box['item'] = $this->getImageItem($item)['item'];
+          $box['settings'] = array_merge($settings, $this->getImageItem($item)['settings']);
+        }
+
+        $this->getMediaItem($box, $file);
+      }
+
+      // Build caption if so configured.
+      if (!empty($settings['caption'])) {
+        foreach ($settings['caption'] as $caption) {
+          $box['captions'][$caption]['content'] = empty($box['item']->{$caption}) ? [] : ['#markup' => Xss::filterAdmin($box['item']->{$caption})];
+          $box['captions'][$caption]['tag'] = $caption == 'title' ? 'h2' : 'div';
+          if (!isset($box['captions'][$caption]['attributes'])) {
+            $class = $caption == 'alt' ? 'description' : $caption;
+            $box['captions'][$caption]['attributes'] = new Attribute();
+            $box['captions'][$caption]['attributes']->addClass($settings['item_id'] . '__' . $class);
+          }
+        }
+      }
+
+      // Image with grid, responsive image, lazyLoad, and lightbox supports.
+      $build[$delta] = $this->blazyManager->getImage($box);
+      unset($box);
+    }
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public function settingsSummary() {
+    return $this->admin()->settingsSummary($this);
+  }
+
+}
diff --git a/src/Plugin/views/field/BlazyViewsFieldFile.php b/src/Plugin/views/field/BlazyViewsFieldFile.php
index afa6a9d..6d89650 100644
--- a/src/Plugin/views/field/BlazyViewsFieldFile.php
+++ b/src/Plugin/views/field/BlazyViewsFieldFile.php
@@ -15,55 +15,23 @@ class BlazyViewsFieldFile extends BlazyViewsFieldPluginBase {
    * {@inheritdoc}
    */
   public function render(ResultRow $values) {
-    /** @var \Drupal\file\Entity\File $file */
+    /** @var \Drupal\file\Entity\File $entity */
     $entity   = $values->_entity;
-    $build    = [];
-    $settings = $this->options;
+    $settings = $this->mergedViewsSettings();
 
-    $settings['blazy'] = TRUE;
-    $settings['lazy']  = 'blazy';
-    $settings['ratio'] = 'fluid';
-    list($type,)       = explode('/', $entity->getMimeType(), 2);
-    $uri               = $entity->getFileUri();
+    $settings['delta'] = $values->index;
 
-    // Check if this file is an image.
-    $image_factory = \Drupal::service('image.factory');
-    if ($type == 'image' && ($image = $image_factory->get($uri)) && $image->isValid()) {
-      // Faking an ImageItem object.
-      $item             = new \stdClass();
-      $item->target_id  = $entity->id();
-      $item->width      = $image->getWidth();
-      $item->height     = $image->getHeight();
-      $item->alt        = '';
-      $item->title      = $entity->getFilename();
-      $image_data       = (array) $item;
-      $item->entity     = $entity;
-      $settings['type'] = 'image';
+    $data = $this->getImageItem($entity);
+    $data['settings'] = isset($data['settings']) ? array_merge($settings, $data['settings']) : $settings;
 
-      // Add settings.
-      $settings = array_merge($settings, $image_data);
-
-      // Build Blazy.
-      $data = ['item' => $item, 'settings' => $settings];
-      // $build = $this->blazyManager->getImage($data);
-      $build = $this->getImage($data);
-    }
-    else {
-      $build = $this->blazyManager->getEntityView($entity, $settings);
-
-      if (!$build) {
-        $build = ['#markup' => $entity->getFilename()];
-      }
-    }
-
-    return $build;
+    return $this->buildPreview($data, $entity, $entity->getFilename());
   }
 
   /**
    * Defines the scope for the form elements.
    */
   public function getScopedFormElements() {
-    return ['target_type' => 'file'] + parent::getScopedFormElements();
+    return ['multimedia' => TRUE, 'view_mode' => 'default'] + parent::getScopedFormElements();
   }
 
 }
diff --git a/src/Plugin/views/field/BlazyViewsFieldMedia.php b/src/Plugin/views/field/BlazyViewsFieldMedia.php
index 2a8e5e0..8f55d09 100644
--- a/src/Plugin/views/field/BlazyViewsFieldMedia.php
+++ b/src/Plugin/views/field/BlazyViewsFieldMedia.php
@@ -2,13 +2,7 @@
 
 namespace Drupal\blazy\Plugin\views\field;
 
-use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\views\ResultRow;
-use Drupal\video_embed_field\ProviderManagerInterface;
-use Drupal\blazy\BlazyManagerInterface;
-use Drupal\blazy\Dejavu\BlazyEntityTrait;
-use Drupal\blazy\Dejavu\BlazyVideoTrait;
-use Symfony\Component\DependencyInjection\ContainerInterface;
 
 /**
  * Defines a custom field that renders a preview of a media.
@@ -17,111 +11,24 @@ use Symfony\Component\DependencyInjection\ContainerInterface;
  */
 class BlazyViewsFieldMedia extends BlazyViewsFieldPluginBase {
 
-  use BlazyEntityTrait;
-  use BlazyVideoTrait;
-
-  /**
-   * The video provider manager.
-   *
-   * @var \Drupal\video_embed_field\ProviderManagerInterface
-   */
-  protected $providerManager;
-
-  /**
-   * Constructs a SlickViewsFieldPluginBase object.
-   */
-  public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityDisplayRepositoryInterface $entity_display_repository, BlazyManagerInterface $blazy_manager, ProviderManagerInterface $provider_manager) {
-    parent::__construct($configuration, $plugin_id, $plugin_definition, $entity_display_repository, $blazy_manager);
-    $this->providerManager = $provider_manager;
-  }
-
-  /**
-   * {@inheritdoc}
-   */
-  public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition) {
-    return new static($configuration, $plugin_id, $plugin_definition, $container->get('entity_display.repository'), $container->get('blazy.manager'), $container->get('video_embed_field.provider_manager'));
-  }
-
-  /**
-   * Returns the video_embed_field.provider_manager manager.
-   */
-  public function providerManager() {
-    return $this->providerManager;
-  }
-
   /**
    * {@inheritdoc}
    */
   public function render(ResultRow $values) {
-    /** @var \Drupal\media_entity\Entity\Media $entity */
-    $entity   = $values->_entity;
-    $fields   = $entity->getFields();
-    $build    = [];
-    $settings = $this->options;
-    $item     = NULL;
-    $bundle   = $entity->bundle();
-    $langcode = $entity->language()->getId();
-
-    $source_field[$bundle]    = $entity->getType()->getConfiguration()['source_field'];
-    $settings['blazy']        = TRUE;
-    $settings['lazy']         = 'blazy';
-    $settings['ratio']        = 'fluid';
-    $settings['source_field'] = $source_field[$bundle];
-    $settings['media_url']    = $entity->url();
-    $settings['media_id']     = $entity->id();
-    $settings['delta']        = 0;
-
-    $field_name = empty($settings['source_field']) ? '' : $settings['source_field'];
-    if (!empty($field_name)) {
-      $external_url = $this->getFieldString($entity, $field_name, $langcode);
-      $video = $this->providerManager;
-
-      /** @var \Drupal\video_embed_field\ProviderManagerInterface $video */
-      if ($external_url && $video->loadProviderFromInput($external_url)) {
-        $settings['media_switch'] = empty($settings['media_switch']) ? 'media' : $settings['media_switch'];
-        $settings['iframe_lazy']  = TRUE;
-        $settings['dimension']    = '640x360';
-
-        $this->buildVideo($settings, $external_url, $video);
-      }
-    }
-
-    // Main image can be separate image item from video thumbnail for highres.
-    // Fallback to default thumbnail if any, which has no file API.
-    // If Media entity via slick_media has defined source_field.
-    if (isset($fields['thumbnail']) && !empty($field_name)) {
-      $item = $fields['thumbnail']->get(0);
-      $settings['file_tags'] = ['file:' . $item->target_id];
-    }
-
-    if ($item) {
-      // Build Blazy.
-      $settings['thumbnail_style'] = 'thumbnail';
-      $data = ['item' => $item, 'settings' => $settings];
-      $build = $this->blazyManager->getImage($data);
-      $build['#attached'] = $this->blazyManager->attach($settings);
-      // $build = $this->getImage($data);
-    }
-    else {
-      $build = $this->blazyManager->getEntityView($entity, $settings);
+    /** @var \Drupal\media_entity\Entity\Media $media */
+    $media = $values->_entity;
 
-      if (!$build) {
-        $build = ['#markup' => $entity->label()];
-      }
-    }
+    $data['settings'] = $this->mergedViewsSettings();
+    $data['settings']['delta'] = $values->index;
 
-    return $build;
+    return $this->buildPreview($data, $media, $media->label());
   }
 
   /**
    * Defines the scope for the form elements.
    */
   public function getScopedFormElements() {
-    return [
-      'media'        => TRUE,
-      'media_switch' => TRUE,
-      'target_type'  => 'media',
-    ] + parent::getScopedFormElements();
+    return ['multimedia' => TRUE, 'view_mode' => 'default'] + parent::getScopedFormElements();
   }
 
 }
diff --git a/src/Plugin/views/field/BlazyViewsFieldPluginBase.php b/src/Plugin/views/field/BlazyViewsFieldPluginBase.php
index b6a3f49..279e0c3 100644
--- a/src/Plugin/views/field/BlazyViewsFieldPluginBase.php
+++ b/src/Plugin/views/field/BlazyViewsFieldPluginBase.php
@@ -2,11 +2,13 @@
 
 namespace Drupal\blazy\Plugin\views\field;
 
-use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\views\Plugin\views\field\FieldPluginBase;
 use Drupal\views\ResultRow;
+use Drupal\blazy\Dejavu\BlazyDefault;
 use Drupal\blazy\BlazyManagerInterface;
+use Drupal\blazy\Dejavu\BlazyEntityTrait;
+use Drupal\blazy\Dejavu\BlazyVideoTrait;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 
 /**
@@ -14,6 +16,9 @@ use Symfony\Component\DependencyInjection\ContainerInterface;
  */
 abstract class BlazyViewsFieldPluginBase extends FieldPluginBase {
 
+  use BlazyEntityTrait;
+  use BlazyVideoTrait;
+
   /**
    * The blazy service manager.
    *
@@ -24,9 +29,8 @@ abstract class BlazyViewsFieldPluginBase extends FieldPluginBase {
   /**
    * Constructs a BlazyViewsFieldPluginBase object.
    */
-  public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityDisplayRepositoryInterface $entity_display_repository, BlazyManagerInterface $blazy_manager) {
+  public function __construct(array $configuration, $plugin_id, $plugin_definition, BlazyManagerInterface $blazy_manager) {
     parent::__construct($configuration, $plugin_id, $plugin_definition);
-    $this->entityDisplayRepository = $entity_display_repository;
     $this->blazyManager = $blazy_manager;
   }
 
@@ -34,7 +38,14 @@ abstract class BlazyViewsFieldPluginBase extends FieldPluginBase {
    * {@inheritdoc}
    */
   public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition) {
-    return new static($configuration, $plugin_id, $plugin_definition, $container->get('entity_display.repository'), $container->get('blazy.manager'));
+    return new static($configuration, $plugin_id, $plugin_definition, $container->get('blazy.manager'));
+  }
+
+  /**
+   * Returns the blazy admin.
+   */
+  public function blazyAdmin() {
+    return \Drupal::service('blazy.admin');
   }
 
   /**
@@ -50,13 +61,8 @@ abstract class BlazyViewsFieldPluginBase extends FieldPluginBase {
   protected function defineOptions() {
     $options = parent::defineOptions();
 
-    $defaults = $this->getDefaultValues();
-    $definitions = $this->getScopedFormElements();
-
-    foreach ($defaults as $key => $default) {
-      if (isset($definitions[$key])) {
-        $options[$key] = array('default' => $default);
-      }
+    foreach ($this->getDefaultValues() as $key => $default) {
+      $options[$key] = ['default' => $default];
     }
     return $options;
   }
@@ -65,63 +71,23 @@ abstract class BlazyViewsFieldPluginBase extends FieldPluginBase {
    * {@inheritdoc}
    */
   public function buildOptionsForm(&$form, FormStateInterface $form_state) {
-    $is_colorbox  = function_exists('colorbox_theme');
-    $is_photobox  = function_exists('photobox_theme');
-    $image_styles = image_style_options(TRUE);
-    $photobox     = \Drupal::root() . '/libraries/photobox/photobox/jquery.photobox.js';
-    $definitions  = $this->getScopedFormElements();
-
-    if (is_file($photobox)) {
-      $is_photobox = TRUE;
-    }
-
-    if (isset($definitions['image_style'])) {
-      $form['image_style'] = [
-        '#type'          => 'select',
-        '#title'         => $this->t('Image style'),
-        '#options'       => $image_styles,
-        '#default_value' => $this->options['image_style'],
-        '#description'   => $this->t('This will use an image style where applicable.'),
-      ];
-    }
-
-    if (isset($definitions['view_mode']) && !empty($definitions['target_type'])) {
-      $vide_modes = $this->entityDisplayRepository->getViewModeOptions($definitions['target_type']);
-      $form['view_mode'] = [
-        '#type'          => 'select',
-        '#options'       => empty($vide_modes) ? [] : $vide_modes,
-        '#title'         => $this->t('View mode'),
-        '#default_value' => $this->options['view_mode'],
-        '#description'   => $this->t('Will attempt to fetch data from a view mode if applicable. Be sure the selected "View mode" is enabled, and the relevant fields are not hidden.'),
-      ];
-    }
+    $definitions = $this->getScopedFormElements();
 
-    if (isset($definitions['media_switch'])) {
-      $form['media_switch'] = [
-        '#type'         => 'select',
-        '#title'        => $this->t('Media switcher'),
-        '#options'      => [
-          'content' => $this->t('Image linked to content'),
-        ],
-        '#empty_option' => '- None -',
-        '#description'  => $this->t('May depend on the enabled supported modules: colorbox, photobox. Be sure to add Thumbnail style if using Photobox.'),
-      ];
-
-      if ($is_colorbox || $is_photobox || isset($definition['lightbox'])) {
-        if ($is_colorbox) {
-          $form['media_switch']['#options']['colorbox'] = $this->t('Image to colorbox');
-        }
+    $form += $this->blazyAdmin()->baseForm($definitions);
 
-        if ($is_photobox) {
-          $form['media_switch']['#options']['photobox'] = $this->t('Image to photobox');
+    foreach ($this->getDefaultValues() as $key => $default) {
+      if (isset($form[$key])) {
+        $form[$key]['#default_value'] = isset($this->options[$key]) ? $this->options[$key] : $default;
+        $form[$key]['#weight'] = 0;
+        if (in_array($key, ['box_style', 'box_media_style'])) {
+          $form[$key]['#empty_option'] = $this->t('- None -');
         }
       }
-
-      if (isset($definitions['media'])) {
-        $form['media_switch']['#options']['media'] = $this->t('Image to iframe');
-      }
     }
 
+    if (isset($form['view_mode'])) {
+      $form['view_mode']['#description'] = $this->t('Will fallback to this view mode, else entity label.');
+    }
     parent::buildOptionsForm($form, $form_state);
   }
 
@@ -140,37 +106,36 @@ abstract class BlazyViewsFieldPluginBase extends FieldPluginBase {
   }
 
   /**
-   * Returns Blazy without bells and whistles.
+   * Defines the default values.
    */
-  public function getImage($build = []) {
-    /* @var Drupal\image\Plugin\Field\FieldType\ImageItem $item */
-    $item     = $build['item'];
-    $settings = $build['settings'];
-
-    if (empty($item)) {
-      return [];
-    }
-
-    $this->blazyManager->getUrlDimensions($settings, $item, $settings['image_style']);
-
-    // Build Blazy.
+  public function getDefaultValues() {
     return [
-      '#theme'       => 'blazy',
-      '#item'        => $item,
-      '#settings'    => $settings,
-      '#attached'    => $this->blazyManager->attach($settings),
+      'box_style'       => '',
+      'box_media_style' => '',
+      'image_style'     => '',
+      'media_switch'    => 'media',
+      'ratio'           => 'fluid',
+      'thumbnail_style' => '',
+      'view_mode'       => 'default',
     ];
   }
 
   /**
-   * Defines the default values.
+   * Merges the settings.
    */
-  public function getDefaultValues() {
-    return [
-      'image_style'  => '',
-      'media_switch' => '',
-      'view_mode'    => '',
-    ];
+  public function mergedViewsSettings() {
+    $settings = [];
+
+    // Only fetch what we already asked for.
+    foreach ($this->getDefaultValues() as $key => $default) {
+      $settings[$key] = isset($this->options[$key]) ? $this->options[$key] : $default;
+    }
+
+    $settings['count'] = count($this->view->result);
+    $settings['current_view_mode'] = $this->view->current_display;
+    $settings['view_name'] = $this->view->storage->id();
+
+    return array_merge(BlazyDefault::entitySettings(), $settings);
   }
 
   /**
@@ -178,8 +143,9 @@ abstract class BlazyViewsFieldPluginBase extends FieldPluginBase {
    */
   public function getScopedFormElements() {
     return [
-      'image_style' => TRUE,
-      'view_mode'   => TRUE,
+      'settings' => array_filter($this->options),
+      'target_type' => $this->view->getBaseEntityType()->id(),
+      'thumbnail_style' => TRUE,
     ];
   }
 
diff --git a/src/Plugin/views/style/BlazyViews.php b/src/Plugin/views/style/BlazyViews.php
new file mode 100644
index 0000000..56321ef
--- /dev/null
+++ b/src/Plugin/views/style/BlazyViews.php
@@ -0,0 +1,132 @@
+<?php
+
+namespace Drupal\blazy\Plugin\views\style;
+
+use Drupal\Core\Form\FormStateInterface;
+use Drupal\views\Plugin\views\style\StylePluginBase;
+use Drupal\blazy\BlazyManagerInterface;
+use Drupal\blazy\Dejavu\BlazyDefault;
+use Drupal\blazy\BlazyGrid;
+use Symfony\Component\DependencyInjection\ContainerInterface;
+
+/**
+ * Blazy style plugin.
+ */
+class BlazyViews extends StylePluginBase {
+
+  /**
+   * {@inheritdoc}
+   */
+  protected $usesRowPlugin = TRUE;
+
+  /**
+   * {@inheritdoc}
+   */
+  protected $usesGrouping = FALSE;
+
+  /**
+   * The blazy manager service.
+   *
+   * @var \Drupal\blazy\BlazyManagerInterface
+   */
+  protected $blazyManager;
+
+  /**
+   * Constructs a BlazyManager object.
+   */
+  public function __construct(array $configuration, $plugin_id, $plugin_definition, BlazyManagerInterface $blazy_manager) {
+    parent::__construct($configuration, $plugin_id, $plugin_definition);
+    $this->blazyManager = $blazy_manager;
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition) {
+    return new static($configuration, $plugin_id, $plugin_definition, $container->get('blazy.manager'));
+  }
+
+  /**
+   * Returns the blazy admin.
+   */
+  public function admin() {
+    return \Drupal::service('blazy.admin');
+  }
+
+  /**
+   * Returns the blazy manager.
+   */
+  public function blazyManager() {
+    return $this->blazyManager;
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  protected function defineOptions() {
+    $options = [];
+    foreach (BlazyDefault::gridSettings() as $key => $value) {
+      $options[$key] = ['default' => $value];
+    }
+    return $options + parent::defineOptions();
+  }
+
+  /**
+   * Overrides \Drupal\views\Plugin\views\style\StylePluginBase::buildOptionsForm().
+   */
+  public function buildOptionsForm(&$form, FormStateInterface $form_state) {
+    $definition = [
+      'namespace' => 'blazy',
+      'grid_form' => TRUE,
+      'settings'  => $this->options,
+      'style'     => TRUE,
+      'form_opening_classes' => 'form--blazy form--slick form--views form--half has-tooltip',
+    ];
+
+    // Build the form.
+    $this->admin()->openingForm($form, $definition);
+    $this->admin()->gridForm($form, $definition);
+
+    if (isset($form['grid'])) {
+      $form['grid']['#description'] = $this->t('The amount of block grid columns for large monitors 64.063em.');
+    }
+
+    $this->admin()->finalizeForm($form, $definition);
+
+    // Blazy doesn't need complex grid with multiple groups.
+    unset($form['layout'], $form['preserve_keys'], $form['grid_header'], $form['visible_items'], $form['style']['#empty_option'], $form['grid']['#empty_option']);
+  }
+
+  /**
+   * Overrides StylePluginBase::render().
+   */
+  public function render() {
+    $settings = $this->options;
+
+    $settings['count']             = count($this->view->result);
+    $settings['current_view_mode'] = $this->view->current_display;
+    $settings['item_id']           = 'content';
+    $settings['namespace']         = 'blazy';
+    $settings['view_name']         = $this->view->storage->id();
+
+    $elements = [];
+    foreach ($this->renderGrouping($this->view->result, $settings['grouping']) as $rows) {
+      $items = [];
+      foreach ($rows as $index => $row) {
+        $this->view->row_index = $index;
+
+        $items[$index] = $this->view->rowPlugin->render($row);
+      }
+
+      // Supports Blazy formatter multi-breakpoint images if available.
+      $this->blazyManager->isBlazy($settings, $items[0]);
+      $elements = BlazyGrid::buildGrid($items, $settings);
+      $elements['#attached'] = $this->blazyManager->attach($settings);
+
+      unset($this->view->row_index, $items);
+    }
+
+    return $elements;
+  }
+
+}
diff --git a/templates/blazy.html.twig b/templates/blazy.html.twig
index 205103e..6d5b886 100644
--- a/templates/blazy.html.twig
+++ b/templates/blazy.html.twig
@@ -11,11 +11,11 @@
  * Available variables:
  *   - image: A collection of image data.
  *   - attributes: An array of attributes applied to .media container.
- *   - content_attributes: An array of content attributes, including iframe SRC.
+ *   - iframe_attributes: An array of iframe attributes, including iframe SRC.
  *   - settings: An array containing the given settings.
  *   - url: An optional URL the image can be linked to, can be any of
  *       audio/video, or entity URLs, when using Colorbox/Photobox, or Link to
- *       content.
+ *       content options.
  *   - url_attributes: An array of URL attributes, lightbox or content links.
  *
  * @see template_preprocess_blazy()
@@ -25,17 +25,18 @@
 #}
 {%
   set classes = [
-    'media', 'media--blazy',
+    'media',
+    settings.blazy ? 'media--blazy',
     settings.lazy ? 'media--loading',
-    settings.type ? 'media--' ~ settings.type,
-    settings.ratio ? 'media--ratio media--ratio--' ~ settings.ratio,
     settings.media_switch ? 'media--switch media--switch--' ~ settings.media_switch|clean_class,
     settings.player ? 'media--player',
-    settings.responsive_image_style_id ? 'media--responsive'
+    settings.ratio ? 'media--ratio media--ratio--' ~ settings.ratio,
+    settings.responsive_image_style_id ? 'media--responsive',
+    settings.type ? 'media--' ~ settings.type,
   ]
 %}
 {%
-  set content_classes = [
+  set iframe_classes = [
     'media__iframe',
     settings.ratio ? 'media__element'
   ]
@@ -43,42 +44,60 @@
 
 {% set player %}
   {% if settings.player %}
-    <iframe{{ content_attributes.addClass(content_classes) }} allowfullscreen></iframe>
-    {% if settings.media_switch %}
-      <span class="media__icon media__icon--close"></span>
-      <span class="media__icon media__icon--play"></span>
-    {% endif %}
+    {% block blazy_player %}
+      <iframe{{ iframe_attributes.addClass(iframe_classes) }} allowfullscreen></iframe>
+      {% if settings.media_switch %}
+        <span class="media__icon media__icon--close"></span>
+        <span class="media__icon media__icon--play" data-url="{{ settings.embed_url }}"></span>
+      {% endif %}
+    {% endblock %}
   {% endif %}
 {% endset %}
 
 {% set media %}
-  <div{{ attributes.addClass(classes) }}>
-    {{ image }}
-    {{ player }}
-    {{ settings.icon }}
-  </div>
+  {% block blazy_media %}
+    <div{{ attributes.addClass(classes) }}>
+      {{ image }}
+      {{ player }}
+      {{ settings.icon }}
+    </div>
+  {% endblock %}
 {% endset %}
 
-{% if url and not settings.player %}
-  <a href="{{ url }}"{{ url_attributes }}>{{ media }}</a>
+{% set blazy %}
+  {% block blazy_content %}
+    {% if url and not settings.player %}
+      <a href="{{ url }}"{{ url_attributes }}>{{ media }}</a>
 
-  {# Allows fieldable captions with A tag, such as social share. #}
-  {% if captions and captions.lightbox is defined %}
-    <div class="litebox-caption visually-hidden">
-      {{ captions.lightbox }}
-    </div>
-  {% endif %}
+      {# Allows fieldable captions with A tag, such as social share. #}
+      {% if captions and captions.lightbox is not empty %}
+        <div class="litebox-caption visually-hidden">
+          {{- captions.lightbox -}}
+        </div>
+      {% endif %}
 
-{% else %}
-  {{ media }}
-{% endif %}
+    {% else %}
+      {{- media -}}
+    {% endif %}
+  {% endblock %}
 
-{% if captions and captions.inline is defined %}
-  <div{{ caption_attributes }}>
-    {% for caption in captions.inline %}
-      {% if caption.content %}
-        <{{ caption.tag }} {{ caption.attributes }}>{{ caption.content }}</{{ caption.tag }}>
-      {% endif %}
-    {% endfor %}
+  {% if captions and captions.inline is defined %}
+    {% block blazy_caption %}
+      <div{{ caption_attributes }}>
+        {% for caption in captions.inline %}
+          {% if caption.content %}
+            <{{ caption.tag }} {{ caption.attributes }}>{{ caption.content }}</{{ caption.tag }}>
+          {% endif %}
+        {% endfor %}
+      </div>
+    {% endblock %}
+  {% endif %}
+{% endset %}
+
+{% if wrapper_attributes %}
+  <div{{ wrapper_attributes }}>
+    {{ blazy }}
   </div>
+{% else %}
+  {{ blazy }}
 {% endif %}
